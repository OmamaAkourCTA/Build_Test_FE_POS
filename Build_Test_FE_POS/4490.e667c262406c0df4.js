"use strict";(self.webpackChunkmarkaizaAdmin=self.webpackChunkmarkaizaAdmin||[]).push([[4490],{90454:(P,y,p)=>{p.d(y,{S:()=>A});var e=p(80529),t=p(94650),x=p(86260),C=p(32216),u=p(42953),m=p(39485);let o=(()=>{class r{constructor(s,a,c){this.activeModal=s,this.modalService=a,this.router=c,this.semdToConfirm=new t.vpe,this.sendToClose=new t.vpe}confirm(){this.semdToConfirm.emit()}close(){this.sendToClose.emit()}}return r.\u0275fac=function(s){return new(s||r)(t.Y36(u.Kz),t.Y36(u.FF),t.Y36(m.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-expense-confirm"]],inputs:{name:"name"},outputs:{semdToConfirm:"semdToConfirm",sendToClose:"sendToClose"},decls:9,vars:0,consts:[[1,"modal-body"],[1,"message"],[1,"modal-footer","text-center"],["type","button",1,"btn",3,"click"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4"),t._uU(3," Are you sure you want to save changes? "),t.qZA()()(),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return a.confirm()}),t._uU(6,"Yes"),t.qZA(),t.TgZ(7,"button",3),t.NdJ("click",function(){return a.close(),a.activeModal.close("Close click")}),t._uU(8,"No"),t.qZA()())},styles:[".message[_ngcontent-%COMP%]{text-align:center;padding:50px}.message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:90px;color:#75b878;margin-bottom:30px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:1px solid #ddd;width:120px;border-radius:30px;display:block;color:#000;font-size:14px;font-weight:600}"]}),r})();var g=p(72657),l=p(24006),f=p(36895),b=p(94349),T=p(82757),Z=p(96603);const D=["fileUpload"];function M(r,h){if(1&r&&(t.TgZ(0,"h3"),t._uU(1),t.qZA()),2&r){const s=t.oxw();t.xp6(1),t.hij(" ",s.expenseId?" View Expense ":"Create Expense "," ")}}function U(r,h){1&r&&(t.TgZ(0,"h3"),t._uU(1," Edit Expense "),t.qZA())}function I(r,h){if(1&r&&(t.TgZ(0,"div")(1,"p")(2,"b"),t._uU(3," Date : "),t.qZA(),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&r){const s=t.oxw();t.xp6(4),t.hij(" ",t.xi3(5,1,null==s.expenseDetails?null:s.expenseDetails.createdAt," d MMM y h:mm a")," ")}}function q(r,h){1&r&&t._UZ(0,"img",27)}function w(r,h){1&r&&t._UZ(0,"img",28)}function O(r,h){if(1&r){const s=t.EpF();t.TgZ(0,"div",23)(1,"button",24),t.NdJ("click",function(){t.CHM(s);const c=t.oxw();return t.KtG(c.editExpenseInfo())}),t.YNc(2,q,1,0,"img",25),t.YNc(3,w,1,0,"img",26),t.qZA()()}if(2&r){const s=t.oxw();t.xp6(2),t.Q6J("ngIf",s.isShowExpense),t.xp6(1),t.Q6J("ngIf",!s.isShowExpense)}}function N(r,h){1&r&&(t.TgZ(0,"span",30),t._uU(1," This field is required "),t.qZA())}function S(r,h){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,N,2,0,"span",29),t.qZA()),2&r){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.formValid.ExpenseCategoryId.errors.required)}}function R(r,h){1&r&&(t.TgZ(0,"span",32),t._uU(1," This field is required "),t.qZA())}function G(r,h){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,R,2,0,"span",31),t.qZA()),2&r){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.formValid.ExpenseAmount.errors.required)}}function k(r,h){1&r&&(t.TgZ(0,"div")(1,"span",33),t._uU(2," Amount must be greater than 0 "),t.qZA()())}function J(r,h){1&r&&(t.TgZ(0,"span",30),t._uU(1," This field is required "),t.qZA())}function L(r,h){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,J,2,0,"span",29),t.qZA()),2&r){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.formValid.InvoiceNo.errors.required)}}function Y(r,h){1&r&&(t.TgZ(0,"span",30),t._uU(1," This field is required "),t.qZA())}function j(r,h){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,Y,2,0,"span",29),t.qZA()),2&r){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.formValid.ExpenseTax.errors.required)}}function F(r,h){1&r&&(t.TgZ(0,"div")(1,"span",33),t._uU(2," Tax must be greater than 0 "),t.qZA()())}function Q(r,h){if(1&r&&(t.TgZ(0,"div",41)(1,"div",42),t._UZ(2,"img",43),t.qZA()()),2&r){const s=t.oxw(3);t.xp6(2),t.Q6J("src",s.filePath,t.LSH)}}function V(r,h){if(1&r&&(t.TgZ(0,"div",11),t._UZ(1,"div",9),t.YNc(2,Q,3,1,"div",40),t.qZA()),2&r){const s=t.oxw(2);t.xp6(2),t.Q6J("ngIf",s.isViewFile)}}function H(r,h){if(1&r){const s=t.EpF();t.TgZ(0,"div",44)(1,"div",45)(2,"p",46),t.NdJ("click",function(){t.CHM(s);const c=t.oxw(2);return t.KtG(c.openMdalImage())}),t._uU(3),t.qZA(),t.TgZ(4,"button",24),t.NdJ("click",function(){t.CHM(s);const c=t.oxw(2);return t.KtG(c.removeImageName())}),t._UZ(5,"img",47),t.qZA()()()}if(2&r){const s=t.oxw(2);t.xp6(3),t.Oqu(s.fileName)}}function z(r,h){if(1&r){const s=t.EpF();t.TgZ(0,"div",1)(1,"div",11)(2,"div",9)(3,"label"),t._uU(4," Attachment * "),t.qZA(),t.TgZ(5,"div",34),t.NdJ("files",function(c){t.CHM(s);const E=t.oxw();return t.KtG(E.filesDropped(c))})("enter",function(){t.CHM(s);const c=t.oxw();return t.KtG(c.enter=!c.enter)})("leave",function(){t.CHM(s);const c=t.oxw();return t.KtG(c.enter=!c.enter)})("click",function(){t.CHM(s);const c=t.MAs(13);return t.KtG(c.click())}),t.TgZ(6,"div",35),t._UZ(7,"img",36),t.TgZ(8,"h5"),t._uU(9,"Drag & drop files"),t.qZA(),t.TgZ(10,"p"),t._uU(11,"Supported formates: JPEG, PNG, PDF"),t.qZA()()(),t.TgZ(12,"input",37,38),t.NdJ("change",function(c){t.CHM(s);const E=t.oxw();return t.KtG(E.onSelectFile(c))}),t.qZA()()(),t._UZ(14,"div",11),t.YNc(15,V,3,1,"div",39),t._UZ(16,"div",11),t.YNc(17,H,6,1,"div",18),t.qZA()}if(2&r){const s=t.oxw();t.xp6(15),t.Q6J("ngIf",s.fileName),t.xp6(2),t.Q6J("ngIf",s.fileName)}}function B(r,h){if(1&r&&(t.TgZ(0,"div",50),t._UZ(1,"img",51),t.qZA()),2&r){const s=t.oxw(2);t.xp6(1),t.Q6J("src",null==s.expenseDetails||null==s.expenseDetails.files[0]?null:s.expenseDetails.files[0].attachmentPath,t.LSH)}}function K(r,h){if(1&r){const s=t.EpF();t.TgZ(0,"div",1)(1,"div",44)(2,"div",9)(3,"label"),t._uU(4," Attachment * "),t.qZA(),t._UZ(5,"br"),t.qZA(),t.YNc(6,B,2,1,"div",48),t.TgZ(7,"div",45)(8,"p",46),t.NdJ("click",function(){t.CHM(s);const c=t.oxw();return t.KtG(c.openMdalImageView())}),t._uU(9),t.qZA(),t.TgZ(10,"button",49),t.NdJ("click",function(){t.CHM(s);const c=t.oxw();return t.KtG(c.removeImg())}),t._UZ(11,"img",47),t.qZA()()()()}if(2&r){const s=t.oxw();t.xp6(6),t.Q6J("ngIf",s.isViewFile),t.xp6(3),t.hij(" Receipts - ",s.formGroup.get("ExpenseRecordId").value," "),t.xp6(1),t.Q6J("disabled",!s.isShowExpense&&s.expenseId)}}function d(r,h){if(1&r&&(t.TgZ(0,"div")(1,"span",30),t._uU(2),t.qZA()()),2&r){const s=t.oxw();t.xp6(2),t.hij(" ",s.errorMsgUplaod," ")}}function _(r,h){1&r&&(t.TgZ(0,"div")(1,"span",30),t._uU(2," This field is required "),t.qZA()())}function n(r,h){if(1&r&&(t.TgZ(0,"div",44)(1,"p",52),t._uU(2),t.qZA(),t.TgZ(3,"div",53),t._UZ(4,"div",54),t.qZA()()),2&r){const s=t.oxw();t.xp6(2),t.hij(" ",s.progress," % "),t.xp6(2),t.Udp("width",s.progress,"%")}}function i(r,h){if(1&r&&(t.TgZ(0,"button",55),t._uU(1," Submit "),t.qZA()),2&r){const s=t.oxw();t.Q6J("disabled",!s.isShowExpense&&s.expenseId)}}function v(r,h){1&r&&(t.TgZ(0,"button",56),t._UZ(1,"i",57),t.qZA())}let A=(()=>{class r{constructor(s,a,c,E,$){this.pettyCashService=s,this.route=a,this.fb=c,this.modalService=E,this.activeModal=$,this.submitted=!1,this.isShowToUplaod=!0,this.sendtoLoadData=new t.vpe,this.myFiles=[],this.urls=[],this.progress=0,this.isShowExpense=!1}ngOnInit(){this.getForm(),this.getExpenseCategory(),this.expenseId&&(console.log(this.expenseId),this.isShowToUplaod=!1,this.GetExpenseDetails())}getForm(){this.formGroup=this.fb.group({ExpenseRecordId:0,InvoiceNo:[""],ExpenseCategoryId:null,ExpenseAmount:"",ExpenseTax:[""],ExpenseNotes:[""],Status:2001,Attachments:null})}get formValid(){return this.formGroup.controls}onSubmit(){0==this.formGroup.get("ExpenseRecordId")?.value?this.AddExpense():this.EditExpense()}AddExpense(){if(this.isLoading=!0,this.submitted=!0,this.formGroup.invalid||this.formGroup.get("ExpenseAmount")?.value<=0||this.formGroup.get("ExpenseTax")?.value<=0||null==this.formGroup.get("Attachments").value)return console.log("invalid amount"),this.isLoading=!1,window.scroll(0,0);{const s=new FormData;return s.append("InvoiceNo",this.formGroup.get("InvoiceNo")?.value),s.append("ExpenseCategoryId",this.formGroup.get("ExpenseCategoryId")?.value),s.append("ExpenseAmount",this.formGroup.get("ExpenseAmount")?.value),s.append("ExpenseTax",this.formGroup.get("ExpenseTax")?.value),s.append("ExpenseNotes",this.formGroup.get("ExpenseNotes")?.value),s.append("Attachments",this.formGroup.get("Attachments")?.value),this.pettyCashService.AddExpense(s).subscribe(a=>{if(a.type===e.dt.UploadProgress)this.progress=Math.round(a.loaded/a.total*100);else if(a.type===e.dt.Response)if(setTimeout(()=>{this.progress=0},1500),1==a.body.isSuccess){this.isLoading=!1;const c=this.modalService.open(x.i);c.componentInstance.type="success",c.componentInstance.message="Your expense is added successfully",c.componentInstance.routeName="/petty-cash",c.componentInstance.name="add",setTimeout(()=>{this.sendtoLoadData.emit()},2e3)}else{this.isLoading=!1;const c=this.modalService.open(x.i);c.componentInstance.type="error",c.componentInstance.messageError=a.body.errors||a.body.Errors,this.errorMessage=a.body.Errors||a.body.errors}})}}EditExpense(){if(this.isLoading=!0,this.formGroup.invalid||this.formGroup.get("ExpenseAmount")?.value<=0||this.formGroup.get("ExpenseTax")?.value<=0)return console.log("invalid amount"),this.isLoading=!1,window.scroll(0,0);{const s=new FormData;return s.append("ExpenseRecordId",this.formGroup.get("ExpenseRecordId")?.value),s.append("InvoiceNo",this.formGroup.get("InvoiceNo")?.value),s.append("ExpenseCategoryId",this.formGroup.get("ExpenseCategoryId")?.value),s.append("ExpenseAmount",this.formGroup.get("ExpenseAmount")?.value),s.append("ExpenseTax",this.formGroup.get("ExpenseTax")?.value),s.append("ExpenseNotes",this.formGroup.get("ExpenseNotes")?.value),s.append("Attachments",this.formGroup.get("Attachments")?.value),this.pettyCashService.EditExpense(s).subscribe(a=>{if(a.type===e.dt.UploadProgress)this.progress=Math.round(a.loaded/a.total*100);else if(a.type===e.dt.Response)if(setTimeout(()=>{this.progress=0},1500),1==a.body.isSuccess){this.isLoading=!1;const c=this.modalService.open(x.i);c.componentInstance.type="success",c.componentInstance.message="Your expense is updated successfully",c.componentInstance.routeName="/petty-cash",c.componentInstance.name="add",console.log("semdToConfirm"),setTimeout(()=>{this.sendtoLoadData.emit()},2e3)}else{this.isLoading=!1;const c=this.modalService.open(x.i);c.componentInstance.type="error",c.componentInstance.messageError=a?.error?.errors,this.errorMessage=a.Errors||a.errors}})}}GetExpenseDetails(){this.pettyCashService.GetExpenseDetails(this.expenseId).subscribe(s=>{s&&(this.expenseDetails=s.data,console.log(this.expenseDetails),this.formGroup.get("ExpenseRecordId").patchValue(this.expenseDetails.expenseRecordId),this.formGroup.get("ExpenseAmount").patchValue(this.expenseDetails.expenseAmount),this.formGroup.get("InvoiceNo").patchValue(this.expenseDetails.invoiceNo),this.formGroup.get("ExpenseCategoryId").patchValue(this.expenseDetails.expenseCategoryId),this.formGroup.get("ExpenseTax").patchValue(this.expenseDetails.expenseTax),this.formGroup.get("ExpenseNotes").patchValue(this.expenseDetails.expenseNotes),this.formGroup.get("Status").patchValue(this.expenseDetails.status),this.formGroup.get("Attachments").patchValue(this.expenseDetails.Attachments),this.formGroup.controls.ExpenseCategoryId.disable())})}getExpenseCategory(){this.pettyCashService.getLookupsById(12).subscribe(s=>{this.expenseCategory=s.data.map(a=>({id:a.id,name:a.name[0].lookupName}))},s=>{this.errorMessage=s.message})}filesDropped(s){if(this.enter=!1,"image/jpeg"==s[0].file.type||"image/jpg"==s[0].file.type||"image/png"==s[0].file.type||"application/pdf"==s[0].file.type){if(s&&s[0]){var a=new FileReader;a.onload=c=>{this.filePath=c.target.result},a.readAsDataURL(s[0].file)}this.fileName=s[0].file.name,this.errorMsgUplaod="",this.formGroup.get("Attachments")?.patchValue(s[0].file)}else this.errorMsgUplaod="This file not support , Supported formates: JPEG, JPG, PNG, PDF"}removeImageName(){this.fileName="",this.filePath="",this.errorMsgUplaod="",this.InputVar.nativeElement.value="",this.formGroup.get("Attachments")?.patchValue(null)}onSelectFile(s){if(console.log(s),console.log(s.target.files[0]),s.target.files&&s.target.files[0]){var a=new FileReader;a.onload=c=>{this.filePath=c.target.result},a.readAsDataURL(s.target.files[0])}this.fileName=s.target.files[0].name,this.errorMsgUplaod="",console.log(s.target.files[0]),this.formGroup.get("Attachments")?.patchValue(s.target.files[0])}removeImage(s){this.urls.splice(s,1),this.myFiles.splice(s,1)}removeImg(){this.errorMsgUplaod="",this.isShowToUplaod=!this.isShowToUplaod}openMdalImage(){this.modalService.open(C.M).componentInstance.imageUploadedView=this.filePath}openMdalImageView(){this.modalService.open(C.M).componentInstance.imageUploadedView=this.expenseDetails?.files[0]?.attachmentPath}numberOnly(s){const a=s.which?s.which:s.keyCode;return!(a>31&&(a<48||a>57))}editExpenseInfo(){if(0==this.isShowExpense)this.isShowExpense=!0,this.formGroup.controls.ExpenseCategoryId.enable();else if(1==this.isShowExpense){this.formGroup.controls.ExpenseCategoryId.disable();const s=this.modalService.open(o);s.componentInstance.name="edit",s.componentInstance.semdToConfirm.subscribe(a=>{console.log("result",a),this.isShowExpense=!1,this.modalService.dismissAll(),this.onSubmit()}),s.componentInstance.sendToClose.subscribe(a=>{console.log("resulttoclose",a),this.isShowExpense=!1})}}}return r.\u0275fac=function(s){return new(s||r)(t.Y36(g.$),t.Y36(m.gz),t.Y36(l.qu),t.Y36(u.FF),t.Y36(u.Kz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-add-petty-cash"]],viewQuery:function(s,a){if(1&s&&t.Gf(D,5),2&s){let c;t.iGM(c=t.CRH())&&(a.InputVar=c.first)}},inputs:{expenseId:"expenseId"},outputs:{sendtoLoadData:"sendtoLoadData"},decls:59,vars:23,consts:[[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"modal-head"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"card-form","position-relative"],["class","edit-btn float-end",4,"ngIf"],[1,"col-md-6","col-sm-12"],[1,"form-group","mb-3"],["placeholder","Select category","bindLabel","name","bindValue","id","formControlName","ExpenseCategoryId","name","ExpenseCategoryId","required","",3,"items"],[1,"col-md-6"],[1,"form-group"],["name","ExpenseAmount","type","number","placeholder","","formControlName","ExpenseAmount","name","ExpenseAmount","required","",1,"form-control",3,"readOnly"],["name","name","type","text","placeholder","","formControlName","InvoiceNo","name","InvoiceNo","required","","numbersOnly","",1,"form-control",3,"readOnly"],["name","name","type","number","placeholder","","formControlName","ExpenseTax","name","ExpenseTax","required","",1,"form-control",3,"readOnly"],["rows","5","formControlName","ExpenseNotes","name","ExpenseNotes","maxlength","200",1,"form-control",3,"readOnly"],["class","row",4,"ngIf"],["class","col-md-8",4,"ngIf"],[1,"btns-group","my-2","mx-0"],["type","button",1,"btn","btn-cancel",3,"click"],["type","submit","class","btn btn-save",3,"disabled",4,"ngIf"],["type","button","class","btn btn-save btn-load","disabled","",4,"ngIf"],[1,"edit-btn","float-end"],["type","button",1,"btn",3,"click"],["src","assets/images/edit.png","class","save-img","alt","",4,"ngIf"],["src","assets/images/edit5.png","alt","",4,"ngIf"],["src","assets/images/edit.png","alt","",1,"save-img"],["src","assets/images/edit5.png","alt",""],["class","error",4,"ngIf"],[1,"error"],["class","error pb-0",4,"ngIf"],[1,"error","pb-0"],[1,"error","pt-1"],["appImageDrag","","accept",".png,.jpg,.jpeg,.pdf",1,"card-upload","my-3",3,"files","enter","leave","click"],[1,"my-3"],["src","assets/images/upload.png","alt",""],["type","file","accept",".png,.jpg,.jpeg,.pdf","id","uploadFile","hidden","",1,"form-control",3,"change"],["fileUpload",""],["class","col-md-6",4,"ngIf"],["class","card-upload",4,"ngIf"],[1,"card-upload"],[1,"card-img"],[3,"src"],[1,"col-md-8"],[1,"uploadedfile"],[3,"click"],["src","assets/images/trash.png","alt",""],["class","fileView",4,"ngIf"],["type","button",1,"btn",3,"disabled","click"],[1,"fileView"],["alt","",3,"src"],[1,"mb-1","mt-3"],["role","progressbar","aria-label","Example 5px high","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress",2,"height","5px"],[1,"progress-bar"],["type","submit",1,"btn","btn-save",3,"disabled"],["type","button","disabled","",1,"btn","btn-save","btn-load"],[1,"fa-solid","fa-circle-notch","fa-spin"]],template:function(s,a){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div"),t.YNc(5,M,2,1,"h3",4),t.YNc(6,U,2,0,"h3",4),t.qZA(),t.YNc(7,I,6,4,"div",4),t.qZA(),t.TgZ(8,"form",5),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(9,"div",6),t.YNc(10,O,4,2,"div",7),t.TgZ(11,"div",1),t._UZ(12,"div",2),t.TgZ(13,"div",8)(14,"div",9)(15,"label"),t._uU(16,"Category *"),t.qZA(),t._UZ(17,"ng-select",10),t.YNc(18,S,2,1,"div",4),t.qZA()(),t._UZ(19,"div",11),t.TgZ(20,"div",11)(21,"div",12)(22,"label"),t._uU(23,"Amount * "),t.qZA(),t._UZ(24,"input",13),t.YNc(25,G,2,1,"div",4),t.YNc(26,k,3,0,"div",4),t.qZA()(),t.TgZ(27,"div",11)(28,"div",12)(29,"label"),t._uU(30,"Invoice Number *"),t.qZA(),t._UZ(31,"input",14),t.YNc(32,L,2,1,"div",4),t.qZA()(),t.TgZ(33,"div",11)(34,"div",12)(35,"label"),t._uU(36,"Tax *"),t.qZA(),t._UZ(37,"input",15),t.YNc(38,j,2,1,"div",4),t.YNc(39,F,3,0,"div",4),t.qZA()(),t._UZ(40,"div",11),t.TgZ(41,"div",2)(42,"div",9)(43,"label"),t._uU(44," Notes "),t.qZA(),t._UZ(45,"textarea",16),t.qZA()(),t.YNc(46,z,18,2,"div",17),t.YNc(47,K,12,3,"div",17),t.YNc(48,d,3,1,"div",4),t.YNc(49,_,3,0,"div",4),t.TgZ(50,"div",1),t.YNc(51,n,5,3,"div",18),t.qZA()()(),t.TgZ(52,"div",1)(53,"div",2)(54,"div",19)(55,"button",20),t.NdJ("click",function(){return a.activeModal.close("Close click")}),t._uU(56,"Cancel"),t.qZA(),t.YNc(57,i,2,1,"button",21),t.YNc(58,v,2,0,"button",22),t.qZA()()()()()()()),2&s&&(t.xp6(5),t.Q6J("ngIf",!a.isShowExpense),t.xp6(1),t.Q6J("ngIf",a.isShowExpense),t.xp6(1),t.Q6J("ngIf",null==a.expenseDetails?null:a.expenseDetails.createdAt),t.xp6(1),t.Q6J("formGroup",a.formGroup),t.xp6(2),t.Q6J("ngIf",a.expenseId),t.xp6(7),t.Q6J("items",a.expenseCategory),t.xp6(1),t.Q6J("ngIf",a.submitted&&a.formValid.ExpenseCategoryId.invalid&&(a.formValid.ExpenseCategoryId.dirty||a.formValid.ExpenseCategoryId.touched)),t.xp6(6),t.Q6J("readOnly",!a.isShowExpense&&a.expenseId),t.xp6(1),t.Q6J("ngIf",a.submitted&&a.formValid.ExpenseAmount.invalid||a.formValid.ExpenseAmount.invalid&&(a.formValid.ExpenseAmount.dirty||a.formValid.ExpenseAmount.touched)),t.xp6(1),t.Q6J("ngIf",a.formGroup.get("ExpenseAmount").value<=0&&a.formGroup.get("ExpenseAmount").touched),t.xp6(5),t.Q6J("readOnly",!a.isShowExpense&&a.expenseId),t.xp6(1),t.Q6J("ngIf",a.submitted&&a.formValid.InvoiceNo.invalid||a.formValid.InvoiceNo.invalid&&(a.formValid.InvoiceNo.dirty||a.formValid.InvoiceNo.touched)),t.xp6(5),t.Q6J("readOnly",!a.isShowExpense&&a.expenseId),t.xp6(1),t.Q6J("ngIf",a.submitted&&a.formValid.ExpenseTax.invalid||a.formValid.ExpenseTax.invalid&&(a.formValid.ExpenseTax.dirty||a.formValid.ExpenseTax.touched)),t.xp6(1),t.Q6J("ngIf",a.formGroup.get("ExpenseTax").value<=0&&a.formGroup.get("ExpenseTax").touched),t.xp6(6),t.Q6J("readOnly",!a.isShowExpense&&a.expenseId),t.xp6(1),t.Q6J("ngIf",a.isShowToUplaod),t.xp6(1),t.Q6J("ngIf",!a.isShowToUplaod),t.xp6(1),t.Q6J("ngIf",a.errorMsgUplaod),t.xp6(1),t.Q6J("ngIf",a.submitted&&!a.formGroup.get("Attachments").value),t.xp6(2),t.Q6J("ngIf",a.progress>0),t.xp6(6),t.Q6J("ngIf",!a.isLoading),t.xp6(1),t.Q6J("ngIf",a.isLoading))},dependencies:[f.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u,b.w9,T.N,Z.z,f.uU],styles:[".modal-body[_ngcontent-%COMP%]{padding:20px}.card-form[_ngcontent-%COMP%]{background:#ffffff;border:0px solid #c4cdd5;box-shadow:none;border-radius:8px;margin:0;padding:0}.card-page[_ngcontent-%COMP%]{padding:30px}.modal-head[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #c4cdd5;display:flex;justify-content:space-between;align-items:center}.modal-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:18px;color:#1b212d;padding:5px 0 15px;margin:0}.modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#1b212d}.modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#929eae}textarea[_ngcontent-%COMP%]{height:80px!important}.card-upload[_ngcontent-%COMP%]{border:1px dashed #939aa8;text-align:center;padding:10px;border-radius:10px;margin:10px 0;cursor:pointer}.card-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;margin-bottom:15px}.card-upload[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;font-size:18px;color:#0f0f0f}.card-upload[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:18px;color:#676767}.btn-upload[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border-radius:10px;padding:12px 35px;font-size:16px;font-weight:600;margin:10px 0}.card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px;margin:0}.overlay-bi[_ngcontent-%COMP%]{background-color:#c7c7c736;position:absolute;inset:0;z-index:1}.card-form[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{margin:0;z-index:5;position:relative}.card-form[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0}.uploadedfile[_ngcontent-%COMP%]{border:1px solid #11af22;border-radius:4px;display:flex;justify-content:space-between;align-items:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff3f3;border-radius:50%;margin:0 10px;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}.uploadedfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding:10px;color:#696969;margin:0;cursor:pointer}.uplod[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#676767}.save-img[_ngcontent-%COMP%]{width:22px!important}.fileView[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.btn[_ngcontent-%COMP%]:disabled, .btn.disabled[_ngcontent-%COMP%]{background:#f1f3f3!important;color:#9b9b9b!important;border:1px solid #f1f3f3;cursor:initial}.card-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.progress-bar[_ngcontent-%COMP%]{background-color:#dc3545}"]}),r})()},32216:(P,y,p)=>{p.d(y,{M:()=>g});var e=p(94650),t=p(42953),x=p(39485),C=p(36895);function u(l,f){if(1&l&&(e.TgZ(0,"div",5),e._UZ(1,"img",6),e.qZA()),2&l){const b=e.oxw();e.xp6(1),e.Q6J("src",b.imagePath,e.LSH)}}function m(l,f){1&l&&(e.TgZ(0,"div",7)(1,"h5"),e._uU(2," No Found "),e.qZA()())}function o(l,f){if(1&l&&(e.TgZ(0,"div",7)(1,"div",8),e._UZ(2,"img",9)(3,"br"),e.TgZ(4,"a",10),e._uU(5,"click to open pdf "),e.qZA()()()),2&l){const b=e.oxw();e.xp6(4),e.Q6J("href",b.imagePath,e.LSH)}}let g=(()=>{class l{constructor(b,T,Z){this.activeModal=b,this.modalService=T,this.router=Z}ngOnInit(){this.expenseDetails&&("pdf"==this.expenseDetails?.files[0]?.attachmentPath.slice(-3)?(this.isPdf=!0,this.imagePath=this.expenseDetails?.files[0]?.attachmentPath):this.imagePath=this.expenseDetails?.files[0]?.attachmentPath),this.imageUploadedView&&("pdf"==this.imageUploadedView.slice(-3)?(this.isPdf=!0,this.imagePath=this.imageUploadedView):this.imagePath=this.imageUploadedView)}}return l.\u0275fac=function(b){return new(b||l)(e.Y36(t.Kz),e.Y36(t.FF),e.Y36(x.F0))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-modal-image"]],inputs:{expenseDetails:"expenseDetails",imageUploadedView:"imageUploadedView"},decls:7,vars:3,consts:[[1,"modal-body"],["class","imagepath",4,"ngIf"],["class","imagepath-no",4,"ngIf"],[1,"btns-group","my-2","mx-0"],["type","button",1,"btn","btn-cancel",3,"click"],[1,"imagepath"],["alt","",3,"src"],[1,"imagepath-no"],[1,"card-pdf"],["src","assets/images/pdf.png","alt",""],["target","_blank",3,"href"]],template:function(b,T){1&b&&(e.TgZ(0,"div",0),e.YNc(1,u,2,1,"div",1),e.YNc(2,m,3,0,"div",2),e.YNc(3,o,6,1,"div",2),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return T.activeModal.close("Close click")}),e._uU(6,"Close"),e.qZA()()()),2&b&&(e.xp6(1),e.Q6J("ngIf",T.imagePath),e.xp6(1),e.Q6J("ngIf",!T.imagePath),e.xp6(1),e.Q6J("ngIf",1==T.isPdf))},dependencies:[C.O5],styles:[".imagepath[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.imagepath-no[_ngcontent-%COMP%]{text-align:center;padding:50px}.btns-group[_ngcontent-%COMP%]{display:flex;justify-content:center}.btns-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#f8f8f8;color:#dc3545;border-radius:10px;padding:12px 35px;font-weight:600}.card-pdf[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px}.card-pdf[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;font-size:18px;font-weight:600;display:block;padding:15px}"]}),l})()},22981:(P,y,p)=>{p.d(y,{i:()=>K});var e=p(94650),t=p(24006),x=p(72657),C=p(69082),u=p(29444),m=p(39485),o=p(42953),g=p(36895),l=p(49973),f=p(85746),b=p(67711),T=p(32216);let Z=(()=>{class d{constructor(n,i){this.modalService=n,this.activeModal=i,this.sendtoLoadData=new e.vpe}ngOnInit(){}openMdalImageView(){this.modalService.open(T.M).componentInstance.imageUploadedView=this.expenseDetails?.files[0]?.attachmentPath}}return d.\u0275fac=function(n){return new(n||d)(e.Y36(o.FF),e.Y36(o.Kz))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-expense-details-modal"]],inputs:{expenseDetails:"expenseDetails"},outputs:{sendtoLoadData:"sendtoLoadData"},decls:87,vars:32,consts:[[1,"modal-header","justify-content-between"],[1,"mb-0","fw-600"],[1,"d-flex","flex-column"],[1,"m-0","font-14","fw-600"],[1,"primary-clr"],[1,"light-gray"],[1,"modal-body"],[1,"row"],[1,"col-md-3"],[1,"card-sm"],[1,"mb-3"],[1,"pending","mt-2"],[1,"col-md-8"],[1,"form-group","mb-2"],[1,"fw-600"],[1,"uploadedfile","p-2"],[1,"m-0",3,"click"],[1,"d-flex","align-items-center","gap-2"],["height","20","src","assets/images/eye.png","alt","",1,"cursor-pointer",3,"click"],["download","",3,"href"],["height","20","src","assets/images/Download.png","alt",""],[1,"col-md-12","my-2"],[1,"note"],[1,"modal-footer","btns-group","m-0"],["type","button",1,"btn","btn-cancel",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"h5",1),e._uU(2,"Expense Details"),e.qZA(),e.TgZ(3,"div",2)(4,"p",3),e._uU(5,"Invoice No: "),e.TgZ(6,"span",4),e._uU(7),e.qZA()(),e.TgZ(8,"p",3),e._uU(9,"Invoice Date: "),e.TgZ(10,"span",5),e._uU(11),e.ALo(12,"date"),e.qZA()(),e.TgZ(13,"p",3),e._uU(14,"Expense Creation Date: "),e.TgZ(15,"span",5),e._uU(16),e.ALo(17,"date"),e.qZA()()()(),e.TgZ(18,"div",6)(19,"div",7)(20,"div",8)(21,"div",9)(22,"h4"),e._uU(23," Employe Name "),e.qZA(),e.TgZ(24,"p"),e._uU(25),e.qZA()()(),e.TgZ(26,"div",8)(27,"div",9)(28,"h4"),e._uU(29," Category"),e.qZA(),e.TgZ(30,"p"),e._uU(31),e.qZA()()(),e.TgZ(32,"div",8)(33,"div",9)(34,"h4"),e._uU(35," Amount "),e.qZA(),e.TgZ(36,"p"),e._uU(37),e.ALo(38,"number"),e.qZA()()(),e.TgZ(39,"div",8)(40,"div",9)(41,"h4"),e._uU(42," Tax "),e.qZA(),e.TgZ(43,"p"),e._uU(44),e.qZA()()(),e.TgZ(45,"div",8)(46,"div",9)(47,"h4"),e._uU(48," Total Amount "),e.qZA(),e.TgZ(49,"p"),e._uU(50),e.ALo(51,"number"),e.qZA()()(),e.TgZ(52,"div",8)(53,"div",9)(54,"h4"),e._uU(55," Invoice Date "),e.qZA(),e.TgZ(56,"p"),e._uU(57),e.ALo(58,"date"),e.qZA()()(),e.TgZ(59,"div",8)(60,"div",9)(61,"h4",10),e._uU(62," Status "),e.qZA(),e.TgZ(63,"span",11),e._uU(64),e.qZA()()(),e.TgZ(65,"div",12)(66,"div",13)(67,"label",14),e._uU(68,"Attachment"),e.qZA()(),e.TgZ(69,"div",15)(70,"p",16),e.NdJ("click",function(){return i.openMdalImageView()}),e._uU(71),e.qZA(),e.TgZ(72,"div",17)(73,"div")(74,"img",18),e.NdJ("click",function(){return i.openMdalImageView()}),e.qZA()(),e.TgZ(75,"a",19),e._UZ(76,"img",20),e.qZA()()()(),e.TgZ(77,"div",21)(78,"div",9)(79,"h4"),e._uU(80," Note "),e.qZA(),e.TgZ(81,"div",22)(82,"p"),e._uU(83),e.qZA()()()()()(),e.TgZ(84,"div",23)(85,"button",24),e.NdJ("click",function(){return i.activeModal.close()}),e._uU(86,"Cancel"),e.qZA()()),2&n&&(e.xp6(7),e.Oqu(null==i.expenseDetails?null:i.expenseDetails.invoiceNo),e.xp6(4),e.Oqu(e.xi3(12,17,null==i.expenseDetails?null:i.expenseDetails.invoiceDate,"mediumDate")),e.xp6(5),e.Oqu(e.xi3(17,20,null==i.expenseDetails?null:i.expenseDetails.createdAt,"mediumDate")),e.xp6(9),e.hij(" ",null==i.expenseDetails?null:i.expenseDetails.createdBy.fullName," "),e.xp6(6),e.hij(" ",null==i.expenseDetails?null:i.expenseDetails.category[0].lookupName," "),e.xp6(6),e.hij(" ",e.xi3(38,23,null==i.expenseDetails?null:i.expenseDetails.expenseAmount,"2.3-3")," JOD "),e.xp6(7),e.hij(" ",null==i.expenseDetails?null:i.expenseDetails.expenseTax," %"),e.xp6(6),e.hij(" ",e.xi3(51,26,null==i.expenseDetails?null:i.expenseDetails.expenseTotalAmount,"2.3-3")," JOD "),e.xp6(7),e.hij(" ",e.xi3(58,29,null==i.expenseDetails?null:i.expenseDetails.invoiceDate,"mediumDate"),""),e.xp6(6),e.Udp("background-color",null==i.expenseDetails||null==i.expenseDetails.statusObj?null:i.expenseDetails.statusObj.lookupBGColor)("color",null==i.expenseDetails||null==i.expenseDetails.statusObj?null:i.expenseDetails.statusObj.lookupTextColor),e.xp6(1),e.hij(" ",null==i.expenseDetails||null==i.expenseDetails.statusObj?null:i.expenseDetails.statusObj.description," "),e.xp6(7),e.hij(" Receipts - ",null==i.expenseDetails?null:i.expenseDetails.expenseRecordId," "),e.xp6(4),e.Q6J("href",null==i.expenseDetails||null==i.expenseDetails.files[0]?null:i.expenseDetails.files[0].attachmentPath,e.LSH),e.xp6(8),e.hij(" ",null==i.expenseDetails?null:i.expenseDetails.expenseNotes," "))},dependencies:[g.JJ,g.uU],styles:[".card-sm[_ngcontent-%COMP%]{margin:10px 0}.card-sm[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1b212d;margin-bottom:5px}.card-sm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#929eae}.card-sm[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{background-color:#f0f0f0;height:120px;border-radius:6px;margin:5px 0}.card-sm[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333;padding:10px}.uploadedfile[_ngcontent-%COMP%]{border:1px solid #11af22;border-radius:4px;display:flex;justify-content:space-between;align-items:center;position:relative;overflow:hidden}.uploadedfile[_ngcontent-%COMP%]   .fview[_ngcontent-%COMP%]{background:#fff!important;border-radius:50%;margin:0 5px;width:30px;height:30px}.uploadedfile[_ngcontent-%COMP%]   .fview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px!important}"]}),d})();function D(d,_){if(1&d){const n=e.EpF();e.TgZ(0,"p",4),e.NdJ("click",function(){const A=e.CHM(n).row,r=e.oxw();return e.KtG(r.openModalExpenseView(A))}),e._uU(1,"View Details"),e.qZA()}}function M(d,_){if(1&d&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&d){const n=_.row;e.Udp("background-color",null==n||null==n.statusObj?null:n.statusObj.lookupBGColor)("color",null==n||null==n.statusObj?null:n.statusObj.lookupTextColor),e.xp6(1),e.hij(" ",null==n||null==n.statusObj?null:n.statusObj.description," ")}}let U=(()=>{class d{constructor(n,i,v){this._pettyCashService=n,this._modalService=i,this.sharedService=v,this.expensesList=[],this.pageNo=1,this.total=0,this.limit=6,this.tableConfig={paging:!1,multiSelect:!0,filter:{Sort:1,PageSize:this.limit}},this.tableColumns=[],this.eventData=new e.vpe}ngOnInit(){this.initTableColumns(),this.getPendingExpense()}openModalExpenseView(n){this._modalService.open(Z,{size:"lg"}).componentInstance.expenseDetails={...n}}onMultiSelected(n){let i=n.selectedItems;if(i?.length>0){let v=i.map(r=>r.expenseRecordId),A=i.reduce((r,h)=>(r+=h?.expenseTotalAmount,r),0);this.eventData.emit({totalAmount:A.toFixed(3),expenseIds:v})}else this.eventData.emit({totalAmount:0})}getPendingExpense(){this._pettyCashService.getPettyCashExpensesNew(`?status=2003&sort=${this.tableConfig.filter.Sort}&pageSize=10000&registerId=${this.sharedService.getRegister?.registerObj?.id}`).subscribe(i=>{this.expensesList=i.data,this.total=i?.info?.totalRecordCount})}onSortChange(n){if(n?.direction&&n?.column)switch(n.column){case"invoiceNo":this.tableConfig.filter.Sort="desc"===n.direction?3:2;break;case"category[0].lookupName":this.tableConfig.filter.Sort="desc"===n.direction?5:4;break;case"createdAt":this.tableConfig.filter.Sort="desc"===n.direction?7:6;break;case"createdBy.fullName":this.tableConfig.filter.Sort="desc"===n.direction?9:8;break;case"expenseTotalAmount":this.tableConfig.filter.Sort="desc"===n.direction?11:10;break;case"status":this.tableConfig.filter.Sort="desc"===n.direction?13:12}else this.tableConfig.filter.Sort=1;this.getPendingExpense()}initTableColumns(){this.tableColumns=[{key:"invoiceNo",label:"Invoice No",canSort:!0},{key:"invoiceDate",label:"Invoice Date",dateFormat:"mediumDate"},{key:"category[0].lookupName",label:"Category",canSort:!0},{key:"createdAt",label:"Date",canSort:!0,dateFormat:"mediumDate",placeholder:"---"},{key:"createdBy.fullName",label:"Employee",canSort:!0},{key:"expenseTotalAmount",label:"Total Amount",canSort:!0,currency:{decimalFormat:"2.3-3",appendText:" JOD"}},{key:"status",label:"Status",canSort:!0},{key:"action",label:"Action"}]}}return d.\u0275fac=function(n){return new(n||d)(e.Y36(x.$),e.Y36(o.FF),e.Y36(C.F))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-pending-expenses"]],outputs:{eventData:"eventData"},decls:5,vars:6,consts:[[1,"fw-500","mt-3"],[3,"config","columns","data","page","total","limit","multiSelected","sortUpdated"],["libTableAdvancedColumn","action"],["libTableAdvancedColumn","status"],[1,"blue-clr","cursor-pointer","fw-600","d-block","text-nowrap","mb-0",3,"click"],[1,"pending"]],template:function(n,i){1&n&&(e.TgZ(0,"h5",0),e._uU(1,"List of Pending Expenses"),e.qZA(),e.TgZ(2,"table-advanced",1),e.NdJ("multiSelected",function(A){return i.onMultiSelected(A)})("sortUpdated",function(A){return i.onSortChange(A)}),e.YNc(3,D,2,0,"ng-template",2),e.YNc(4,M,2,5,"ng-template",3),e.qZA()),2&n&&(e.xp6(2),e.Q6J("config",i.tableConfig)("columns",i.tableColumns)("data",i.expensesList)("page",i.pageNo)("total",i.total)("limit",i.limit))},dependencies:[l.V,f.y],styles:[".pending[_ngcontent-%COMP%]{border-radius:8px;padding:10px 30px;font-weight:600;width:125px!important;display:block;text-align:center}"]}),d})();function I(d,_){1&d&&(e.TgZ(0,"span",23),e._uU(1,"Input does not allows greater than 150 charcters"),e.qZA())}function q(d,_){if(1&d&&(e.ynx(0),e.YNc(1,I,2,0,"span",22),e.BQk()),2&d){const n=e.oxw(4);let i;e.xp6(1),e.Q6J("ngIf",null==n.formGroup||null==(i=n.formGroup.get("note"))?null:i.errors.maxlength)}}function w(d,_){if(1&d&&(e.ynx(0),e.YNc(1,q,2,1,"ng-container",14),e.BQk()),2&d){const n=e.oxw(3);let i;e.xp6(1),e.Q6J("ngIf",(null==n.formGroup||null==(i=n.formGroup.get("note"))?null:i.invalid)&&(null==n.formGroup||null==(i=n.formGroup.get("note"))?null:i.touched)||(null==n.formGroup||null==(i=n.formGroup.get("note"))?null:i.dirty))}}function O(d,_){if(1&d&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&d){const n=e.oxw(3);e.xp6(1),e.hij(" ",n.errorMsg," ")}}function N(d,_){if(1&d){const n=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(n);const v=e.oxw(3);return e.KtG(v.AddPettyCashRequest())}),e._uU(1," Submit Replenishment Request "),e.qZA()}}function S(d,_){1&d&&(e.TgZ(0,"button",26),e._UZ(1,"i",27),e.qZA())}const R=function(){return{required:"Replinshment amount must be greater than zero"}};function G(d,_){if(1&d){const n=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"h4"),e._uU(4," Branch Name "),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA()()(),e.TgZ(7,"div",6)(8,"div",7)(9,"h4"),e._uU(10," Register No. "),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"h4"),e._uU(16," Register Name"),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA()()(),e.TgZ(19,"div",6)(20,"div",7)(21,"h4"),e._uU(22," Register Limit "),e.qZA(),e.TgZ(23,"p"),e._uU(24),e.ALo(25,"number"),e.qZA()()(),e.TgZ(26,"div",8)(27,"app-pending-expenses",9),e.NdJ("eventData",function(v){e.CHM(n);const A=e.oxw(2);return e.KtG(A.getEventData(v))}),e.qZA()(),e.TgZ(28,"form",10)(29,"div",11)(30,"div",12)(31,"div",7)(32,"h4"),e._uU(33," Note "),e.qZA()(),e._UZ(34,"textarea",13),e.YNc(35,w,2,1,"ng-container",14),e.qZA()(),e.TgZ(36,"div",11)(37,"div",12)(38,"div",7)(39,"h4"),e._uU(40," Replenishment Amount (JOD) "),e.qZA()(),e._UZ(41,"input",15)(42,"validation-error",16),e.qZA()()(),e.TgZ(43,"div",11),e.YNc(44,O,2,1,"div",17),e.qZA(),e.TgZ(45,"div",11)(46,"div",18)(47,"button",19),e.NdJ("click",function(){e.CHM(n);const v=e.oxw(2);return e.KtG(v.activeModal.close("Close click"))}),e._uU(48,"Cancel"),e.qZA(),e.YNc(49,N,2,0,"button",20),e.YNc(50,S,2,0,"button",21),e.qZA()()()}if(2&d){const n=e.oxw(2);let i;e.xp6(6),e.hij(" ",n.Registersdetails.branch.branchName," "),e.xp6(6),e.hij(" ",n.Registersdetails.id," "),e.xp6(6),e.hij(" ",n.Registersdetails.registersName," "),e.xp6(6),e.hij(" ",e.xi3(25,11,n.Registersdetails.pettyCashLimit,"2.3-3")," JOD"),e.xp6(4),e.Q6J("formGroup",n.formGroup),e.xp6(7),e.Q6J("ngIf",null==n.formGroup||null==(i=n.formGroup.get("note"))?null:i.errors),e.xp6(7),e.Q6J("control",n.formGroup.get("requestedAmountTemp"))("errorMessages",e.DdM(14,R)),e.xp6(2),e.Q6J("ngIf",n.errorMsg),e.xp6(5),e.Q6J("ngIf",!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading)}}function k(d,_){if(1&d&&(e.TgZ(0,"div",1)(1,"div",2)(2,"h4"),e._uU(3,"New Replenishment Request"),e.qZA()(),e.TgZ(4,"div",3),e._UZ(5,"br"),e.TgZ(6,"p"),e._uU(7,"You are about to request a new petty cash replenishment for the following register"),e.qZA()(),e.YNc(8,G,51,15,"div",4),e.qZA()),2&d){const n=e.oxw();e.xp6(8),e.Q6J("ngIf",n.Registersdetails)}}function J(d,_){if(1&d&&(e.TgZ(0,"p")(1,"b"),e._uU(2," Date"),e.qZA(),e._uU(3),e.ALo(4,"date"),e.qZA()),2&d){const n=e.oxw(2);e.xp6(3),e.hij(" ",e.xi3(4,1,n.details.createdAt," d/M/y "),"")}}function L(d,_){if(1&d&&(e.TgZ(0,"div",44)(1,"div",7)(2,"h4"),e._uU(3," Rejected Reason "),e.qZA(),e.TgZ(4,"div",45)(5,"p"),e._uU(6),e.qZA()()()()),2&d){const n=e.oxw(3);e.xp6(6),e.hij(" ",n.details.rejectionReason," ")}}function Y(d,_){if(1&d&&(e._uU(0),e.ALo(1,"number")),2&d){const n=_.row;e.hij(" ",e.xi3(1,1,null==n?null:n.expenseTotalAmount,"2.3-3")," JOD ")}}function j(d,_){if(1&d&&(e._uU(0),e.ALo(1,"date")),2&d){const n=_.row;e.hij(" ",e.xi3(1,1,null==n?null:n.invoiceDate,"mediumDate")," ")}}function F(d,_){if(1&d&&(e._uU(0),e.ALo(1,"date")),2&d){const n=_.row;e.hij(" ",e.xi3(1,1,null==n?null:n.createdAt,"mediumDate")," ")}}function Q(d,_){if(1&d&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&d){const n=_.row;e.Udp("background-color",n.statusObj.lookupBGColor)("color",n.statusObj.lookupTextColor),e.xp6(1),e.hij(" ",n.statusObj.description," ")}}function V(d,_){if(1&d&&(e.TgZ(0,"p",46),e._uU(1),e.qZA()),2&d){const n=e.oxw(3);e.xp6(1),e.Oqu(n.responseMessage)}}function H(d,_){if(1&d){const n=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(n);const v=e.oxw(3);return e.KtG(v.handleRecevingRequest())}),e._uU(1," Confirm Receiving Replenishment Request "),e.qZA()}}function z(d,_){if(1&d){const n=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"h4"),e._uU(4," Branch Name "),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.qZA()()(),e.TgZ(7,"div",29)(8,"div",7)(9,"h4"),e._uU(10," Register No. "),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"h4"),e._uU(16," Register Name"),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA()()(),e.TgZ(19,"div",29)(20,"div",7)(21,"h4"),e._uU(22," Requested Amount "),e.qZA(),e.TgZ(23,"p"),e._uU(24),e.ALo(25,"number"),e.qZA()()(),e.TgZ(26,"div",29)(27,"div",7)(28,"h4",30),e._uU(29," Status "),e.qZA(),e.TgZ(30,"span",31),e._uU(31),e.qZA()()(),e.TgZ(32,"div",32)(33,"div",7)(34,"h4"),e._uU(35," Note "),e.qZA(),e.TgZ(36,"div",33)(37,"p"),e._uU(38),e.qZA()()()(),e.YNc(39,L,7,1,"div",34),e.TgZ(40,"div",35)(41,"h6",36),e._uU(42," List of Expenses Submitted Within This Request"),e.qZA(),e.TgZ(43,"table-advanced",37),e.NdJ("scrollUpdate",function(v){e.CHM(n);const A=e.oxw(2);return e.KtG(A.onsScrollUpdate(v))})("pageUpdated",function(v){e.CHM(n);const A=e.oxw(2);return e.KtG(A.onPageChange(v))}),e.YNc(44,Y,2,4,"ng-template",38),e.YNc(45,j,2,4,"ng-template",39),e.YNc(46,F,2,4,"ng-template",40),e.YNc(47,Q,2,5,"ng-template",41),e.qZA()(),e.TgZ(48,"div",11),e.YNc(49,V,2,1,"p",42),e.TgZ(50,"div",18),e.YNc(51,H,2,0,"button",43),e.TgZ(52,"button",25),e.NdJ("click",function(){e.CHM(n);const v=e.oxw(2);return e.KtG(v.activeModal.close("Close click"))}),e._uU(53,"Close"),e.qZA()()()()}if(2&d){const n=e.oxw(2);e.xp6(6),e.hij(" ",null==n.details||null==n.details.register?null:n.details.register.branch.branchName," "),e.xp6(6),e.hij(" ",null==n.details||null==n.details.register?null:n.details.register.registerId," "),e.xp6(6),e.hij(" ",null==n.details||null==n.details.register?null:n.details.register.registersName," "),e.xp6(6),e.hij(" ",e.xi3(25,20,null==n.details?null:n.details.requestedAmount,"2.3-3")," JOD"),e.xp6(6),e.Udp("background-color",n.details.statusObj.lookupBGColor)("color",n.details.statusObj.lookupTextColor),e.xp6(1),e.hij(" ",n.details.statusObj.description," "),e.xp6(7),e.hij(" ",n.details.requestNote," "),e.xp6(1),e.Q6J("ngIf","Rejected"==n.details.statusObj.description),e.xp6(4),e.Q6J("config",n.tableConfig)("columns",n.tableColumns)("data",n.approvedRequestList)("loading",n.loading)("page",n.pageNo)("total",n.total)("limit",n.limit),e.xp6(6),e.Q6J("ngIf",n.responseMessage),e.xp6(2),e.Q6J("ngIf","approved"==(null==n.details||null==n.details.statusObj||null==n.details.statusObj.translations[0]?null:n.details.statusObj.translations[0].lookupName.toLowerCase())&&!(null!=n.details&&n.details.confirmed)&&(null==n.details?null:n.details.provided))}}function B(d,_){if(1&d&&(e.TgZ(0,"div",1)(1,"div",28)(2,"h4"),e._uU(3,"Request Details"),e.qZA(),e.YNc(4,J,5,4,"p",14),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,z,54,23,"div",4),e.qZA()()),2&d){const n=e.oxw();e.xp6(4),e.Q6J("ngIf",n.details),e.xp6(2),e.Q6J("ngIf",n.details)}}let K=(()=>{class d{constructor(n,i,v,A,r,h,s){this.pettyCashService=n,this.sharedService=i,this._subjectService=v,this.route=A,this.fb=r,this.modalService=h,this.activeModal=s,this.responseMessage="",this.approvedRequestList=[],this.sendtoLoadData=new e.vpe,this.tableColumns=[],this.loading=!1,this.pageNo=1,this.total=0,this.limit=6,this.tableConfig={filter:{Sort:1,PageSize:this.limit},infiniteScroll:{isScroll:!0},style:{otherStyle:{height:"400px",overflow:"auto"}}},this.selectedExpenses=""}ngOnInit(){this.initTableColumns(),this.pettyCashRequestId?(this.GetRegisterPettycashrequestDetails(),this.getPettyCashRequestExpensesList()):this.GetRegistersPettyCashLimits(),this.formGroup=this.fb.group({note:["",[t.kI.maxLength(150)]],requestedAmount:[{value:"",disabled:!0}],requestedAmountTemp:["",[t.kI.required]]})}onsScrollUpdate(n){n?.scrolled&&(this.pageNo+=1,this.getPettyCashRequestExpensesList())}getEventData(n){console.log(n),n?.totalAmount>0?(this.formGroup.get("requestedAmount").setValue(n?.totalAmount),this.formGroup.get("requestedAmountTemp").setValue(n?.totalAmount),this.selectedExpenses=n?.expenseIds.toString()):(this.formGroup.get("requestedAmount").setValue(null),this.formGroup.get("requestedAmountTemp").setValue(null))}GetRegistersPettyCashLimits(){return this.pettyCashService.GetRegistersPettyCashLimits(this.sharedService.getRegister?.registerObj?.id).subscribe(n=>{n&&(this.Registersdetails=n.data[0])})}getPettyCashRequestExpensesList(){this.loading=!0,this.pettyCashService.getPettyCashRequestExpensesList(`?RegisterId=${this.sharedService.getRegister?.registerObj?.id}&ReplenishmentRequestID=${this.pettyCashRequestId}&pageNo=${this.pageNo-1}&pageSize=${this.tableConfig.filter.PageSize}`).subscribe(i=>{i?.isSuccess&&(this.approvedRequestList=[...this.approvedRequestList,...i.data.data],this.total=i.data?.totalRecordCount)}).add(()=>this.loading=!1)}AddPettyCashRequest(){if(this.formGroup.valid){this.isLoading=!0,this.submitted=!0,this.errorMsg="";const n=new FormData;n.append("RequestNote",this.formGroup.value.note),n.append("RequestedAmount",this.formGroup.getRawValue().requestedAmount),n.append("RequestExpensesList",this.selectedExpenses),this.pettyCashService.AddPettyCashRequest(n).subscribe(i=>{i.isSuccess?(console.log(i),this.isLoading=!1,this.sendtoLoadData.emit()):(this.isLoading=!1,console.log(i),this.errorMsg=i?.Errors[0]?.ErrorMessageEn,console.log(i.Errors[0].ErrorMessageEn))},i=>{this.isLoading=!1,this.errorMsg=i?.error?.errors[0]?.ErrorMessageEn,setTimeout(()=>this.errorMsg="",5e3)})}else this.formGroup.markAllAsTouched()}GetRegisterPettycashrequestDetails(){return this.pettyCashService.GetRegisterPettycashrequestDetails(this.pettyCashRequestId).subscribe(n=>{n&&(this.details=n.data)})}handleRecevingRequest(){let n=new FormData;n.append("PettyCashRequestId",this.pettyCashRequestId.toString()),this.pettyCashService.confirmReceivePettyCashAmount(n).subscribe(i=>{console.log(i),i.data&&(this.responseMessage="Successfully received!",this._subjectService.replenishmentRequestReceived.next(!0),this.modalService.dismissAll(),setTimeout(()=>this.responseMessage="",5e3))},i=>{this.responseMessage=i?.error?.errors[0]?.ErrorMessageEn,setTimeout(()=>this.responseMessage="",5e3)})}onPageChange(n){this.pageNo=n,this.getPettyCashRequestExpensesList()}initTableColumns(){this.tableColumns=[{key:"invoiceNo",label:"Invoice No"},{key:"invoiceDate",label:"Invoice Date"},{key:"category[0].lookupName",label:"Category"},{key:"costCenter.costCenterName",label:"Cost Center Name"},{key:"costCenter.approverUser.fullName",label:"Approver Name"},{key:"expenseTotalAmount",label:"Amount"},{key:"createdAt",label:"Date"},{key:"status",label:"Status"}]}}return d.\u0275fac=function(n){return new(n||d)(e.Y36(x.$),e.Y36(C.F),e.Y36(u._),e.Y36(m.gz),e.Y36(t.qu),e.Y36(o.FF),e.Y36(o.Kz))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-add-request"]],inputs:{type:"type",pettyCashRequestId:"pettyCashRequestId",pettyCashRegisterId:"pettyCashRegisterId"},outputs:{sendtoLoadData:"sendtoLoadData"},decls:2,vars:2,consts:[["class","modal-body",4,"ngIf"],[1,"modal-body"],[1,"modal-head"],[1,"aboutreq"],["class","row",4,"ngIf"],[1,"row"],[1,"col-sm-3"],[1,"card-sm"],[1,"col-12"],[3,"eventData"],[3,"formGroup"],[1,"col-md-12"],[1,"form-group","my-3"],["rows","5","formControlName","note","maxlength","150",1,"form-control"],[4,"ngIf"],["type","text","formControlName","requestedAmount",1,"form-control"],[3,"control","errorMessages"],["class","alert alert-danger text-center","role","alert",4,"ngIf"],[1,"btns-group","my-2","mx-0"],["type","button",1,"btn","btn-cancel",3,"click"],["type","button","class","btn btn-save",3,"click",4,"ngIf"],["type","button","class","btn btn-save btn-load","disabled","",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["role","alert",1,"alert","alert-danger","text-center"],["type","button",1,"btn","btn-save",3,"click"],["type","button","disabled","",1,"btn","btn-save","btn-load"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"modal-head","d-flex","justify-content-between"],[1,"col-sm-2"],[1,"mb-3"],[1,"pending"],[1,"col-sm-12"],[1,"note",2,"height","60px"],["class","col-sm-6",4,"ngIf"],[1,"col-12","mt-3"],[1,"fw-500","mb-0"],[3,"config","columns","data","loading","page","total","limit","scrollUpdate","pageUpdated"],["libTableAdvancedColumn","expenseTotalAmount"],["libTableAdvancedColumn","invoiceDate"],["libTableAdvancedColumn","createdAt"],["libTableAdvancedColumn","status"],["class","alert alert-info",4,"ngIf"],["class","btn btn-save","type","button",3,"click",4,"ngIf"],[1,"col-sm-6"],[1,"note"],[1,"alert","alert-info"]],template:function(n,i){1&n&&(e.YNc(0,k,9,1,"div",0),e.YNc(1,B,7,2,"div",0)),2&n&&(e.Q6J("ngIf","add"==i.type),e.xp6(1),e.Q6J("ngIf","view"==i.type))},dependencies:[g.O5,t._Y,t.Fj,t.JJ,t.JL,t.nD,t.sg,t.u,l.V,f.y,b.L,U,g.JJ,g.uU],styles:[".modal-head[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;margin-bottom:10px}.modal-head[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;font-size:20px;line-height:25px;text-transform:capitalize;color:#1b212d}.modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#929eae}.modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#1b212d}.modal-body[_ngcontent-%COMP%]{padding:30px}.aboutreq[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:600;font-size:20px;line-height:25px;color:#54595e;padding:15px 0}.card-sm[_ngcontent-%COMP%]{margin:10px 0}.card-sm[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1b212d;margin-bottom:5px}.card-sm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#929eae}.note[_ngcontent-%COMP%]{background-color:#f0f0f0;height:120px;border-radius:6px;margin:5px 0;overflow:hidden}.note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333;padding:10px}"]}),d})()},72657:(P,y,p)=>{p.d(y,{$:()=>C});var e=p(80529),t=p(94650),x=p(69082);let C=(()=>{class u{constructor(o,g){this.http=o,this.sharedService=g,this.apiUrl=this.sharedService.getUrl}GetExpenses(o,g,l){return this.http.get(this.apiUrl+`Expense/GetExpenses?Search=${o}&Sort=${g}&PageNo=${l}&PageSize=6`,this.sharedService.getHeaders())}getRegisterPettyCashSituation(o){return this.http.get(this.apiUrl+`PettyCash/GetRegisterPettyCashSituation?registerId=${o}`,this.sharedService.getHeaders())}getApprovedExpensesSinceReplinshment(o){return this.http.get(this.apiUrl+`PettyCash/GetApprovedExpensesSinceReplinshment${o}`,this.sharedService.getHeaders())}getPettyCashRequestExpensesList(o){return this.http.get(this.apiUrl+`PettyCash/GetPettyCashRequestExpensesList${o}`,this.sharedService.getHeaders())}getExpensesDashboard(o){return this.http.get(this.apiUrl+`PettyCash/GetExpensesDashboard${o}`,this.sharedService.getHeaders())}getPettyCashGraphDashboard(o){return this.http.get(this.apiUrl+`PettyCash/GetPettyCashGraphDashboard?${o}`,this.sharedService.getHeaders())}getExpensesDashboardCards(o){return this.http.get(this.apiUrl+`PettyCash/GetExpensesDashboardCards?RegisterId=${o}`,this.sharedService.getHeaders())}AddExpense(o){return this.http.post(this.apiUrl+"Expense/AddExpense",o,{reportProgress:!0,observe:"events",headers:new e.WM({Authorization:"Bearer "+this.sharedService.getToken})})}confirmReceivePettyCashAmount(o){return this.http.post(this.apiUrl+"PettyCash/ConfirmReceivePettyCashAmount",o,this.sharedService.getHeaders())}uploadConfirmReceivePettyCashAmount(o){return this.http.post(this.apiUrl+"PettyCash/UploadConfirmReceivePettyCashAmount",o,this.sharedService.getHeaders())}EditExpense(o){return this.http.post(this.apiUrl+"Expense/EditExpense",o,{reportProgress:!0,observe:"events",headers:new e.WM({Authorization:"Bearer "+this.sharedService.getToken})})}GetExpenseDetails(o){return this.http.get(this.apiUrl+`Expense/GetExpenseDetails?expenseRecordId=${o}`,this.sharedService.getHeaders())}getLookupsById(o){return this.http.get(this.apiUrl+`Lookups/GetLookups?lookupTypeId=${o}&pageNo=0&pageSize=1000`,this.sharedService.getHeaders())}getExpenseCategories(){return this.http.get(this.apiUrl+"PettyCash/GetExpensesCategories?status=2001&Sort=0&PageNo=0&PageSize=1000",this.sharedService.getHeaders())}getPettyCashStatus(){return this.http.get(this.apiUrl+"Lookups/GetLookups?lookupTypeId=2&parentId=1",this.sharedService.getHeaders())}getCostCenters(){return this.http.get(this.apiUrl+"PettyCash/GetCostCenters?StatusId=2001&pageNo=0&pageSize=1000",this.sharedService.getHeaders())}getCostCentersByTypeId(o){return this.http.get(this.apiUrl+`PettyCash/GetCostCenters?StatusId=2001&CostCenterType=${o}&PageSize=1000`,this.sharedService.getHeaders())}getRegistersList(){return this.http.get(this.apiUrl+"Register/GetRegisters?Status=2001&PageNo=0&PageSize=100",this.sharedService.getHeaders())}getPettyCashExpensesNew(o){return this.http.get(this.apiUrl+`PettyCash/GetExpenses${o}`,this.sharedService.getHeaders())}GetPettyCashExpenses(o,g,l,f,b){return this.http.get(this.apiUrl+`PettyCash/GetExpenses?Search=${o}&expenseId=${g}&Status=${f}&Sort=${l}&PageNo=${b}&PageSize=6&RegisterId=${this.sharedService.getRegister?.registerObj?.id}`,this.sharedService.getHeaders())}AddPettyCashExpense(o){return this.http.post(this.apiUrl+"PettyCash/AddExpense",o,{reportProgress:!0,observe:"events",headers:new e.WM({Authorization:"Bearer "+this.sharedService.getToken})})}EditPettyCashExpense(o){return this.http.post(this.apiUrl+"PettyCash/EditExpense",o,{headers:new e.WM({Authorization:"Bearer "+this.sharedService.getToken})})}expenseRevised(o){return this.http.post(this.apiUrl+"PettyCash/ExpenseRevised",o,{headers:new e.WM({Authorization:"Bearer "+this.sharedService.getToken})})}GetPettyCashExpenseDetails(o){return this.http.get(this.apiUrl+`PettyCash/GetExpenseDetails?expenseRecordId=${o}`,this.sharedService.getHeaders())}GetRegisterPettyCashRequestLast(){return this.http.get(this.apiUrl+`PettyCash/GetRegisterPettyCashRequestLast?RegisterId=${this.sharedService.getRegister?.registerObj?.id}`,this.sharedService.getHeaders())}GetRegisterPettycashrequest(o,g,l,f){return this.http.get(this.apiUrl+`PettyCash/GetRegisterPettycashrequest?Search=${o}&Status=${l}&Sort=${g}&PageNo=${f}&PageSize=6&RegisterId=${this.sharedService.getRegister?.registerObj?.id}`,this.sharedService.getHeaders())}getRegisterPettycashrequestNew(o){return this.http.get(this.apiUrl+`PettyCash/GetRegisterPettycashrequest${o}`,this.sharedService.getHeaders())}GetRegisterPettycashrequestDetails(o){return this.http.get(this.apiUrl+`PettyCash/GetRegisterPettycashrequestDetails?pettyCashRequestId=${o}`,this.sharedService.getHeaders())}GetRegistersPettyCashLimits(o){return this.http.get(this.apiUrl+`PettyCash/GetRegistersPettyCashLimits?Search=${o}`,this.sharedService.getHeaders())}AddPettyCashRequest(o){return this.http.post(this.apiUrl+"PettyCash/AddPettyCashRequest",o,this.sharedService.getHeaders())}givePettyCashPayment(o){return this.http.post(this.apiUrl+"PettyCash/GivePettyCashPayment",o,this.sharedService.getHeaders())}addExpenseV2(o){return this.http.post(this.apiUrl+"PettyCash/AddExpenseV2",o,this.sharedService.getHeaders())}cancelGivenPettyCashPayment(o){return this.http.post(this.apiUrl+"PettyCash/CancelGivenPettyCashPayment",o,this.sharedService.getHeaders())}getEmployees(){return this.http.get(this.apiUrl+"User/GetUsers?status=2001&pageNo=0&pageSize=1000",this.sharedService.getHeaders())}getCashierEmployees(){return this.http.get(this.apiUrl+"User/GetUsers?roleId=1&status=2001&pageNo=0&pageSize=1000",this.sharedService.getHeaders())}getPettyCashPayments(o){return this.http.get(this.apiUrl+`PettyCash/GetPettyCashPayments${o}`,this.sharedService.getHeaders())}}return u.\u0275fac=function(o){return new(o||u)(t.LFG(e.eN),t.LFG(x.F))},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},87192:(P,y,p)=>{p.d(y,{z:()=>m});var e=p(94650),t=p(42953),x=p(36895);function C(o,g){1&o&&(e.ynx(0),e.TgZ(1,"h6",11),e._uU(2,"Are you sure?"),e.qZA(),e.BQk())}function u(o,g){if(1&o&&e._UZ(0,"p",12),2&o){const l=e.oxw();e.Q6J("innerHTML",null==l.data?null:l.data.body,e.oJD)}}let m=(()=>{class o{constructor(l){this._activeModel=l,this.eventData=new e.vpe}confirm(l){this.eventData.emit(l),this._activeModel.dismiss()}}return o.\u0275fac=function(l){return new(l||o)(e.Y36(t.Kz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-confirm-modal"]],inputs:{data:"data"},outputs:{eventData:"eventData"},decls:15,vars:5,consts:[[1,"row"],[1,"col-12"],[1,"modal-header","border-0"],["ngbAutoFocus","",1,"font-20","fw-600","mb-0"],[1,"modal-body"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"modal-footer","border-0"],[1,"btns-group","gap-2","mx-0"],["type","button",1,"btn","btn-save",3,"click"],["type","button",1,"btn","btn-cancel",3,"click"],[1,"mb-0","fw-500"],[1,"mb-0","fs-16","fw-500",3,"innerHTML"]],template:function(l,f){if(1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,C,3,0,"ng-container",5),e.YNc(7,u,1,1,"ng-template",null,6,e.W1O),e.qZA(),e.TgZ(9,"div",7)(10,"div",8)(11,"button",9),e.NdJ("click",function(){return f.confirm(!0)}),e._uU(12),e.qZA(),e.TgZ(13,"button",10),e.NdJ("click",function(){return f.confirm(!1)}),e._uU(14),e.qZA()()()()()),2&l){const b=e.MAs(8);e.xp6(4),e.Oqu((null==f.data?null:f.data.headingText)||"Confirm"),e.xp6(2),e.Q6J("ngIf",!(null!=f.data&&f.data.body))("ngIfElse",b),e.xp6(6),e.Oqu((null==f.data?null:f.data.confirmText)||"Yes"),e.xp6(2),e.Oqu((null==f.data?null:f.data.cancelText)||"No")}},dependencies:[x.O5]}),o})()},59442:(P,y,p)=>{p.d(y,{w:()=>t});var e=p(94650);let t=(()=>{class x{}return x.\u0275fac=function(u){return new(u||x)},x.\u0275cmp=e.Xpm({type:x,selectors:[["app-not-found"]],decls:3,vars:0,consts:[[1,"not-found"]],template:function(u,m){1&u&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2," No data to display "),e.qZA()())},styles:[".not-found[_ngcontent-%COMP%]{text-align:center;padding:10%}.not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c9c9d1;font-size:16px;font-weight:600}"]}),x})()},67711:(P,y,p)=>{p.d(y,{L:()=>m});var e=p(94650),t=p(36895);function x(o,g){if(1&o&&(e.TgZ(0,"span",2),e._uU(1),e.qZA()),2&o){const l=g.$implicit,f=e.oxw(3);e.xp6(1),e.Oqu(f.errorMessages[l])}}function C(o,g){if(1&o&&(e.ynx(0),e.YNc(1,x,2,1,"span",1),e.BQk()),2&o){const l=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",l.validationKeys)}}function u(o,g){if(1&o&&(e.ynx(0),e.YNc(1,C,2,1,"ng-container",0),e.BQk()),2&o){const l=e.oxw();e.xp6(1),e.Q6J("ngIf",l.control.invalid&&(l.control.dirty||l.control.touched))}}let m=(()=>{class o{get validationKeys(){let l=this.control;return l&&l.errors?Object.keys(l.errors):[]}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["validation-error"]],inputs:{control:"control",errorMessages:"errorMessages"},decls:1,vars:1,consts:[[4,"ngIf"],["class","validation-error d-block",4,"ngFor","ngForOf"],[1,"validation-error","d-block"]],template:function(l,f){1&l&&e.YNc(0,u,2,1,"ng-container",0),2&l&&e.Q6J("ngIf",null==f.control?null:f.control.errors)},dependencies:[t.sg,t.O5]}),o})()},55134:(P,y,p)=>{p.d(y,{Q:()=>t});var e=p(94650);let t=(()=>{class x{constructor(u){this.el=u,this.regex=new RegExp(/^\d*\.?\d{0,50}$/g),this.specialKeys=["Backspace","Tab","End","Home","ArrowLeft","ArrowRight","Del","Delete"]}onKeyDown(u){if(-1!==this.specialKeys.indexOf(u.key))return;const o=this.el.nativeElement.value.concat(u.key);o&&!String(o).match(this.regex)&&u.preventDefault()}setInputFocusOut(){let u=+this.el.nativeElement.value;u>0&&(this.el.nativeElement.value=u.toFixed(3))}}return x.\u0275fac=function(u){return new(u||x)(e.Y36(e.SBq))},x.\u0275dir=e.lG2({type:x,selectors:[["","appDecimalNumber",""]],hostBindings:function(u,m){1&u&&e.NdJ("keydown",function(g){return m.onKeyDown(g)})("blur",function(){return m.setInputFocusOut()})}}),x})()},96603:(P,y,p)=>{p.d(y,{z:()=>x});var e=p(94650),t=p(11481);let x=(()=>{class C{constructor(m){this.sanitizer=m,this.files=new e.vpe,this.enter=new e.vpe,this.leave=new e.vpe,this.background="",this.border=""}onDragEnter(m){m.preventDefault(),m.stopPropagation(),this.enter.emit()}onDragOver(m){m.preventDefault(),m.stopPropagation(),this.background="#d9e4f0",this.border="2px dashed #226BC0"}onDragLeave(m){m.preventDefault(),m.stopPropagation(),this.leave.emit(),this.background="",this.border=""}onDrop(m){m.preventDefault(),m.stopPropagation(),this.background="",this.border="";let o=[];for(let g=0;g<m.dataTransfer.files.length;g++){const l=m.dataTransfer.files[g],f=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(l));o.push({file:l,url:f})}o.length>0&&this.files.emit(o)}}return C.\u0275fac=function(m){return new(m||C)(e.Y36(t.H7))},C.\u0275dir=e.lG2({type:C,selectors:[["","appImageDrag",""]],hostVars:4,hostBindings:function(m,o){1&m&&e.NdJ("dragenter",function(l){return o.onDragEnter(l)})("dragover",function(l){return o.onDragOver(l)})("dragleave",function(l){return o.onDragLeave(l)})("drop",function(l){return o.onDrop(l)}),2&m&&e.Udp("background",o.background)("border",o.border)},outputs:{files:"files",enter:"enter",leave:"leave"}}),C})()}}]);