"use strict";(self.webpackChunkmarkaizaAdmin=self.webpackChunkmarkaizaAdmin||[]).push([[8362],{51445:(b,m,p)=>{p.d(m,{U:()=>e});var d=p(61135),h=p(94650),_=p(80529),f=p(69082);let e=(()=>{class c{constructor(a,u){this.http=a,this.sharedService=u,this.apiUrl=this.sharedService.getUrl,this.despositeAmount=new d.X(void 0),this._viewDepositAmount=new d.X(void 0),this._mainFundAlocationOrderItemDetails=new d.X(void 0)}allocationOrdersService(a){return this.http.post(this.apiUrl+"AllocationOrdersService/AllocationOrderDepositCash",a,this.sharedService.getHeaders())}getRegisterDirectDeposits(a){return this.http.get(this.apiUrl+`AllocationOrdersService/GetRegisterDirectDeposits${a}`,this.sharedService.getHeaders())}getRegisterUnsettledCheques(a){return this.http.get(this.apiUrl+`AllocationOrdersService/GetRegisterUnsettledCheques${a}`,this.sharedService.getHeaders())}addRegisterDirectCashDepositToMarkaziaAccount(a){return this.http.post(this.apiUrl+"AllocationOrdersService/AddRegisterDirectCashDepositToMarkaziaAccount",a,this.sharedService.getHeaders())}addRegisterDirectChequesToMarkaziaAccount(a){return this.http.post(this.apiUrl+"AllocationOrdersService/AddRegisterDirectChequesToMarkaziaAccount",a,this.sharedService.getHeaders())}addCashDepositToMarkaziaAccount(a){return this.http.post(this.apiUrl+"AllocationOrdersService/AddCashDepositToMarkaziaAccount",a,this.sharedService.getHeaders())}addChequesToMarkaziaAccount(a){return this.http.post(this.apiUrl+"AllocationOrdersService/AddChequesToMarkaziaAccount",a,this.sharedService.getHeaders())}allocationOrderDepositCheque(a){return this.http.post(this.apiUrl+"AllocationOrdersService/AllocationOrderDepositCheque",a,this.sharedService.getHeaders())}getCashDepositDetails(a){return this.http.get(this.apiUrl+`AllocationOrdersService/GetCashDepositDetails?depositeId=${a}`,this.sharedService.getHeaders())}getRegisterDirectCashDepositDetails(a){return this.http.get(this.apiUrl+`AllocationOrdersService/GetRegisterDirectCashDepositDetails?depositeId=${a}`,this.sharedService.getHeaders())}getMainFundCash(){return this.http.get(this.apiUrl+"Mainfund/GetMainFundCash",this.sharedService.getHeaders())}getRegisterDirectChequeDepositDetails(a){return this.http.get(this.apiUrl+`AllocationOrdersService/GetRegisterDirectChequeDepositDetails${a}`,this.sharedService.getHeaders())}getChequeDepositDetails(a){return this.http.get(this.apiUrl+`AllocationOrdersService/GetChequeDepositDetails${a}`,this.sharedService.getHeaders())}getDepositsById(a,u){return this.http.get(this.apiUrl+`AllocationOrdersService/GetDeposits?DepositeId=${a}&DepositeType=${u}`,this.sharedService.getHeaders())}getRegisterDirectDepositsNew(a,u){return this.http.get(this.apiUrl+`AllocationOrdersService/GetRegisterDirectDeposits?DepositeId=${a}&DepositeType=${u}`,this.sharedService.getHeaders())}getCurrencyList(){return this.http.get(this.apiUrl+"Lookups/GetLookups?lookupTypeId=9",this.sharedService.getHeaders())}getMainFundSettledCheques(a){return this.http.get(this.apiUrl+`AllocationOrdersService/GetMainFundSettledCheques${a}`,this.sharedService.getHeaders())}getMainFundSettledChequesNew(a){return this.http.get(this.apiUrl+`AllocationOrdersService/GetMainFundSettledChequesNew${a}`,this.sharedService.getHeaders())}getLastAllocation(){return this.http.get(this.apiUrl+"AllocationOrdersService/GetLastAllocationOrder",this.sharedService.getHeaders())}getAllocation(a,u,x){let C=`AllocationOrdersService/GetAllocationOrders?PageNo=${a}&PageSize=6&sort=${x}`;return u&&(C+=`&search=${u}`),this.http.get(this.apiUrl+C,this.sharedService.getHeaders())}getViewDetailAllocation(a){return this.http.get(this.apiUrl+`AllocationOrdersService/GetAllocationOrderDetails?OrderId=${a}`,this.sharedService.getHeaders())}getListOfSettledChequesForAllocationOrderDetails(a){return this.http.get(this.apiUrl+`AllocationOrdersService/ListOfSettledChequesForAllocationOrderDetails${a}`,this.sharedService.getHeaders())}viewCashAllocationOrderDetailsDeposits(a){return this.http.get(this.apiUrl+`AllocationOrdersService/ViewCashAllocationOrderDetailsDeposits?allocationOrderDetailsId=${a}`,this.sharedService.getHeaders())}viewChequeAllocationOrderDetailsDeposits(a){return this.http.get(this.apiUrl+`AllocationOrdersService/ViewChequeAllocationOrderDetailsDeposits?allocationOrderDetailsId=${a}`,this.sharedService.getHeaders())}}return c.\u0275fac=function(a){return new(a||c)(h.LFG(_.eN),h.LFG(f.F))},c.\u0275prov=h.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},38362:(b,m,p)=>{p.r(m),p.d(m,{allocationModule:()=>Ve});var d=p(36895),h=p(21515),_=p(39485),f=p(86349),e=p(94650),c=p(51445),g=p(36690),a=p(24006),u=p(28424),x=p(59442);const C=function(o,l){return{"background-color":o,color:l}},O=function(o){return["/mainFund-allocation/view-allocation",o]};function D(o,l){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td")(15,"div",42),e._uU(16),e.qZA()(),e.TgZ(17,"td",43)(18,"div",44),e._uU(19," View Details "),e.qZA()()()),2&o){const t=l.$implicit;e.xp6(2),e.Oqu(null==t?null:t.mainFundAllocationOrderId),e.xp6(2),e.Oqu(e.lcZ(5,8,null==t?null:t.createdAt)),e.xp6(3),e.hij("",e.xi3(8,10,null==t?null:t.depositAmount,"2.3-3")," JD"),e.xp6(3),e.hij("",e.xi3(11,13,null==t?null:t.totalAmountDistibuted,"2.3-3")," JD"),e.xp6(3),e.Oqu(null==t||null==t.createdBy?null:t.createdBy.fullName),e.xp6(2),e.Q6J("ngStyle",e.WLB(16,C,null==t||null==t.statusObj?null:t.statusObj.lookupBGColor,null==t||null==t.statusObj?null:t.statusObj.lookupTextColor)),e.xp6(1),e.hij(" ",null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName," "),e.xp6(2),e.Q6J("routerLink",e.VKq(19,O,null==t?null:t.mainFundAllocationOrderId))}}function M(o,l){1&o&&(e.TgZ(0,"div",45),e._UZ(1,"app-not-found"),e.qZA())}function w(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",33)(2,"div",34)(3,"table",35)(4,"thead")(5,"tr")(6,"th",36)(7,"button",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByOrder())}),e._uU(8," Order No. "),e._UZ(9,"i",38)(10,"i",39),e.qZA()(),e.TgZ(11,"th",36)(12,"button",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByDate())}),e._uU(13," Date "),e._UZ(14,"i",38)(15,"i",39),e.qZA()(),e.TgZ(16,"th",36)(17,"button",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByDeposit())}),e._uU(18," Total Deposited "),e._UZ(19,"i",38)(20,"i",39),e.qZA()(),e.TgZ(21,"th",36)(22,"button",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByGrandAmount())}),e._uU(23," Grand Amount "),e._UZ(24,"i",38)(25,"i",39),e.qZA()(),e.TgZ(26,"th",36)(27,"button",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByCreated())}),e._uU(28," Created By "),e._UZ(29,"i",38)(30,"i",39),e.qZA()(),e.TgZ(31,"th",36)(32,"button",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByStatus())}),e._uU(33," Status "),e._UZ(34,"i",38)(35,"i",39),e.qZA()(),e.TgZ(36,"th",36),e._uU(37," Action "),e.qZA()()(),e.TgZ(38,"tbody"),e.YNc(39,D,20,21,"tr",40),e.qZA()()(),e.YNc(40,M,2,0,"div",41),e.qZA()()}if(2&o){const t=l.$implicit,n=e.oxw();e.xp6(7),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",2==n.sort),e.xp6(1),e.ekj("active",3==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",4==n.sort),e.xp6(1),e.ekj("active",5==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",6==n.sort),e.xp6(1),e.ekj("active",7==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",8==n.sort),e.xp6(1),e.ekj("active",9==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",10==n.sort),e.xp6(1),e.ekj("active",11==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",12==n.sort),e.xp6(1),e.ekj("active",13==n.sort),e.xp6(4),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",0==(null==t?null:t.length))}}function y(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}const k=function(o){return{active:o}};function P(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"li",46)(1,"button",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.setPage(s))}),e._uU(2),e.qZA()()}if(2&o){const t=l.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(3,k,n.pageNo===t))("disabled",n.pageNo===t),e.xp6(1),e.hij(" ",t+1," ")}}let U=(()=>{class o{constructor(t,n){this._allocationService=t,this._headerService=n,this.searchText="",this.sort=1,this.totalRecords=18,this.pageNo=0,this.pages=[],this.AllocationOrder=[]}ngOnInit(){this._headerService.setTitle("Allocation"),this.getLastAllocation()}handleSearchInput(t){console.log(t.target.value);const n=t.target.value;this.searchText=n,n.length>=2&&this.getAllocationList(),n||this.getAllocationList()}getLastAllocation(){this._allocationService.getLastAllocation().subscribe(t=>{console.log(t,"last allocation response"),t?.isSuccess&&(this.lastAllocationOrder=t?.data,this.getAllocationList())})}getAllocationList(){this._allocationService.getAllocation(this.pageNo,this.searchText,this.sort).subscribe(t=>{console.log(t,"list of  allocation response"),t&&(this.AllocationOrder=t?.data.filter(n=>n.mainFundAllocationOrderId!==this.lastAllocationOrder.mainFundAllocationOrderId),this.totalRecords=t?.info?.totalRecordsCount,this.pagin=Math.ceil(this.totalRecords/6),this.pages=f.w6(this.pagin))})}removeSearch(){this.searchText="",this.sort=1,this.getAllocationList()}sortByOrder(){this.sort=3==this.sort?1:2==this.sort?3:2,this.getAllocationList()}sortByDate(){this.sort=5==this.sort?1:4==this.sort?5:4,this.getAllocationList()}sortByDeposit(){this.sort=7==this.sort?1:6==this.sort?7:6,this.getAllocationList()}sortByGrandAmount(){this.sort=9==this.sort?1:8==this.sort?9:8,this.getAllocationList()}sortByCreated(){this.sort=11==this.sort?1:10==this.sort?11:10,this.getAllocationList()}sortByStatus(){this.sort=13==this.sort?1:12==this.sort?13:12,this.getAllocationList()}setPage(t){this.pageNo=t,window.scroll(0,0),this.getAllocationList()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.U),e.Y36(g.r))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-allocation"]],decls:79,vars:36,consts:[[1,"card-Box"],[1,"flex-between"],[1,"headingText"],[1,"headButton",3,"ngStyle"],[1,"headButtonText"],[1,"separator"],[1,"flex-between",2,"margin-top","25px"],[1,"flex-column"],[1,"mdtext"],[1,"smText"],[1,"linkText","fw-600",2,"cursor","pointer",3,"routerLink"],[1,"flex-between",2,"gap","15px"],[1,"amountButton","mdtext"],[1,"row","applyMargin"],[1,"col-md-5"],[1,"input-group","search-box"],["type","button","id","button-addon1",1,"btn",3,"click"],[1,"fa-solid","fa-search"],["type","text","placeholder","Bank or order no. grand amount",1,"form-control",3,"ngModel","ngModelChange","input"],["type","button","id","button-addon1",1,"btn",3,"hidden","click"],[1,"fa-solid","fa-xmark"],[1,"col-md-2","d-flex","justify-content-end","btnadd"],[1,"col-md-6"],[1,"col-md-6","text-end"],[1,"total"],[1,"row"],["class","col-md-12",4,"ngIf","ngIfElse"],[1,"col-md-12"],["loading",""],[1,"col-md-6",3,"hidden"],[1,"showing"],[1,"pagination"],["class","page-item",4,"ngFor","ngForOf"],[1,"card-table","mt-2"],[1,"table-responsive"],[1,"table"],["scope","col"],[1,"btn",3,"disabled","click"],[1,"fa-solid","fa-arrow-up-long"],[1,"fa-solid","fa-arrow-down-long"],[4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],[1,"headButton","headButtonText",3,"ngStyle"],[2,"cursor","pointer"],[1,"linkText2",3,"routerLink"],[1,"not-found"],[1,"page-item"],[1,"page-link",3,"ngClass","disabled","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Last Allocation Order Details"),e.qZA(),e.TgZ(4,"div",3)(5,"span",4),e._uU(6),e.qZA()()(),e._UZ(7,"div",5),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8),e._uU(11,"Creating Date"),e.qZA(),e.TgZ(12,"div",9),e._uU(13),e.ALo(14,"date"),e.qZA()(),e.TgZ(15,"div",7)(16,"div",8),e._uU(17,"Created By"),e.qZA(),e.TgZ(18,"div",9),e._uU(19),e.qZA()(),e.TgZ(20,"div",7)(21,"div",8),e._uU(22,"Order No."),e.qZA(),e.TgZ(23,"div",9),e._uU(24),e.qZA()(),e.TgZ(25,"div",10),e._uU(26," View details "),e.qZA()(),e._UZ(27,"div",5),e.TgZ(28,"div",6)(29,"div",11)(30,"div",8),e._uU(31,"Grand Amount"),e.qZA(),e.TgZ(32,"div",12),e._uU(33),e.ALo(34,"number"),e.qZA()(),e.TgZ(35,"div",11)(36,"div",8),e._uU(37,"Deposit Amounts"),e.qZA(),e.TgZ(38,"div",12),e._uU(39),e.ALo(40,"number"),e.qZA()(),e.TgZ(41,"div",11)(42,"div",8),e._uU(43,"Difference"),e.qZA(),e.TgZ(44,"div",12),e._uU(45),e.ALo(46,"number"),e.qZA()()()(),e.TgZ(47,"div",13)(48,"div",14)(49,"div",15)(50,"button",16),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(51,"i",17),e.qZA(),e.TgZ(52,"input",18),e.NdJ("ngModelChange",function(s){return n.searchText=s})("input",function(s){return n.handleSearchInput(s)}),e.qZA(),e.TgZ(53,"button",19),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(54,"i",20),e.qZA()()(),e._UZ(55,"div",14)(56,"div",21)(57,"div",22),e.TgZ(58,"div",23)(59,"div",24)(60,"p"),e._uU(61),e.qZA()()()(),e.TgZ(62,"div",25),e.YNc(63,w,41,32,"div",26),e.TgZ(64,"div",27),e.YNc(65,y,2,0,"ng-template",null,28,e.W1O),e.qZA(),e.TgZ(67,"div",29)(68,"h6",30),e._uU(69," Showing "),e.TgZ(70,"span"),e._uU(71),e.qZA(),e._uU(72," from "),e.TgZ(73,"span"),e._uU(74),e.qZA(),e._uU(75," data "),e.qZA()(),e.TgZ(76,"div",29)(77,"ul",31),e.YNc(78,P,3,5,"li",32),e.qZA()()()),2&t){const i=e.MAs(66);e.xp6(4),e.Q6J("ngStyle",e.WLB(31,C,null==n.lastAllocationOrder||null==n.lastAllocationOrder.statusObj?null:n.lastAllocationOrder.statusObj.lookupBGColor,null==n.lastAllocationOrder||null==n.lastAllocationOrder.statusObj?null:n.lastAllocationOrder.statusObj.lookupTextColor)),e.xp6(2),e.hij(" ",null==n.lastAllocationOrder||null==n.lastAllocationOrder.statusObj||null==n.lastAllocationOrder.statusObj.translations[0]?null:n.lastAllocationOrder.statusObj.translations[0].lookupName," "),e.xp6(7),e.Oqu(e.lcZ(14,20,null==n.lastAllocationOrder?null:n.lastAllocationOrder.createdAt)),e.xp6(6),e.Oqu(null==n.lastAllocationOrder||null==n.lastAllocationOrder.createdBy?null:n.lastAllocationOrder.createdBy.fullName),e.xp6(5),e.hij(" ",null==n.lastAllocationOrder?null:n.lastAllocationOrder.mainFundAllocationOrderId," "),e.xp6(1),e.Q6J("routerLink",e.VKq(34,O,null==n.lastAllocationOrder?null:n.lastAllocationOrder.mainFundAllocationOrderId)),e.xp6(8),e.hij(" ",e.xi3(34,22,null==n.lastAllocationOrder?null:n.lastAllocationOrder.totalAmountDistibuted,"2.3-3")," JD "),e.xp6(6),e.hij(" ",e.xi3(40,25,null==n.lastAllocationOrder?null:n.lastAllocationOrder.depositAmount,"2.3-3")," JD "),e.xp6(6),e.hij(" ",e.xi3(46,28,null==n.lastAllocationOrder?null:n.lastAllocationOrder.difference,"2.3-3")," JD "),e.xp6(7),e.Q6J("ngModel",n.searchText),e.xp6(1),e.Q6J("hidden",0==n.searchText.length),e.xp6(8),e.hij("Total No. ",n.totalRecords,""),e.xp6(2),e.Q6J("ngIf",n.AllocationOrder)("ngIfElse",i),e.xp6(4),e.Q6J("hidden",0==(null==n.AllocationOrder?null:n.AllocationOrder.length)),e.xp6(4),e.AsE(" ",6*(n.pageNo+1)-5," - ",6==(null==n.AllocationOrder?null:n.AllocationOrder.length)?6*(n.pageNo+1):n.totalRecords," "),e.xp6(3),e.hij(" ",n.totalRecords," "),e.xp6(2),e.Q6J("hidden",n.totalRecords<7),e.xp6(2),e.Q6J("ngForOf",n.pages)}},dependencies:[d.mk,d.sg,d.O5,d.PC,_.rH,a.Fj,a.JJ,a.On,u.N,x.w,d.JJ,d.uU],styles:[".applyMargin[_ngcontent-%COMP%]{margin-top:2.5rem}.total[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:15px 0 0;padding:10px 0}.total[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:19px;color:#929eae;margin:0;padding:10px 0}.card-table[_ngcontent-%COMP%]{border:.5px solid #f4f4f4;box-shadow:3px 7px 12px #0000002e;-webkit-box-shadow:3px 7px 12px 0px rgba(0,0,0,.18);-moz-box-shadow:3px 7px 12px 0px rgba(0,0,0,.18)}.btn-provide[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;outline:none;border:none;padding:8px 14px;border-radius:4px;font-size:12px}.btn-disabled[_ngcontent-%COMP%]{background-color:#c5c6c7;color:#fff;outline:none;border:none;padding:8px 14px;border-radius:4px;font-size:12px}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;gap:8px}.play-left[_ngcontent-%COMP%]{color:#eceaea;transform:rotate(180deg);margin-right:5px}.play-right[_ngcontent-%COMP%]{color:#eceaea}.card-Box[_ngcontent-%COMP%]{background:#ffffff;border:.5px solid #f5f5f5;box-shadow:0 15px 25px #0000001a;border-radius:8px;padding:24px 34px}.flex-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.headingText[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:18px;line-height:22px;color:#1b212d}.mdtext[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:16px;line-height:22px;color:#1b212d}.smText[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-style:normal;font-weight:500;font-size:15px;line-height:22px;color:#858585}.linkText[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-style:normal;font-weight:400;font-size:16px;line-height:22px;color:#4e9aff}.linkText2[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-size:16px;font-weight:600;line-height:20px;letter-spacing:0em;text-align:left;color:#4e9aff}.headButton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:95px;height:34.2px;border-radius:8px}.headButtonText[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-size:14px;font-weight:600;line-height:17px;letter-spacing:0em;text-align:left}.separator[_ngcontent-%COMP%]{border:1px solid #e9e9e9;margin-top:22px}.flex-column[_ngcontent-%COMP%]{display:block;justify-content:center;align-items:center}.amountButton[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:14px 34px 14px 35px;gap:10px;height:48px;background:#f8f8f8;border:.5px solid #e9e9e9;border-radius:10px}.statusButton[_ngcontent-%COMP%]{width:95px;height:34.2px;display:flex;justify-content:center;align-items:center;background:#fff3db;border-radius:8px}"]}),o})();var Z=p(72200),A=p(42953),T=p(75304),q=p(96603);const I=["inputFile"],N=["depositSucess"];function S(o,l){1&o&&(e.TgZ(0,"span",52),e._uU(1,"Selected cheques amount must be equal to allocation amount."),e.qZA())}function J(o,l){if(1&o&&(e.ynx(0),e.YNc(1,S,2,0,"span",46),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.selectedAmount||null==t.f.selectedAmount.errors?null:t.f.selectedAmount.errors.unEqualAmounts)}}function B(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",62),e.NdJ("change",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.handleCheckBoxChange())})("ngModelChange",function(i){const r=e.CHM(t).$implicit;return e.KtG(r.checked=i)}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"number"),e.qZA()()}if(2&o){const t=l.$implicit,n=l.index;e.xp6(2),e.Q6J("ngModel",t.checked)("id",n),e.xp6(2),e.Oqu(null==t?null:t.chequeCustomer),e.xp6(2),e.Oqu(null==t?null:t.chequeNo),e.xp6(2),e.Oqu(null==t||null==t.bank[0]?null:t.bank[0].lookupName),e.xp6(2),e.Oqu(e.xi3(11,7,null==t?null:t.chequeDate,"mediumDate")),e.xp6(3),e.hij("",e.xi3(14,10,null==t?null:t.chequeCollectionJod,"2.3-3")," JD")}}function F(o,l){1&o&&(e.TgZ(0,"div",63),e._UZ(1,"app-not-found"),e.qZA())}function j(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",53)(2,"div",54)(3,"table",55)(4,"thead")(5,"tr"),e._UZ(6,"th"),e.TgZ(7,"th",56)(8,"button",57),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByCustomer())}),e._uU(9," Customer "),e._UZ(10,"i",58)(11,"i",59),e.qZA()(),e.TgZ(12,"th",56)(13,"button",57),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByCheque())}),e._uU(14," Cheque No "),e._UZ(15,"i",58)(16,"i",59),e.qZA()(),e.TgZ(17,"th",56)(18,"button",57),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByBank())}),e._uU(19," Bank "),e._UZ(20,"i",58)(21,"i",59),e.qZA()(),e.TgZ(22,"th",56)(23,"button",57),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByDate())}),e._uU(24," Date "),e._UZ(25,"i",58)(26,"i",59),e.qZA()(),e.TgZ(27,"th",56)(28,"button",57),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByAmount())}),e._uU(29," Amount "),e._UZ(30,"i",58)(31,"i",59),e.qZA()()()(),e.TgZ(32,"tbody"),e.YNc(33,B,15,13,"tr",60),e.qZA()()(),e.YNc(34,F,2,0,"div",61),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(8),e.Q6J("disabled",0==(null==t.settledChequeList?null:t.settledChequeList.length)),e.xp6(2),e.ekj("active",2==t.sort),e.xp6(1),e.ekj("active",3==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.settledChequeList?null:t.settledChequeList.length)),e.xp6(2),e.ekj("active",4==t.sort),e.xp6(1),e.ekj("active",5==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.settledChequeList?null:t.settledChequeList.length)),e.xp6(2),e.ekj("active",6==t.sort),e.xp6(1),e.ekj("active",7==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.settledChequeList?null:t.settledChequeList.length)),e.xp6(2),e.ekj("active",8==t.sort),e.xp6(1),e.ekj("active",9==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.settledChequeList?null:t.settledChequeList.length)),e.xp6(2),e.ekj("active",10==t.sort),e.xp6(1),e.ekj("active",11==t.sort),e.xp6(2),e.Q6J("ngForOf",t.settledChequeList),e.xp6(1),e.Q6J("ngIf",0==(null==t.settledChequeList?null:t.settledChequeList.length))}}function L(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}const G=function(o){return{active:o}};function Q(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"li",64)(1,"button",65),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.setPage(s))}),e._uU(2),e.qZA()()}if(2&o){const t=l.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(3,G,n.pageNo===t))("disabled",n.pageNo===t),e.xp6(1),e.hij(" ",t+1," ")}}function z(o,l){1&o&&(e.TgZ(0,"span",52),e._uU(1,"Uploading the attachment is required please upload"),e.qZA())}function E(o,l){if(1&o&&(e.ynx(0),e.YNc(1,z,2,0,"span",46),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.attachment||null==t.f.attachment.errors?null:t.f.attachment.errors.required)}}function Y(o,l){if(1&o&&(e.ynx(0),e.YNc(1,E,2,1,"ng-container",11),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.f.attachment?null:t.f.attachment.invalid)&&(null==t.f.attachment?null:t.f.attachment.touched)||(null==t.f.attachment?null:t.f.attachment.dirty))}}function H(o,l){if(1&o&&(e.TgZ(0,"small",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.invalidFileType)}}function V(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",67)(1,"p",68),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openMdalImage(s))}),e._uU(2),e.qZA(),e.TgZ(3,"div",69)(4,"button",70),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openMdalImage(s))}),e._UZ(5,"img",71),e.qZA(),e.TgZ(6,"button",72),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.removeFile(s))}),e._UZ(7,"img",73),e.qZA()()()}if(2&o){const t=l.$implicit;e.xp6(2),e.Oqu(null==t?null:t.fileName)}}function R(o,l){if(1&o&&(e.ynx(0),e.YNc(1,V,8,1,"div",66),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filesArray)}}function K(o,l){if(1&o&&(e.TgZ(0,"h5",76),e._UZ(1,"i",77),e._uU(2),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(null==t.response||null==t.response.Errors[0]?null:t.response.Errors[0].ErrorMessageEn)}}function $(o,l){if(1&o&&(e.TgZ(0,"h5",76),e._UZ(1,"i",78),e._uU(2),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(t.depositSuccessMessage)}}function W(o,l){if(1&o&&(e.TgZ(0,"div",74),e.YNc(1,K,3,1,"h5",75),e.YNc(2,$,3,1,"h5",75),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.response||null==t.response.Errors?null:t.response.Errors.length),e.xp6(1),e.Q6J("ngIf",null==t.response?null:t.response.data)}}let X=(()=>{class o{constructor(t,n,i,s,r,v){this.fb=t,this.modalService=n,this._allocationService=i,this._commonService=s,this._headeService=r,this._location=v,this.searchText="",this.orderId=0,this.sort=1,this.totalRecords=0,this.pageNo=0,this.pages=[],this.settledChequeList=[],this.filesArray=[],this.fileTypes=["image/jpeg","image/jpg","image/png","application/pdf"],this.checkedItems=[],this.selectedChequeAmount=0,this.depositSuccessMessage=""}ngOnInit(){this._headeService.setTitle("Allocation > View Details > Deposit Cheque"),this.getAllocationDetails(),this.initForm()}goBack(){this._location.back()}getAllocationDetails(){this.allocationOrderItemDetails=JSON.parse(localStorage.getItem("_mainFundAlocationOrderItemDetails")),this.orderId=this.allocationOrderItemDetails?.allocationOrderDetailsId,this.getListOfSettledChequesForAllocationOrderDetails(),console.log(this.allocationOrderItemDetails)}getListOfSettledChequesForAllocationOrderDetails(){this._allocationService.getListOfSettledChequesForAllocationOrderDetails(`?allocationOrderDetailsId=${this.orderId}&search=${this.searchText}&sort=${this.sort}&pageNo=${this.pageNo}&pageSize=6`).subscribe(n=>{n?.data.length>0&&(this.settledChequeList=n?.data.map(i=>({...i,checked:!1})),this.totalRecords=n?.totalRecordCount,console.log(this.settledChequeList))})}initForm(){this.formGroup=this.fb.group({notes:[""],attachment:["",[a.kI.required]],selectedAmount:[""]})}get f(){return this.formGroup.controls}despositCheque(){if(this.formGroup.invalid)this.formGroup.markAllAsTouched();else{let t=this.filesArray.map(i=>i.file),n=new FormData;n.append("orderDetailId",this.orderId.toString()),n.append("chequeCollectionIds",this.chequeIds.toString()),n.append("notes",this.formGroup.value.notes);for(let i of t)n.append("files",i);this._allocationService.allocationOrderDepositCheque(n).subscribe(i=>{console.log(i),this.response=i,this.response.isSuccess&&(this.depositSuccessMessage="Deposit process successfully completed",this.checkedItems=[],this.filesArray=[],this.formGroup.reset(),this.getListOfSettledChequesForAllocationOrderDetails(),this.goBack()),this.modalService.open(this.depositSucessModal),setTimeout(()=>{this.modalService.dismissAll()},3e3)})}}removeSearch(){this.searchText="",this.getListOfSettledChequesForAllocationOrderDetails()}handleCheckBoxChange(){this.checkedItems=this.settledChequeList.filter(t=>t.checked),this.checkedItems.length>0?(this.selectedChequeAmount=this.checkedItems.reduce((t,n)=>t+n?.chequeCollectionJod,0),this.selectedChequeAmount!==this.allocationOrderItemDetails?.distributedAmount&&this.formGroup.controls.selectedAmount.setErrors({unEqualAmounts:!0}),this.chequeIds=this.checkedItems.map(t=>t.chequeCollectionId)):this.formGroup.controls.selectedAmount.setErrors(null)}handleSearchInput(t){const n=t.target.value;this.searchText=n,n.length>=2&&this.getListOfSettledChequesForAllocationOrderDetails(),n||this.getListOfSettledChequesForAllocationOrderDetails()}filesDropped(t){this.enter=!1;let n=this.checkInvalidImageFormat(t),i=t.map(s=>s.file);this.formGroup.get("attachment")?.setValue("attached"),n||i.forEach(s=>{this._commonService.fileToBase64(s).then(r=>{this.filesArray=[...this.filesArray,r]})})}onSelectFile(t){let n=[...t.target.files];this.formGroup.get("attachment")?.setValue("attached"),n.length>0&&(this.checkInvalidImageFormat(n)||n.forEach(s=>{this._commonService.fileToBase64(s).then(r=>{this.filesArray=[...this.filesArray,r]})}))}checkInvalidImageFormat(t){let n,i=t.map(r=>r.file);n=void 0!==i[0]?i:t;let s=!1;for(let r of n)if(!this.fileTypes.includes(r.type)){s=!0,this.invalidFileType="This file not support, supported formates: JPEG, JPG, PNG, PDF",this.formGroup.get("attachments")?.patchValue(""),setTimeout(()=>{this.invalidFileType=""},3e3);break}return s}removeFile(t){this.inputFile.nativeElement.value=null;let n=this.filesArray.findIndex(i=>i.fileName==t.fileName);this.filesArray.splice(n,1),0==this.filesArray.length&&this.formGroup.get("attachment")?.setValue("")}openMdalImage(t){this.modalService.open(Z.h).componentInstance.imageUploadedView=t}sortByCustomer(){this.sort=3==this.sort?1:2==this.sort?3:2,this.getListOfSettledChequesForAllocationOrderDetails()}sortByCheque(){this.sort=5==this.sort?1:4==this.sort?5:4,this.getListOfSettledChequesForAllocationOrderDetails()}sortByBank(){this.sort=7==this.sort?1:6==this.sort?7:6,this.getListOfSettledChequesForAllocationOrderDetails()}sortByDate(){this.sort=9==this.sort?1:8==this.sort?9:8,this.getListOfSettledChequesForAllocationOrderDetails()}sortByAmount(){this.sort=11==this.sort?1:10==this.sort?11:10,this.getListOfSettledChequesForAllocationOrderDetails()}setPage(t){this.pageNo=t,window.scroll(0,0),this.getListOfSettledChequesForAllocationOrderDetails()}ngOnDestroy(){this._allocationService.despositeAmount.next(""),this._allocationService._viewDepositAmount.next("")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu),e.Y36(A.FF),e.Y36(c.U),e.Y36(T.v),e.Y36(g.r),e.Y36(d.Ye))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-desposit-cheque"]],viewQuery:function(t,n){if(1&t&&(e.Gf(I,5),e.Gf(N,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.inputFile=i.first),e.iGM(i=e.CRH())&&(n.depositSucessModal=i.first)}},decls:108,vars:32,consts:[[1,"card-Box"],[1,"headingText"],[1,"separator"],[1,"d-flex","mt-3",2,"gap","120px"],[1,"flex-column"],[1,"mdtext"],[1,"smText"],[1,"flex-between","mt-3","flex-wrap"],[1,"flex-between","gap-2"],[1,"font-18","fw-600"],[1,"amountButton","mdtext"],[4,"ngIf"],[1,"row","applyMargin"],[1,"col-md-5"],[1,"input-group","search-box"],["type","button","id","button-addon1",1,"btn",3,"click"],[1,"fa-solid","fa-search"],["type","text","placeholder","Search ",1,"form-control",3,"ngModel","ngModelChange","input"],["type","button","id","button-addon1",1,"btn",3,"hidden","click"],[1,"fa-solid","fa-xmark"],[1,"col-md-2","d-flex","justify-content-end","btnadd"],[1,"col-md-6"],[1,"col-md-6","text-end"],[1,"total"],[1,"row"],["class","col-md-12",4,"ngIf","ngIfElse"],[1,"col-md-12"],["loading",""],[1,"col-md-6",3,"hidden"],[1,"showing"],[1,"pagination"],["class","page-item",4,"ngFor","ngForOf"],[3,"formGroup","submit"],[1,"card-Box","mt-3"],[1,"font-18","fw-600","dark-gray","mb-3"],[1,"col-sm-7"],["formControlName","notes","maxlength","150","rows","5",1,"form-control"],[1,"row","mt-3"],[1,"col-sm-6"],[1,"form-group","mb-3"],[1,"font-18","fw-600","dark-gray"],["appImageDrag","","accept",".png,.jpg,.jpeg,.pdf",1,"card-upload","my-3",3,"files","enter","leave","click"],[1,"my-3"],["src","assets/images/upload.png","alt",""],["type","file","accept",".png,.jpg,.jpeg,.pdf","multiple","","hidden","",1,"form-control",3,"change"],["inputFile",""],["class","text-danger",4,"ngIf"],[1,"flex-end",2,"margin-top","24px"],[1,"btns-group","my-2","mx-0"],["type","button",1,"btn","btn-cancel",3,"click"],["type","submit",1,"btn","btn-save",3,"disabled"],["depositSucess",""],[1,"text-danger"],[1,"card-table","mt-2"],[1,"table-responsive"],[1,"table"],["scope","col"],[1,"btn",3,"disabled","click"],[1,"fa-solid","fa-arrow-up-long"],[1,"fa-solid","fa-arrow-down-long"],[4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],["type","checkbox",1,"inputColor",3,"ngModel","id","change","ngModelChange"],[1,"not-found"],[1,"page-item"],[1,"page-link",3,"ngClass","disabled","click"],["class","uploadedfile mb-2",4,"ngFor","ngForOf"],[1,"uploadedfile","mb-2"],[3,"click"],[1,"d-flex"],["type","button",1,"btn","fview",3,"click"],["src","assets/images/eye.png","alt",""],["type","button",1,"btn",3,"click"],["src","assets/images/trash.png","alt",""],[1,"modal-body"],["class","m-0 py-3 fw-600 text-center",4,"ngIf"],[1,"m-0","py-3","fw-600","text-center"],[1,"text-danger","fa-regular","fa-circle-xmark","me-2"],[1,"green-clr","fa-regular","fa-circle-check","me-2"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Deposit Cheque"),e.qZA(),e._UZ(3,"div",2),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5),e._uU(7,"Bank Name"),e.qZA(),e.TgZ(8,"div",6),e._uU(9),e.qZA()(),e.TgZ(10,"div",4)(11,"div",5),e._uU(12,"Account Name"),e.qZA(),e.TgZ(13,"div",6),e._uU(14),e.qZA()(),e.TgZ(15,"div",4)(16,"div",5),e._uU(17,"Account No"),e.qZA(),e.TgZ(18,"div",6),e._uU(19),e.qZA()()(),e._UZ(20,"div",2),e.TgZ(21,"div",7)(22,"div",8)(23,"div",9),e._uU(24,"Allocation Amount"),e.qZA(),e.TgZ(25,"div",10),e._uU(26),e.ALo(27,"number"),e.qZA()(),e.TgZ(28,"div",8)(29,"div",9),e._uU(30,"Selected Cheques Amount"),e.qZA(),e.TgZ(31,"div",10),e._uU(32),e.ALo(33,"number"),e.qZA()(),e.TgZ(34,"div",8)(35,"div",9),e._uU(36,"Difference"),e.qZA(),e.TgZ(37,"div",10),e._uU(38),e.ALo(39,"number"),e.qZA()()(),e.YNc(40,J,2,1,"ng-container",11),e.qZA(),e.TgZ(41,"div",12)(42,"div",13)(43,"div",14)(44,"button",15),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(45,"i",16),e.qZA(),e.TgZ(46,"input",17),e.NdJ("ngModelChange",function(r){return n.searchText=r})("input",function(r){return n.handleSearchInput(r)}),e.qZA(),e.TgZ(47,"button",18),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(48,"i",19),e.qZA()()(),e._UZ(49,"div",13)(50,"div",20)(51,"div",21),e.TgZ(52,"div",22)(53,"div",23)(54,"p"),e._uU(55),e.qZA()()()(),e.TgZ(56,"div",24),e.YNc(57,j,35,27,"div",25),e.TgZ(58,"div",26),e.YNc(59,L,2,0,"ng-template",null,27,e.W1O),e.qZA(),e.TgZ(61,"div",28)(62,"h6",29),e._uU(63," Showing "),e.TgZ(64,"span"),e._uU(65),e.qZA(),e._uU(66," from "),e.TgZ(67,"span"),e._uU(68),e.qZA(),e._uU(69," data "),e.qZA()(),e.TgZ(70,"div",28)(71,"ul",30),e.YNc(72,Q,3,5,"li",31),e.qZA()()(),e.TgZ(73,"form",32),e.NdJ("submit",function(){return n.despositCheque()}),e.TgZ(74,"div",33)(75,"div",34),e._uU(76,"Notes"),e.qZA(),e.TgZ(77,"div",24)(78,"div",35),e._UZ(79,"textarea",36),e.qZA()(),e.TgZ(80,"div",37)(81,"div",38)(82,"div",39)(83,"label",40),e._uU(84," Attachment (Upload Bank Voucher) "),e.qZA(),e.TgZ(85,"div",41),e.NdJ("files",function(r){return n.filesDropped(r)})("enter",function(){return n.enter=!n.enter})("leave",function(){return n.enter=!n.enter})("click",function(){e.CHM(i);const r=e.MAs(93);return e.KtG(r.click())}),e.TgZ(86,"div",42),e._UZ(87,"img",43),e.TgZ(88,"h5"),e._uU(89,"Drag & drop files"),e.qZA(),e.TgZ(90,"p"),e._uU(91,"Supported formates: JPEG, PNG, PDF"),e.qZA()()(),e.TgZ(92,"input",44,45),e.NdJ("change",function(r){return n.onSelectFile(r)}),e.qZA()(),e.YNc(94,Y,2,1,"ng-container",11),e.YNc(95,H,2,1,"small",46),e.qZA()(),e.TgZ(96,"div",24)(97,"div",38),e.YNc(98,R,2,1,"ng-container",11),e.qZA()()(),e.TgZ(99,"div",47)(100,"div",48)(101,"button",49),e.NdJ("click",function(){return n.goBack()}),e._uU(102," Cancel "),e.qZA()(),e.TgZ(103,"div",48)(104,"button",50),e._uU(105,"Save"),e.qZA()()()(),e.YNc(106,W,3,2,"ng-template",null,51,e.W1O)}if(2&t){const i=e.MAs(60);e.xp6(9),e.hij(" ",null==n.allocationOrderItemDetails||null==n.allocationOrderItemDetails.sageBank?null:n.allocationOrderItemDetails.sageBank.accountName," "),e.xp6(5),e.hij(" ",null==n.allocationOrderItemDetails||null==n.allocationOrderItemDetails.sageBank?null:n.allocationOrderItemDetails.sageBank.bankName," "),e.xp6(5),e.hij(" ",null==n.allocationOrderItemDetails||null==n.allocationOrderItemDetails.sageBank?null:n.allocationOrderItemDetails.sageBank.accountNo," "),e.xp6(7),e.hij(" ",e.xi3(27,23,null==n.allocationOrderItemDetails?null:n.allocationOrderItemDetails.distributedAmount,"2.3-3")," JD "),e.xp6(6),e.hij(" ",e.xi3(33,26,n.selectedChequeAmount,"2.3-3")," JD "),e.xp6(6),e.hij(" ",e.xi3(39,29,n.selectedChequeAmount&&(null==n.allocationOrderItemDetails?null:n.allocationOrderItemDetails.distributedAmount)-n.selectedChequeAmount,"2.3-3")," JD "),e.xp6(2),e.Q6J("ngIf",null==n.f.selectedAmount?null:n.f.selectedAmount.errors),e.xp6(6),e.Q6J("ngModel",n.searchText),e.xp6(1),e.Q6J("hidden",0==n.searchText.length),e.xp6(8),e.hij("Total No. ",n.totalRecords,""),e.xp6(2),e.Q6J("ngIf",n.settledChequeList)("ngIfElse",i),e.xp6(4),e.Q6J("hidden",0==(null==n.settledChequeList?null:n.settledChequeList.length)),e.xp6(4),e.AsE(" ",6*(n.pageNo+1)-5," - ",6==(null==n.settledChequeList?null:n.settledChequeList.length)?6*(n.pageNo+1):n.totalRecords," "),e.xp6(3),e.hij(" ",n.totalRecords," "),e.xp6(2),e.Q6J("hidden",n.totalRecords<7),e.xp6(2),e.Q6J("ngForOf",n.pages),e.xp6(1),e.Q6J("formGroup",n.formGroup),e.xp6(21),e.Q6J("ngIf",null==n.f.attachment?null:n.f.attachment.errors),e.xp6(1),e.Q6J("ngIf",n.invalidFileType),e.xp6(3),e.Q6J("ngIf",n.filesArray.length>0),e.xp6(6),e.Q6J("disabled",(null==n.checkedItems?null:n.checkedItems.length)<=0)}},dependencies:[d.mk,d.sg,d.O5,a._Y,a.Fj,a.Wl,a.JJ,a.JL,a.nD,a.sg,a.u,a.On,u.N,x.w,q.z,d.JJ,d.uU],styles:[".applyMargin[_ngcontent-%COMP%]{margin-top:2.5rem}.total[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:15px 0 0;padding:10px 0}.total[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:19px;color:#929eae;margin:0;padding:10px 0}.card-table[_ngcontent-%COMP%]{border:.5px solid #f4f4f4;box-shadow:3px 7px 12px #0000002e;-webkit-box-shadow:3px 7px 12px 0px rgba(0,0,0,.18);-moz-box-shadow:3px 7px 12px 0px rgba(0,0,0,.18)}.btn-provide[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;outline:none;border:none;padding:8px 14px;border-radius:4px;font-size:12px}.btn-disabled[_ngcontent-%COMP%]{background-color:#c5c6c7;color:#fff;outline:none;border:none;padding:8px 14px;border-radius:4px;font-size:12px}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;gap:8px}.play-left[_ngcontent-%COMP%]{color:#eceaea;transform:rotate(180deg);margin-right:5px}.play-right[_ngcontent-%COMP%]{color:#eceaea}.card-Box[_ngcontent-%COMP%]{background:#ffffff;border:.5px solid #f5f5f5;box-shadow:0 15px 25px #0000001a;border-radius:8px;padding:24px 34px}.flex-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.headingText[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:18px;line-height:22px;color:#1b212d}.mdtext[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:16px;color:#1b212d}.smText[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:16px;color:#858585}.linkText[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-style:normal;font-weight:400;font-size:16px;line-height:22px;color:#4e9aff}.linkText2[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-size:16px;font-weight:600;line-height:20px;letter-spacing:0em;text-align:left;color:#4e9aff}.headButton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:95px;height:34.2px;border-radius:8px}.headButtonText[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-size:14px;font-weight:600;line-height:17px;letter-spacing:0em;text-align:left}.separator[_ngcontent-%COMP%]{border:1px solid #e9e9e9;margin-top:22px}.flex-column[_ngcontent-%COMP%]{display:block;justify-content:center;align-items:center}.amountButton[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:14px 34px 14px 35px;gap:10px;height:48px;background:#f8f8f8;border:.5px solid #e9e9e9;border-radius:10px}.statusButton[_ngcontent-%COMP%]{width:95px;height:34.2px;display:flex;justify-content:center;align-items:center;background:#fff3db;border-radius:8px}.flex-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:148px}.inputColor[_ngcontent-%COMP%]{accent-color:#dc3545;height:15px;width:15px}.textArea[_ngcontent-%COMP%]{height:89.5px;width:675px;background:#ffffff;border:.5px solid #f5f5f5;border-radius:8px}.modal-body[_ngcontent-%COMP%]{padding:20px}.card-form[_ngcontent-%COMP%]{background:#ffffff;border:0px solid #c4cdd5;box-shadow:none;border-radius:8px;margin:0;padding:0}.card-page[_ngcontent-%COMP%]{padding:30px}.modal-head[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #c4cdd5;display:flex;justify-content:space-between;align-items:center}.modal-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:22px;color:#1b212d;padding:5px 0 15px;margin:0}.modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#1b212d}.modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#929eae}.modal-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:-5px}.modal-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .invoic[_ngcontent-%COMP%]{color:#dc3545;margin:0}.modal-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#929eae;font-weight:500;padding:1px}.modal-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#1b212d}textarea[_ngcontent-%COMP%]{height:80px!important}.card-upload[_ngcontent-%COMP%]{border:1px dashed #939aa8;text-align:center;padding:10px;border-radius:10px;margin:10px 0;cursor:pointer}.card-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;margin-bottom:15px}.card-upload[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;font-size:18px;color:#0f0f0f}.card-upload[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:18px;color:#676767}.btn-upload[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border-radius:10px;padding:12px 35px;font-size:16px;font-weight:600;margin:10px 0}.card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px;margin:0}.overlay-bi[_ngcontent-%COMP%]{background-color:#c7c7c736;position:absolute;inset:0;z-index:1}.card-form[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{margin:-30px 0 0;z-index:5;position:relative}.card-form[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0}.uploadedfile[_ngcontent-%COMP%]{border:1px solid #11af22;border-radius:4px;display:flex;justify-content:space-between;align-items:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff3f3;border-radius:50%;margin:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}.uploadedfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding:10px;color:#696969;margin:0;cursor:pointer}.uplod[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#676767}.save-img[_ngcontent-%COMP%]{width:22px!important}.fileView[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.btn[_ngcontent-%COMP%]:disabled, .btn.disabled[_ngcontent-%COMP%]{background:#f1f3f3!important;color:#9b9b9b!important;border:1px solid #f1f3f3;cursor:initial}.card-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.progress-bar[_ngcontent-%COMP%]{background-color:#dc3545}.card-sm[_ngcontent-%COMP%]{margin:10px 0}.card-sm[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1b212d;margin-bottom:5px}.card-sm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#929eae}.card-sm[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{background-color:#f0f0f0;height:120px;border-radius:6px;margin:5px 0}.card-sm[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333;padding:10px}.fview[_ngcontent-%COMP%]{background:#fff!important;border-radius:50%;margin:0 5px;width:30px;height:30px}.fview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px!important}.flex-end[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;gap:16px}"]}),o})();const ee=["depositSucess"],te=["inputFile"];function ne(o,l){1&o&&(e.TgZ(0,"span",32),e._uU(1,"Input is required"),e.qZA())}function oe(o,l){if(1&o&&(e.ynx(0),e.YNc(1,ne,2,0,"span",25),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.depositAmount||null==t.f.depositAmount.errors?null:t.f.depositAmount.errors.required)}}function ie(o,l){if(1&o&&(e.ynx(0),e.YNc(1,oe,2,1,"ng-container",14),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.f.depositAmount?null:t.f.depositAmount.invalid)&&(null==t.f.depositAmount?null:t.f.depositAmount.touched)||(null==t.f.depositAmount?null:t.f.depositAmount.dirty))}}function le(o,l){1&o&&(e.TgZ(0,"span",32),e._uU(1,"Amount must be greater than zero"),e.qZA())}function se(o,l){if(1&o&&(e.ynx(0),e.YNc(1,le,2,0,"span",25),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.depositAmount||null==t.f.depositAmount.errors?null:t.f.depositAmount.errors.pattern)}}function ae(o,l){if(1&o&&(e.ynx(0),e.YNc(1,se,2,1,"ng-container",14),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.f.depositAmount?null:t.f.depositAmount.invalid)&&(null==t.f.depositAmount?null:t.f.depositAmount.touched)||(null==t.f.depositAmount?null:t.f.depositAmount.dirty))}}function re(o,l){1&o&&(e.TgZ(0,"span",32),e._uU(1,"Amount must be greater than zero"),e.qZA())}function de(o,l){if(1&o&&(e.ynx(0),e.YNc(1,re,2,0,"span",25),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.depositAmount||null==t.f.depositAmount.errors?null:t.f.depositAmount.errors.zeroAmount)}}function ce(o,l){if(1&o&&(e.ynx(0),e.YNc(1,de,2,1,"ng-container",14),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.f.depositAmount?null:t.f.depositAmount.invalid)&&(null==t.f.depositAmount?null:t.f.depositAmount.touched)||(null==t.f.depositAmount?null:t.f.depositAmount.dirty))}}function pe(o,l){1&o&&(e.TgZ(0,"span",32),e._uU(1,"Deposited amount must be equal to distributed amount"),e.qZA())}function ue(o,l){if(1&o&&(e.ynx(0),e.YNc(1,pe,2,0,"span",25),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.depositAmount||null==t.f.depositAmount.errors?null:t.f.depositAmount.errors.unEqualAmount)}}function ge(o,l){if(1&o&&(e.ynx(0),e.YNc(1,ue,2,1,"ng-container",14),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.f.depositAmount?null:t.f.depositAmount.invalid)&&(null==t.f.depositAmount?null:t.f.depositAmount.touched)||(null==t.f.depositAmount?null:t.f.depositAmount.dirty))}}function _e(o,l){1&o&&(e.TgZ(0,"span",32),e._uU(1,"Uploading the attachment is required please upload"),e.qZA())}function fe(o,l){if(1&o&&(e.ynx(0),e.YNc(1,_e,2,0,"span",25),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.attachment||null==t.f.attachment.errors?null:t.f.attachment.errors.required)}}function he(o,l){if(1&o&&(e.ynx(0),e.YNc(1,fe,2,1,"ng-container",14),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.f.attachment?null:t.f.attachment.invalid)&&(null==t.f.attachment?null:t.f.attachment.touched)||(null==t.f.attachment?null:t.f.attachment.dirty))}}function me(o,l){if(1&o&&(e.TgZ(0,"small",32),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.invalidFileType)}}function xe(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",34)(1,"p",35),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openMdalImage(s))}),e._uU(2),e.qZA(),e.TgZ(3,"div",36)(4,"button",37),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openMdalImage(s))}),e._UZ(5,"img",38),e.qZA(),e.TgZ(6,"button",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.removeFile(s))}),e._UZ(7,"img",40),e.qZA()()()}if(2&o){const t=l.$implicit;e.xp6(2),e.Oqu(null==t?null:t.fileName)}}function Ce(o,l){if(1&o&&(e.ynx(0),e.YNc(1,xe,8,1,"div",33),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filesArray)}}function Ae(o,l){if(1&o&&(e.TgZ(0,"h5",43),e._UZ(1,"i",44),e._uU(2),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(null==t.response||null==t.response.Errors[0]?null:t.response.Errors[0].ErrorMessageEn)}}function ve(o,l){if(1&o&&(e.TgZ(0,"h5",45),e._UZ(1,"i",46),e._uU(2),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(t.depositSuccessMessage)}}function be(o,l){if(1&o&&(e.TgZ(0,"div",0),e.YNc(1,Ae,3,1,"h5",41),e.YNc(2,ve,3,1,"h5",42),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.response||null==t.response.Errors?null:t.response.Errors.length),e.xp6(1),e.Q6J("ngIf",null==t.response?null:t.response.data)}}let Oe=(()=>{class o{constructor(t,n,i,s,r){this.fb=t,this.modalService=n,this.activeModal=i,this._commonService=s,this._allocationService=r,this.filesArray=[],this.fileTypes=["image/jpeg","image/jpg","image/png","application/pdf"],this.depositSuccessMessage="",this.sendtoLoadData=new e.vpe}ngOnInit(){this.initForm(),this.formGroup.valueChanges.subscribe(t=>{0==+t.depositAmount&&this.formGroup.controls.depositAmount.setErrors({zeroAmount:!0})})}initForm(){this.formGroup=this.fb.group({orderDetailId:[""],depositAmount:["",[a.kI.required,a.kI.pattern("^[0-9]+(.[0-9]{1,10})?$")]],attachment:["",[a.kI.required]]})}get f(){return this.formGroup.controls}handleDeposit(){if(this.formGroup.invalid)this.formGroup.markAllAsTouched();else{if(this.formGroup.controls.depositAmount.value<=0)return void this.formGroup.controls.depositAmount.setErrors({zeroAmount:!0});let t=this.filesArray.map(i=>i.file),n=new FormData;n.append("orderDetailId",this.depositAmount.allocationOrderDetailsId),n.append("depositAmount",this.formGroup.value.depositAmount);for(let i of t)n.append("files",i);this._allocationService.allocationOrdersService(n).subscribe(i=>{this.response=i,this.response.isSuccess&&(this.depositSuccessMessage="Deposit process successfully completed",this.sendtoLoadData.emit(!0)),this.modalService.open(this.depositSucessModal),setTimeout(()=>{this.modalService.dismissAll()},3e3)})}}handleFocusOut(t){let n=+this.formGroup.controls.depositAmount.value;t==n?this.formGroup.controls.depositAmount.setValue(n.toFixed(3)):this.formGroup.controls.depositAmount.setErrors({unEqualAmount:!0})}filesDropped(t){this.enter=!1;let n=this.checkInvalidImageFormat(t),i=t.map(s=>s.file);this.formGroup.get("attachment")?.setValue("attached"),n||i.forEach(s=>{this._commonService.fileToBase64(s).then(r=>{this.filesArray=[...this.filesArray,r]})})}onSelectFile(t){let n=[...t.target.files];this.formGroup.get("attachment")?.setValue("attached"),n.length>0&&(this.checkInvalidImageFormat(n)||n.forEach(s=>{this._commonService.fileToBase64(s).then(r=>{this.filesArray=[...this.filesArray,r]})}))}checkInvalidImageFormat(t){let n,i=t.map(r=>r.file);n=void 0!==i[0]?i:t;let s=!1;for(let r of n)if(!this.fileTypes.includes(r.type)){s=!0,this.invalidFileType="This file not support, supported formates: JPEG, JPG, PNG, PDF",this.formGroup.get("attachments")?.patchValue(""),setTimeout(()=>{this.invalidFileType=""},3e3);break}return s}removeFile(t){this.inputFile.nativeElement.value=null;let n=this.filesArray.findIndex(i=>i.fileName==t.fileName);this.filesArray.splice(n,1),0==this.filesArray.length&&this.formGroup.get("attachment")?.setValue("")}openMdalImage(t){this.modalService.open(Z.h).componentInstance.imageUploadedView=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu),e.Y36(A.FF),e.Y36(A.Kz),e.Y36(T.v),e.Y36(c.U))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-cash-deposit-modal"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ee,5),e.Gf(te,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.depositSucessModal=i.first),e.iGM(i=e.CRH())&&(n.inputFile=i.first)}},inputs:{depositAmount:"depositAmount"},outputs:{sendtoLoadData:"sendtoLoadData"},decls:78,vars:16,consts:[[1,"modal-body"],[1,"row"],[1,"col-md-12"],["ngbAutofocus","",1,"modal-head"],[1,"row","mt-3"],[1,"col-md-4"],[1,"flex-column"],[1,"mdtext"],[1,"smText"],[1,"col-md-5"],[3,"formGroup","submit"],[1,"d-flex","align-items-center","gap-2","mt-3"],[1,"font-18","fw-600","dark-gray"],["type","text","formControlName","depositAmount",1,"form-control",3,"focusout"],[4,"ngIf"],[1,"my-4"],[1,"largeText"],[1,"font-18","fw-600","dark-gray","my-3"],[1,"col-md-8"],[1,"form-group","mb-3"],["appImageDrag","","accept",".png,.jpg,.jpeg,.pdf",1,"card-upload",3,"files","enter","leave","click"],[1,"my-3"],["src","assets/images/upload.png","alt",""],["type","file","accept",".png,.jpg,.jpeg,.pdf","multiple","","hidden","",1,"form-control",3,"change"],["inputFile",""],["class","text-danger",4,"ngIf"],[1,"col-md-6"],[1,"flex-end",2,"margin-top","24px"],[1,"btns-group","my-2","mx-0"],["type","button",1,"btn","btn-cancel",3,"click"],["type","submit",1,"btn","btn-save"],["depositSucess",""],[1,"text-danger"],["class","uploadedfile mb-2",4,"ngFor","ngForOf"],[1,"uploadedfile","mb-2"],[3,"click"],[1,"d-flex"],["type","button",1,"btn","fview",3,"click"],["src","assets/images/eye.png","alt",""],["type","button",1,"btn",3,"click"],["src","assets/images/trash.png","alt",""],["class","m-0 py-5 text-center py-2 fw-600",4,"ngIf"],["class","m-0 py-2 text-center fw-600",4,"ngIf"],[1,"m-0","py-5","text-center","py-2","fw-600"],[1,"text-danger","fa-regular","fa-circle-xmark","me-2"],[1,"m-0","py-2","text-center","fw-600"],[1,"green-clr","fa-regular","fa-circle-check","me-2"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),e._uU(5,"Cash Deposit"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7),e._uU(10,"Bank Name"),e.qZA(),e.TgZ(11,"div",8),e._uU(12),e.qZA()()(),e.TgZ(13,"div",5)(14,"div",6)(15,"div",7),e._uU(16,"Account Name"),e.qZA(),e.TgZ(17,"div",8),e._uU(18),e.qZA()()(),e.TgZ(19,"div",5)(20,"div",6)(21,"div",7),e._uU(22,"Account No."),e.qZA(),e.TgZ(23,"div",8),e._uU(24),e.qZA()()()(),e.TgZ(25,"div",4)(26,"div",5)(27,"div",6)(28,"div",7),e._uU(29,"Currency"),e.qZA(),e.TgZ(30,"div",8),e._uU(31),e.qZA()()(),e.TgZ(32,"div",9)(33,"div",6)(34,"div",7),e._uU(35,"Distribute Amount"),e.qZA(),e.TgZ(36,"div",8),e._uU(37),e.ALo(38,"number"),e.qZA()()()(),e.TgZ(39,"form",10),e.NdJ("submit",function(){return n.handleDeposit()}),e.TgZ(40,"div",11)(41,"div",12),e._uU(42,"Deposited Amount"),e.qZA(),e.TgZ(43,"input",13),e.NdJ("focusout",function(){return n.handleFocusOut(null==n.depositAmount?null:n.depositAmount.distributedAmount)}),e.qZA(),e.YNc(44,ie,2,1,"ng-container",14),e.YNc(45,ae,2,1,"ng-container",14),e.YNc(46,ce,2,1,"ng-container",14),e.YNc(47,ge,2,1,"ng-container",14),e.qZA(),e.TgZ(48,"div",15)(49,"div",16),e._uU(50," To Complete the process Please upload the bank deposit voucher "),e.qZA(),e.TgZ(51,"label",17),e._uU(52," Attachment (Upload Bank Voucher) "),e.qZA()(),e.TgZ(53,"div",1)(54,"div",18)(55,"div",19)(56,"div",20),e.NdJ("files",function(r){return n.filesDropped(r)})("enter",function(){return n.enter=!n.enter})("leave",function(){return n.enter=!n.enter})("click",function(){e.CHM(i);const r=e.MAs(64);return e.KtG(r.click())}),e.TgZ(57,"div",21),e._UZ(58,"img",22),e.TgZ(59,"h5"),e._uU(60,"Drag & drop files"),e.qZA(),e.TgZ(61,"p"),e._uU(62,"Supported formates: JPEG, PNG, PDF"),e.qZA()()(),e.TgZ(63,"input",23,24),e.NdJ("change",function(r){return n.onSelectFile(r)}),e.qZA()(),e.YNc(65,he,2,1,"ng-container",14),e.YNc(66,me,2,1,"small",25),e.qZA(),e.TgZ(67,"div",26),e.YNc(68,Ce,2,1,"ng-container",14),e.qZA()(),e.TgZ(69,"div",27)(70,"div",28)(71,"button",29),e.NdJ("click",function(){return n.activeModal.close("Close click")}),e._uU(72," Cancel "),e.qZA()(),e.TgZ(73,"div",28)(74,"button",30),e._uU(75," Save "),e.qZA()()()()()()(),e.YNc(76,be,3,2,"ng-template",null,31,e.W1O)}2&t&&(e.xp6(12),e.hij(" ",null==n.depositAmount||null==n.depositAmount.sageBank?null:n.depositAmount.sageBank.bankName," "),e.xp6(6),e.hij(" ",null==n.depositAmount||null==n.depositAmount.sageBank?null:n.depositAmount.sageBank.accountName," "),e.xp6(6),e.hij(" ",null==n.depositAmount||null==n.depositAmount.sageBank?null:n.depositAmount.sageBank.accountNo," "),e.xp6(7),e.hij(" ",null==n.depositAmount||null==n.depositAmount.currency[0]?null:n.depositAmount.currency[0].lookupName," "),e.xp6(6),e.hij(" ",e.xi3(38,13,null==n.depositAmount?null:n.depositAmount.distributedAmount,"2.3-3")," "),e.xp6(2),e.Q6J("formGroup",n.formGroup),e.xp6(5),e.Q6J("ngIf",null==n.f.depositAmount?null:n.f.depositAmount.errors),e.xp6(1),e.Q6J("ngIf",null==n.f.depositAmount?null:n.f.depositAmount.errors),e.xp6(1),e.Q6J("ngIf",null==n.f.depositAmount?null:n.f.depositAmount.errors),e.xp6(1),e.Q6J("ngIf",null==n.f.depositAmount?null:n.f.depositAmount.errors),e.xp6(18),e.Q6J("ngIf",null==n.f.attachment?null:n.f.attachment.errors),e.xp6(1),e.Q6J("ngIf",n.invalidFileType),e.xp6(2),e.Q6J("ngIf",n.filesArray.length>0))},dependencies:[d.sg,d.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,q.z,d.JJ],styles:[".modal-body[_ngcontent-%COMP%]{padding:20px}.card-form[_ngcontent-%COMP%]{background:#ffffff;border:0px solid #c4cdd5;box-shadow:none;border-radius:8px;margin:0;padding:0}.card-page[_ngcontent-%COMP%]{padding:30px}.modal-head[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #c4cdd5;display:flex;justify-content:space-between;align-items:center}.modal-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:#1b212d;padding:5px 0 15px;margin:0}.modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#1b212d}.modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#929eae}.modal-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:-5px}.modal-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .invoic[_ngcontent-%COMP%]{color:#dc3545;margin:0}.modal-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#929eae;font-weight:500;padding:1px}.modal-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#1b212d}textarea[_ngcontent-%COMP%]{height:80px!important}.card-upload[_ngcontent-%COMP%]{border:1px dashed #939aa8;text-align:center;padding:10px;border-radius:10px;margin:10px 0;cursor:pointer}.card-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;margin-bottom:15px}.card-upload[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;font-size:18px;color:#0f0f0f}.card-upload[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:18px;color:#676767}.btn-upload[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border-radius:10px;padding:12px 35px;font-size:16px;font-weight:600;margin:10px 0}.card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px;margin:0}.overlay-bi[_ngcontent-%COMP%]{background-color:#c7c7c736;position:absolute;inset:0;z-index:1}.card-form[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{margin:-30px 0 0;z-index:5;position:relative}.card-form[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0}.uploadedfile[_ngcontent-%COMP%]{border:1px solid #11af22;border-radius:4px;display:flex;justify-content:space-between;align-items:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff3f3;border-radius:50%;margin:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}.uploadedfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding:10px;color:#696969;margin:0;cursor:pointer}.uplod[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#676767}.save-img[_ngcontent-%COMP%]{width:22px!important}.fileView[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.btn[_ngcontent-%COMP%]:disabled, .btn.disabled[_ngcontent-%COMP%]{background:#f1f3f3!important;color:#9b9b9b!important;border:1px solid #f1f3f3;cursor:initial}.card-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.progress-bar[_ngcontent-%COMP%]{background-color:#dc3545}.card-sm[_ngcontent-%COMP%]{margin:10px 0}.card-sm[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1b212d;margin-bottom:5px}.card-sm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#929eae}.card-sm[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{background-color:#f0f0f0;height:120px;border-radius:6px;margin:5px 0}.card-sm[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333;padding:10px}.fview[_ngcontent-%COMP%]{background:#fff!important;border-radius:50%;margin:0 5px;width:30px;height:30px}.fview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px!important}.depositeText[_ngcontent-%COMP%], .headButtonText[_ngcontent-%COMP%]{font-size:14px;line-height:17px;text-align:left;font-family:Kumbh Sans;font-weight:600;letter-spacing:0}.headButton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:95px;height:34.2px;border-radius:8px}.separator[_ngcontent-%COMP%]{border:1px solid #e9e9e9;margin-top:22px}.flex-column[_ngcontent-%COMP%]{display:block;justify-content:center;align-items:center}.amountButton[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:14px 34px 14px 35px;gap:10px;width:140px;height:48px;background:#f8f8f8;border:.5px solid #e9e9e9;border-radius:10px}.depositeButton[_ngcontent-%COMP%], .statusButton[_ngcontent-%COMP%]{width:95px;height:34.2px;display:flex}.depositeButton[_ngcontent-%COMP%], .statusButton[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border-radius:8px}.statusButton[_ngcontent-%COMP%]{justify-content:center;align-items:center;background:#fff3db}.depositeButton[_ngcontent-%COMP%]{justify-content:center;align-items:center;background:#dc3545}.depositeText[_ngcontent-%COMP%]{color:#fff}.flex-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:31px}input[_ngcontent-%COMP%]{height:40px;width:110px}.largeText[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1b212d}.uploadButton[_ngcontent-%COMP%]{height:48px;width:110px;background:#f8f8f8;display:flex;justify-content:center;align-items:center;border-radius:10px}.uploadText[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:20px;letter-spacing:0;text-align:center;color:#676767}.flex-end[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;gap:16px}.mdtext[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#1b212d}.smText[_ngcontent-%COMP%]{font-weight:500;font-size:16px;color:#929eae}"]}),o})();const Ze=["viewDepositCashModal"];function Te(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.depositAmount(i))}),e._uU(1," Deposit "),e.qZA()}}function qe(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"i",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw(2),r=e.MAs(61);return e.KtG(s.viewCashDepositCashAllocation(i,r))}),e.qZA()()}}function De(o,l){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td",31),e.YNc(13,Te,2,0,"div",32),e.YNc(14,qe,2,0,"div",33),e.qZA()()),2&o){const t=l.$implicit;e.xp6(2),e.Oqu(null==t||null==t.sageBank?null:t.sageBank.bankName),e.xp6(2),e.Oqu(null==t||null==t.sageBank?null:t.sageBank.accountName),e.xp6(2),e.Oqu(null==t||null==t.sageBank?null:t.sageBank.accountNo),e.xp6(2),e.Oqu(null==t||null==t.currency[0]?null:t.currency[0].lookupName),e.xp6(2),e.Oqu(e.xi3(11,7,null==t?null:t.distributedAmount,"2.3-3")),e.xp6(3),e.Q6J("ngIf",14001===(null==t?null:t.status)||14002===(null==t?null:t.status)),e.xp6(1),e.Q6J("ngIf",14003===(null==t?null:t.status))}}function Me(o,l){1&o&&(e.TgZ(0,"div",36),e._UZ(1,"app-not-found"),e.qZA())}function we(o,l){if(1&o&&(e.TgZ(0,"div",21)(1,"div",25)(2,"div",26)(3,"table",27)(4,"thead")(5,"tr")(6,"th",28),e._uU(7," Bank Name "),e.qZA(),e.TgZ(8,"th",28),e._uU(9," Account Name "),e.qZA(),e.TgZ(10,"th",28),e._uU(11," Account No. "),e.qZA(),e.TgZ(12,"th",28),e._uU(13," Currency "),e.qZA(),e.TgZ(14,"th",28),e._uU(15," Distributed Amount "),e.qZA(),e.TgZ(16,"th",28),e._uU(17," Action "),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,De,15,10,"tr",29),e.qZA()()(),e.YNc(20,Me,2,0,"div",30),e.qZA()()),2&o){const t=l.$implicit;e.xp6(19),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",0==(null==t?null:t.length))}}function ye(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}function ke(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",48)(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"div",49)(4,"button",50),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2),v=e.MAs(63);return e.KtG(r.openFileModal(s,v))}),e._UZ(5,"img",51),e.qZA(),e.TgZ(6,"button",52)(7,"a",53),e._UZ(8,"img",54),e.qZA()()()()}if(2&o){const t=l.$implicit,n=l.index,i=e.oxw(2);e.xp6(2),e.AsE("",n+1,".",i.getFileType(null==t?null:t.file),""),e.xp6(5),e.s9C("href",null==t?null:t.file,e.LSH),e.Q6J("download",null==t?null:t.file)}}function Pe(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",8),e._uU(4,"Bank Name"),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.qZA()(),e.TgZ(7,"div",39)(8,"div",8),e._uU(9,"Account Name"),e.qZA(),e.TgZ(10,"div",9),e._uU(11),e.qZA()(),e.TgZ(12,"div",39)(13,"div",8),e._uU(14,"Account No"),e.qZA(),e.TgZ(15,"div",9),e._uU(16),e.qZA()(),e.TgZ(17,"div",39)(18,"div",8),e._uU(19,"Currency"),e.qZA(),e.TgZ(20,"div",9),e._uU(21),e.qZA()(),e.TgZ(22,"div",39)(23,"div",8),e._uU(24,"Deposited Amount"),e.qZA(),e.TgZ(25,"div",9),e._uU(26),e.ALo(27,"number"),e.qZA()()(),e.TgZ(28,"h6",40),e._uU(29,"To Complete the process Please upload the bank deposit voucher"),e.qZA(),e.TgZ(30,"h6",41),e._uU(31,"Attachments"),e.qZA(),e.TgZ(32,"p",42),e._uU(33,"Uploaded files"),e.qZA(),e.TgZ(34,"div",19)(35,"div",43),e.YNc(36,ke,9,4,"div",44),e.qZA()(),e.TgZ(37,"div",45)(38,"div",46)(39,"button",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(40," Close "),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(6),e.hij(" ",null==t.viewCashDeposit||null==t.viewCashDeposit.sageBank?null:t.viewCashDeposit.sageBank.bankName," "),e.xp6(5),e.hij(" ",null==t.viewCashDeposit||null==t.viewCashDeposit.sageBank?null:t.viewCashDeposit.sageBank.accountName," "),e.xp6(5),e.hij(" ",null==t.viewCashDeposit||null==t.viewCashDeposit.sageBank?null:t.viewCashDeposit.sageBank.accountNo," "),e.xp6(5),e.hij(" ",null==t.viewCashDeposit||null==t.viewCashDeposit.currency[0]?null:t.viewCashDeposit.currency[0].lookupName," "),e.xp6(5),e.hij(" ",e.xi3(27,6,null==t.viewCashDeposit?null:t.viewCashDeposit.depositedAmount,"2.3-3")," "),e.xp6(10),e.Q6J("ngForOf",null==t.viewCashDeposit?null:t.viewCashDeposit.files)}}function Ue(o,l){if(1&o&&(e.ynx(0),e._UZ(1,"img",58),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("src",null==t.fileItem?null:t.fileItem.file,e.LSH)}}function Ie(o,l){if(1&o&&(e.TgZ(0,"div",59),e._UZ(1,"img",60)(2,"br"),e.TgZ(3,"a",61),e._uU(4,"click to open pdf "),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(3),e.s9C("href",null==t.fileItem?null:t.fileItem.file,e.LSH)}}function Ne(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",55),e.YNc(1,Ue,2,1,"ng-container",56),e.YNc(2,Ie,5,1,"ng-template",null,57,e.W1O),e.TgZ(4,"div",45)(5,"div",46)(6,"button",47),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(7," Close "),e.qZA()()()()}if(2&o){const t=e.MAs(3),n=e.oxw();e.xp6(1),e.Q6J("ngIf","png"==(null==n.fileItem?null:n.fileItem.fileType)||"jpeg"==(null==n.fileItem?null:n.fileItem.fileType)||"jpg"==(null==n.fileItem?null:n.fileItem.fileType))("ngIfElse",t)}}const Se=function(o,l){return{"background-color":o,color:l}};function Be(o,l){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"number"),e.qZA()()),2&o){const t=l.$implicit;e.xp6(2),e.Oqu(null==t?null:t.chequeCustomer),e.xp6(2),e.Oqu(null==t?null:t.chequeNo),e.xp6(2),e.Oqu(null==t||null==t.bank[0]?null:t.bank[0].lookupName),e.xp6(2),e.Oqu(e.xi3(9,5,null==t?null:t.chequeDate,"mediumDate")),e.xp6(3),e.hij("",e.xi3(12,8,null==t?null:t.chequeCollectionJod,"2.3-3")," JD")}}function Fe(o,l){1&o&&(e.TgZ(0,"div",32),e._UZ(1,"app-not-found"),e.qZA())}function je(o,l){if(1&o&&(e.TgZ(0,"div",2)(1,"div",25)(2,"div",26)(3,"table",27)(4,"thead")(5,"tr")(6,"th",28)(7,"button",29),e._uU(8,"Customer"),e.qZA()(),e.TgZ(9,"th",28)(10,"button",29),e._uU(11,"Cheque No."),e.qZA()(),e.TgZ(12,"th",28)(13,"button",29),e._uU(14,"Bank"),e.qZA()(),e.TgZ(15,"th",28)(16,"button",29),e._uU(17,"Date"),e.qZA()(),e.TgZ(18,"th",28)(19,"button",29),e._uU(20,"Amount"),e.qZA()()()(),e.TgZ(21,"tbody"),e.YNc(22,Be,13,11,"tr",30),e.qZA()()(),e.YNc(23,Fe,2,0,"div",31),e.qZA()()),2&o){const t=e.oxw();e.xp6(22),e.Q6J("ngForOf",null==t.depositedChequesDetails?null:t.depositedChequesDetails.cheques),e.xp6(1),e.Q6J("ngIf",0==(null==t.depositedChequesDetails||null==t.depositedChequesDetails.cheques?null:t.depositedChequesDetails.cheques.length))}}function Le(o,l){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}function Ge(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",33)(1,"p"),e._uU(2),e.qZA(),e.TgZ(3,"div",34)(4,"button",35),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(),v=e.MAs(70);return e.KtG(r.openFileModal(s,v))}),e._UZ(5,"img",36),e.qZA(),e.TgZ(6,"button",37)(7,"a",38),e._UZ(8,"img",39),e.qZA()()()()}if(2&o){const t=l.$implicit,n=l.index,i=e.oxw();e.xp6(2),e.AsE("",n+1,".",i.getFileType(null==t?null:t.file),""),e.xp6(5),e.Q6J("href",null==t?null:t.file,e.LSH)}}function Qe(o,l){if(1&o&&(e.ynx(0),e._UZ(1,"img",46),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("src",null==t.fileItem?null:t.fileItem.file,e.LSH)}}function ze(o,l){if(1&o&&(e.TgZ(0,"div",47),e._UZ(1,"img",48)(2,"br"),e.TgZ(3,"a",49),e._uU(4,"click to open pdf "),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(3),e.s9C("href",null==t.fileItem?null:t.fileItem.file,e.LSH)}}function Ee(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"div",40),e.YNc(1,Qe,2,1,"ng-container",41),e.YNc(2,ze,5,1,"ng-template",null,42,e.W1O),e.TgZ(4,"div",43)(5,"div",44)(6,"button",45),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.KtG(s.close("Close click"))}),e._uU(7," Close "),e.qZA()()()()}if(2&o){const t=e.MAs(3),n=e.oxw();e.xp6(1),e.Q6J("ngIf","png"==(null==n.fileItem?null:n.fileItem.fileType)||"jpeg"==(null==n.fileItem?null:n.fileItem.fileType)||"jpg"==(null==n.fileItem?null:n.fileItem.fileType))("ngIfElse",t)}}const Ye=[{path:"",component:U},{path:"view-allocation/:id",component:(()=>{class o{constructor(t,n,i,s,r){this.route=t,this.router=n,this._headerService=i,this._allocationService=s,this.modalService=r,this.searchText="",this.sort=1,this.pageNo=0,this.pages=[],this.viewDetailsAllocationOrderList=[],this._headerService.setTitle("Allocation > View Details")}ngOnInit(){this.orderId=this.route.snapshot.paramMap.get("id"),this.orderId&&this.getViewDetailsOrderAllocation(this.orderId)}getViewDetailsOrderAllocation(t){this._allocationService.getViewDetailAllocation(t).subscribe(n=>{n.isSuccess&&(this.viewDetailsAllocationOrder=n.data,console.log(n),this.viewDetailsAllocationOrderList=n.data.mainFundAlocationOrderDetails,console.log(this.viewDetailsAllocationOrder),this.totalRecords=n?.info?.totalRecordsCount,this.pagin=Math.ceil(this.totalRecords/6),this.pages=f.w6(this.pagin))})}removeSearch(){this.searchText=""}setPage(t){this.pageNo=t,window.scroll(0,0)}depositAmount(t){if(console.log(t),t?.sageBank.isCash){const n=this.modalService.open(Oe,{backdrop:"static",keyboard:!1,size:"lg",centered:!0});n.componentInstance.depositAmount=t,n.componentInstance.sendtoLoadData.subscribe(i=>{this.modalService.dismissAll(),this.getViewDetailsOrderAllocation(this.orderId)})}else this.router.navigateByUrl("/mainFund-allocation/desposit-cheque"),localStorage.setItem("_mainFundAlocationOrderItemDetails",JSON.stringify(t)),this._allocationService._mainFundAlocationOrderItemDetails.next(t)}viewCashDepositCashAllocation(t,n){console.log(t),t?.sageBank?.isCash?this._allocationService.viewCashAllocationOrderDetailsDeposits(t?.allocationOrderDetailsId).subscribe(i=>{this.modalService.open(n,{centered:!0,size:"md"}),this.viewCashDeposit=i?.data[0]}):this.router.navigateByUrl(`/mainFund-allocation/view-desposited-cheques/${t?.allocationOrderDetailsId}`)}openFileModal(t,n){let i=this.getFileType(t?.file);this.fileItem=t,this.fileItem.fileType=i,this.modalService.open(n)}getFileType(t){return t?.split(".").pop()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(_.gz),e.Y36(_.F0),e.Y36(g.r),e.Y36(c.U),e.Y36(A.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-allocation"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ze,5),2&t){let i;e.iGM(i=e.CRH())&&(n.viewDepositCashModal=i.first)}},decls:64,vars:25,consts:[[1,"card-Box"],[1,"flex-between"],[1,"headingText"],[1,"headButton",3,"ngStyle"],[1,"headButtonText"],[1,"separator"],[1,"flex-between",2,"margin-top","25px"],[1,"flex-column"],[1,"mdtext"],[1,"smText"],[1,"linkText"],[1,"flex-between",2,"gap","15px"],[1,"amountButton","mdtext"],[1,"row","applyMargin"],[1,"col-md-5"],[1,"col-md-2","d-flex","justify-content-end","btnadd"],[1,"col-md-6"],[1,"col-md-6","text-end"],[1,"total"],[1,"row"],["class","col-md-12",4,"ngIf","ngIfElse"],[1,"col-md-12"],["loading",""],["viewDepositCashModal",""],["fileModal",""],[1,"card-table","mt-2"],[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],[2,"cursor","pointer"],["class","depositeButton depositeText",3,"click",4,"ngIf"],[4,"ngIf"],[1,"depositeButton","depositeText",3,"click"],[1,"fa","fa-eye","font-16","gray-500",3,"click"],[1,"not-found"],[1,"modal-body","p-4"],[1,"d-grid"],[1,"d-flex","flex-column"],[1,"font-20","fw-600","my-5"],[1,"font-18","fw-600","my-3"],[1,"fw-700","font-14","gray-500","mb-3"],[1,"col-sm-6"],["class","uploadedfile mb-2",4,"ngFor","ngForOf"],[1,"flex-end"],[1,"btns-group","my-2","mx-0"],["type","button",1,"btn","btn-save",3,"click"],[1,"uploadedfile","mb-2"],[1,"d-flex"],["type","button",1,"btn","fview",3,"click"],["src","assets/images/eye.png","alt",""],["type","button",1,"btn"],["target","_blank",1,"btn","fview",3,"href","download"],["src","assets/images/Download.png","alt",""],[1,"modal-body","p-2"],[4,"ngIf","ngIfElse"],["pdf",""],[1,"w-100",3,"src"],[1,"d-flex","justify-content-center","flex-column","align-items-center"],["height","80","width","80","src","assets/images/pdf.png","alt",""],["target","_blank",1,"text-decoration-none","text-capitalize",3,"href"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Allocation Order Details"),e.qZA(),e.TgZ(4,"div",3)(5,"span",4),e._uU(6),e.qZA()()(),e._UZ(7,"div",5),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8),e._uU(11,"Creating Date"),e.qZA(),e.TgZ(12,"div",9),e._uU(13),e.ALo(14,"date"),e.qZA()(),e.TgZ(15,"div",7)(16,"div",8),e._uU(17,"Created By"),e.qZA(),e.TgZ(18,"div",9),e._uU(19),e.qZA()(),e.TgZ(20,"div",7)(21,"div",8),e._uU(22,"Order No."),e.qZA(),e.TgZ(23,"div",9),e._uU(24),e.qZA()(),e._UZ(25,"div",10),e.qZA(),e._UZ(26,"div",5),e.TgZ(27,"div",6)(28,"div",11)(29,"div",8),e._uU(30,"Grand Amount"),e.qZA(),e.TgZ(31,"div",12),e._uU(32),e.ALo(33,"number"),e.qZA()(),e.TgZ(34,"div",11)(35,"div",8),e._uU(36,"Deposit Amounts"),e.qZA(),e.TgZ(37,"div",12),e._uU(38),e.ALo(39,"number"),e.qZA()(),e.TgZ(40,"div",11)(41,"div",8),e._uU(42,"Difference"),e.qZA(),e.TgZ(43,"div",12),e._uU(44),e.ALo(45,"number"),e.qZA()()()(),e.TgZ(46,"div",13),e._UZ(47,"div",14)(48,"div",14)(49,"div",15)(50,"div",16),e.TgZ(51,"div",17)(52,"div",18)(53,"p"),e._uU(54),e.qZA()()()(),e.TgZ(55,"div",19),e.YNc(56,we,21,2,"div",20),e.TgZ(57,"div",21),e.YNc(58,ye,2,0,"ng-template",null,22,e.W1O),e.qZA()(),e.YNc(60,Pe,41,9,"ng-template",null,23,e.W1O),e.YNc(62,Ne,8,2,"ng-template",null,24,e.W1O)),2&t){const i=e.MAs(59);e.xp6(4),e.Q6J("ngStyle",e.WLB(22,Se,null==n.viewDetailsAllocationOrder||null==n.viewDetailsAllocationOrder.status?null:n.viewDetailsAllocationOrder.status.lookupBGColor,null==n.viewDetailsAllocationOrder||null==n.viewDetailsAllocationOrder.status?null:n.viewDetailsAllocationOrder.status.lookupTextColor)),e.xp6(2),e.hij(" ",null==n.viewDetailsAllocationOrder||null==n.viewDetailsAllocationOrder.status||null==n.viewDetailsAllocationOrder.status.translations[0]?null:n.viewDetailsAllocationOrder.status.translations[0].lookupName," "),e.xp6(7),e.hij(" ",e.lcZ(14,11,null==n.viewDetailsAllocationOrder?null:n.viewDetailsAllocationOrder.createdAt)," "),e.xp6(6),e.hij(" ",null==n.viewDetailsAllocationOrder||null==n.viewDetailsAllocationOrder.createdBy?null:n.viewDetailsAllocationOrder.createdBy.fullName," "),e.xp6(5),e.hij(" ",null==n.viewDetailsAllocationOrder?null:n.viewDetailsAllocationOrder.mainFundAllocationOrderId," "),e.xp6(8),e.hij(" ",e.xi3(33,13,null==n.viewDetailsAllocationOrder?null:n.viewDetailsAllocationOrder.totalAmountDistibuted,"2.3-3")," JD "),e.xp6(6),e.hij(" ",e.xi3(39,16,null==n.viewDetailsAllocationOrder?null:n.viewDetailsAllocationOrder.depositAmount,"2.3-3")," JD "),e.xp6(6),e.hij(" ",e.xi3(45,19,null==n.viewDetailsAllocationOrder?null:n.viewDetailsAllocationOrder.difference,"2.3-3")," JD "),e.xp6(10),e.hij("Total No. ",null==n.viewDetailsAllocationOrderList?null:n.viewDetailsAllocationOrderList.length,""),e.xp6(2),e.Q6J("ngIf",n.viewDetailsAllocationOrderList)("ngIfElse",i)}},dependencies:[d.sg,d.O5,d.PC,u.N,x.w,d.JJ,d.uU],styles:[".applyMargin[_ngcontent-%COMP%]{margin-top:2.5rem}.total[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:15px 0 0;padding:10px 0}.total[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:19px;color:#929eae;margin:0;padding:10px 0}.card-table[_ngcontent-%COMP%]{border:.5px solid #f4f4f4;box-shadow:3px 7px 12px #0000002e;-webkit-box-shadow:3px 7px 12px 0px rgba(0,0,0,.18);-moz-box-shadow:3px 7px 12px 0px rgba(0,0,0,.18)}.btn-provide[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;outline:none;border:none;padding:8px 14px;border-radius:4px;font-size:12px}.btn-disabled[_ngcontent-%COMP%]{background-color:#c5c6c7;color:#fff;outline:none;border:none;padding:8px 14px;border-radius:4px;font-size:12px}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;gap:8px}.play-left[_ngcontent-%COMP%]{color:#eceaea;transform:rotate(180deg);margin-right:5px}.play-right[_ngcontent-%COMP%]{color:#eceaea}.card-Box[_ngcontent-%COMP%]{background:#ffffff;border:.5px solid #f5f5f5;box-shadow:0 15px 25px #0000001a;border-radius:8px;padding:24px 34px}.flex-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.headingText[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:18px;line-height:22px;color:#1b212d}.mdtext[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:16px;color:#1b212d}.smText[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:15px;color:#858585}.linkText[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-style:normal;font-weight:400;font-size:16px;line-height:22px;color:#4e9aff}.linkText2[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-size:16px;font-weight:600;line-height:20px;letter-spacing:0em;text-align:left;color:#4e9aff}.headButton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:95px;height:34.2px;border-radius:8px}.headButtonText[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-size:14px;font-weight:600;line-height:17px;letter-spacing:0em;text-align:left}.separator[_ngcontent-%COMP%]{border:1px solid #e9e9e9;margin-top:22px}.amountButton[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:14px 34px 14px 35px;gap:10px;height:48px;background:#f8f8f8;border:.5px solid #e9e9e9;border-radius:10px}.statusButton[_ngcontent-%COMP%]{width:95px;height:34.2px;display:flex;justify-content:center;align-items:center;background:#fff3db;border-radius:8px}.depositeButton[_ngcontent-%COMP%]{width:95px;height:34.2px;display:flex;justify-content:center;align-items:center;background:#dc3545;border-radius:8px}.depositeText[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-size:14px;font-weight:600;line-height:17px;letter-spacing:0em;text-align:left;color:#fff}.d-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(173px,1fr));gap:20px}.uploadedfile[_ngcontent-%COMP%]{border:1px solid #11af22;border-radius:4px;display:flex;justify-content:space-between;align-items:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50%;margin:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}.uploadedfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding:10px;color:#696969;margin:0;cursor:pointer}"]}),o})()},{path:"desposit-cheque",component:X},{path:"view-desposited-cheques/:orderId",component:(()=>{class o{constructor(t,n,i,s){this._modalService=t,this._headerService=n,this._allocationService=i,this._activeRoute=s,this.viewDetailsAllocationOrderList=[]}ngOnInit(){this._headerService.setTitle("Allocation > View Details > Deposit Cheque"),this._activeRoute.params.subscribe(t=>{this.viewChequeAllocationOrderDetailsDeposits(+t.orderId)})}viewChequeAllocationOrderDetailsDeposits(t){this._allocationService.viewChequeAllocationOrderDetailsDeposits(t).subscribe(n=>{this.depositedChequesDetails=n.data.pop(),console.log(this.depositedChequesDetails)})}openFileModal(t,n){this.fileItem=t,this.fileItem.fileType=this.getFileType(t?.file),this._modalService.open(n)}getFileType(t){return t?.split(".").pop()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A.FF),e.Y36(g.r),e.Y36(c.U),e.Y36(_.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-deposited-cheque-details"]],decls:71,vars:17,consts:[[1,"card-page"],[1,"row"],[1,"col-md-12"],[1,"card-collect","card-with-details"],[1,"d-flex","align-items-center","justify-content-between"],[1,"fw-700","font-18"],[1,"d-flex","flex-column"],[1,"m-0","fw-700","font-14"],[1,"d-grid","gap-4"],[1,"dark-gray"],[1,"light-gray","fw-500"],[1,"d-flex","justify-content-end","fw-600","font-18","align-items-center","gap-2"],[1,"bg-gray-400","py-3","px-5","rounded","d-flex","align-items-center"],[1,"m-0"],[1,"row","my-3"],[1,"col-12","d-flex","align-items-center","justify-content-between"],[1,"fw-600","font-16","gray-500"],["class","col-md-12",4,"ngIf","ngIfElse"],["loading",""],[1,"col-12"],[1,"fw-600","font-18"],[1,"fw-700","font-14","gray-500"],[1,"col-sm-6","col-md-4"],["class","uploadedfile mb-2",4,"ngFor","ngForOf"],["fileModal",""],[1,"card-table","mt-2"],[1,"table-responsive"],[1,"table"],["scope","col"],[1,"btn"],[4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],[1,"not-found"],[1,"uploadedfile","mb-2"],[1,"d-flex"],["type","button",1,"btn","fview",3,"click"],["src","assets/images/eye.png","alt",""],["type","button",1,"btn"],["download","",1,"btn","fview",3,"href"],["src","assets/images/Download.png","alt",""],[1,"modal-body","p-2"],[4,"ngIf","ngIfElse"],["pdf",""],[1,"flex-end"],[1,"btns-group","my-2","mx-0"],["type","button",1,"btn","btn-save",3,"click"],[1,"w-100",3,"src"],[1,"d-flex","justify-content-center","flex-column","align-items-center"],["height","80","width","80","src","assets/images/pdf.png","alt",""],["target","_blank",1,"text-decoration-none","text-capitalize",3,"href"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6",5),e._uU(6,"Deposit Cheque"),e.qZA(),e.TgZ(7,"div",6)(8,"p",7),e._uU(9,"Date & Time"),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.ALo(12,"date"),e.qZA()()(),e._UZ(13,"hr"),e.TgZ(14,"div",8)(15,"div",6)(16,"h6",9),e._uU(17,"Deposit ID"),e.qZA(),e.TgZ(18,"h6",10),e._uU(19),e.qZA()(),e.TgZ(20,"div",6)(21,"h6",9),e._uU(22,"Employee"),e.qZA(),e.TgZ(23,"h6",10),e._uU(24),e.qZA()(),e.TgZ(25,"div",6)(26,"h6",9),e._uU(27,"Account Name"),e.qZA(),e.TgZ(28,"h6",10),e._uU(29),e.qZA()(),e.TgZ(30,"div",6)(31,"h6",9),e._uU(32,"Account No"),e.qZA(),e.TgZ(33,"h6",10),e._uU(34),e.qZA()(),e.TgZ(35,"div",6)(36,"h6",9),e._uU(37,"Currency "),e.qZA(),e.TgZ(38,"h6",10),e._uU(39),e.qZA()()(),e._UZ(40,"hr"),e.TgZ(41,"div",11)(42,"h6"),e._uU(43,"Deposited Amount"),e.qZA(),e.TgZ(44,"div",12)(45,"h6",13),e._uU(46),e.ALo(47,"number"),e.qZA()()()()()(),e.TgZ(48,"div",14)(49,"div",15)(50,"h5",5),e._uU(51,"Deposit Cheque"),e.qZA(),e.TgZ(52,"p",16),e._uU(53),e.qZA()()(),e.TgZ(54,"div",1),e.YNc(55,je,24,2,"div",17),e.TgZ(56,"div",2),e.YNc(57,Le,2,0,"ng-template",null,18,e.W1O),e.qZA()(),e.TgZ(59,"div",1)(60,"div",19)(61,"div",3)(62,"h6",20),e._uU(63,"Attachment"),e.qZA(),e.TgZ(64,"p",21),e._uU(65,"Uploaded files"),e.qZA(),e.TgZ(66,"div",1)(67,"div",22),e.YNc(68,Ge,9,3,"div",23),e.qZA()()()()()(),e.YNc(69,Ee,8,2,"ng-template",null,24,e.W1O)),2&t){const i=e.MAs(58);e.xp6(11),e.Oqu(e.xi3(12,11,null==n.depositedChequesDetails?null:n.depositedChequesDetails.createdAt,"medium")),e.xp6(8),e.Oqu(null==n.depositedChequesDetails?null:n.depositedChequesDetails.depositAllocationRecordId),e.xp6(5),e.Oqu(null==n.depositedChequesDetails||null==n.depositedChequesDetails.createdBy?null:n.depositedChequesDetails.createdBy.fullName),e.xp6(5),e.Oqu(null==n.depositedChequesDetails||null==n.depositedChequesDetails.sageBank?null:n.depositedChequesDetails.sageBank.accountName),e.xp6(5),e.Oqu(null==n.depositedChequesDetails||null==n.depositedChequesDetails.sageBank?null:n.depositedChequesDetails.sageBank.accountNo),e.xp6(5),e.Oqu(null==n.depositedChequesDetails||null==n.depositedChequesDetails.currency[0]?null:n.depositedChequesDetails.currency[0].lookupName),e.xp6(7),e.hij("",e.xi3(47,14,null==n.depositedChequesDetails?null:n.depositedChequesDetails.depositedAmount,"2.3-3")," JD"),e.xp6(7),e.hij("Total No ",null==n.depositedChequesDetails||null==n.depositedChequesDetails.cheques?null:n.depositedChequesDetails.cheques.length,""),e.xp6(2),e.Q6J("ngIf",null==n.depositedChequesDetails?null:n.depositedChequesDetails.cheques)("ngIfElse",i),e.xp6(13),e.Q6J("ngForOf",null==n.depositedChequesDetails?null:n.depositedChequesDetails.files)}},dependencies:[d.sg,d.O5,u.N,x.w,d.JJ,d.uU],styles:[".d-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}.uploadedfile[_ngcontent-%COMP%]{border:1px solid #11af22;border-radius:4px;display:flex;justify-content:space-between;align-items:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50%;margin:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}.uploadedfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding:10px;color:#696969;margin:0;cursor:pointer}"]}),o})()}];let He=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.Bz.forChild(Ye),_.Bz]}),o})(),Ve=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,He,h.m]}),o})()},59442:(b,m,p)=>{p.d(m,{w:()=>h});var d=p(94650);let h=(()=>{class _{}return _.\u0275fac=function(e){return new(e||_)},_.\u0275cmp=d.Xpm({type:_,selectors:[["app-not-found"]],decls:3,vars:0,consts:[[1,"not-found"]],template:function(e,c){1&e&&(d.TgZ(0,"div",0)(1,"p"),d._uU(2," No data to display "),d.qZA()())},styles:[".not-found[_ngcontent-%COMP%]{text-align:center;padding:10%}.not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c9c9d1;font-size:16px;font-weight:600}"]}),_})()},96603:(b,m,p)=>{p.d(m,{z:()=>_});var d=p(94650),h=p(11481);let _=(()=>{class f{constructor(c){this.sanitizer=c,this.files=new d.vpe,this.enter=new d.vpe,this.leave=new d.vpe,this.background="",this.border=""}onDragEnter(c){c.preventDefault(),c.stopPropagation(),this.enter.emit()}onDragOver(c){c.preventDefault(),c.stopPropagation(),this.background="#d9e4f0",this.border="2px dashed #226BC0"}onDragLeave(c){c.preventDefault(),c.stopPropagation(),this.leave.emit(),this.background="",this.border=""}onDrop(c){c.preventDefault(),c.stopPropagation(),this.background="",this.border="";let g=[];for(let a=0;a<c.dataTransfer.files.length;a++){const u=c.dataTransfer.files[a],x=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(u));g.push({file:u,url:x})}g.length>0&&this.files.emit(g)}}return f.\u0275fac=function(c){return new(c||f)(d.Y36(h.H7))},f.\u0275dir=d.lG2({type:f,selectors:[["","appImageDrag",""]],hostVars:4,hostBindings:function(c,g){1&c&&d.NdJ("dragenter",function(u){return g.onDragEnter(u)})("dragover",function(u){return g.onDragOver(u)})("dragleave",function(u){return g.onDragLeave(u)})("drop",function(u){return g.onDrop(u)}),2&c&&d.Udp("background",g.background)("border",g.border)},outputs:{files:"files",enter:"enter",leave:"leave"}}),f})()}}]);