"use strict";(self.webpackChunkmarkaizaAdmin=self.webpackChunkmarkaizaAdmin||[]).push([[2881],{43346:(m,S,u)=>{u.d(S,{k:()=>v});var r=u(94650),O=u(80529),g=u(69082);let v=(()=>{class p{constructor(e,s){this.http=e,this.sharedService=s,this.apiUrl=this.sharedService.getUrl,this.apiUrl2=this.sharedService.getUrl2}GetRegisterDetails(e){return this.http.get(this.apiUrl+`Register/GetRegisterDetails?Id=${e}`,this.sharedService.getHeaders())}getReturnServiceOrderRefundDetails(e){return this.http.get(this.apiUrl+`ServiceLayerReturnOrder/GetReturnOrderRefundDetails?OrderID=${e}`,this.sharedService.getHeaders())}getServicesReturnOrders(e){return this.http.get(this.apiUrl+`ServiceLayerReturnOrder/GetServiceReturnOrders?${e}`,this.sharedService.getHeaders())}cashierRefundServiceOrder(e){return this.http.post(this.apiUrl+"ServiceLayerReturnOrder/CashierRefundServiceOrder",e,this.sharedService.getHeaders())}sendServiceReturnOrderToTreasury(e){return this.http.post(this.apiUrl+"ServiceLayerReturnOrder/SendServiceReturnOrderToTreasury",e,this.sharedService.getHeaders())}getReturnDpOrderRefundDetails(e){return this.http.get(this.apiUrl+`DirectPaymentReturnOrder/GetReturnOrderRefundDetails?OrderID=${e}`,this.sharedService.getHeaders())}getDpReturnOrders(e){return this.http.get(this.apiUrl+`DirectPaymentReturnOrder/GetReturnOrders${e}`,this.sharedService.getHeaders())}rejectDpReturnOrder(e){return this.http.post(this.apiUrl+"DirectPaymentReturnOrder/RejectReturnOrder",e,this.sharedService.getHeaders())}dPCashierFullRefundOrder(e){return this.http.post(this.apiUrl+"DirectPaymentReturnOrder/CashierFullRefundOrder",e,this.sharedService.getHeaders())}dpSignInvoice(e){return this.http.post(this.apiUrl+"DirectPaymentReturnOrder/SignRefundInvoice",e,this.sharedService.getHeaders())}sendReturnDpOrderToTreasury(e){return this.http.post(this.apiUrl+"DirectPaymentReturnOrder/SendReturnOrderToTreasury",e,this.sharedService.getHeaders())}dpTreasuryFullRefundByCheque(e){return this.http.post(this.apiUrl+"DirectPaymentReturnOrder/TreasuryFullRefundByCheque",e,this.sharedService.getHeaders())}dpTreasuryFullRefundByBankTransfer(e){return this.http.post(this.apiUrl+"DirectPaymentReturnOrder/TreasuryFullRefundByBankTransfer",e,this.sharedService.getHeaders())}addFollowUp(e){return this.http.post(this.apiUrl+"PromiseryNotes/AddFollowUp",e,this.sharedService.getHeaders())}receivePNByCustomer(e){return this.http.post(this.apiUrl+"PromiseryNotes/ReceivePNByCustomer",e,this.sharedService.getHeaders())}serviceSignRefundInvoice(e){return this.http.post(this.apiUrl+"ServiceLayerReturnOrder/SignRefundInvoice",e,this.sharedService.getHeaders())}treasuryRefundServiceOrderByCheque(e){return this.http.post(this.apiUrl+"ServiceLayerReturnOrder/TreasuryRefundServiceOrderByCheque",e,this.sharedService.getHeaders())}treasuryServiceLayerOrderByBankTransfer(e){return this.http.post(this.apiUrl+"ServiceLayerReturnOrder/TreasuryServiceLayerOrderByBankTransfer",e,this.sharedService.getHeaders())}getServiceReturnOrderRefundDetails(e){return this.http.get(this.apiUrl+`ServiceLayerReturnOrder/GetReturnOrderRefundDetails?OrderID=${e}`,this.sharedService.getHeaders())}rejectServicesReturnOrder(e){return this.http.post(this.apiUrl+"ServiceLayerReturnOrder/RejectReturnOrder",e,this.sharedService.getHeaders())}rejectSparePartsReturnOrder(e){return this.http.post(this.apiUrl+"SparePartsReturnOrder/RejectReturnOrder",e,this.sharedService.getHeaders())}uploadCreditRefund(e){return this.http.post(this.apiUrl+"SparePartsReturnOrder/UploadCreditRefund",e,this.sharedService.getHeaders())}getSparePartsReturnOrders(e){return this.http.get(this.apiUrl+`SparePartsReturnOrder/GetSparePartsReturnOrders?${e}`,this.sharedService.getHeaders())}getSparePartsReturnOrdersPrts(e){return this.http.get(this.apiUrl+`SparePartsReturnOrder/GetDparePartsReturnOrdersPrts?sparePartsSalesOrderOpportunityId=${e}&PageNo=0&PageSize=6`,this.sharedService.getHeaders())}getSparePartsReturnOrdersPrtsV2(e){return this.http.get(this.apiUrl+`SparePartsReturnOrder/GetDparePartsReturnOrdersPrtsV2?sparePartsSalesOrderOpportunityId=${e}&PageNo=0&PageSize=1000`,this.sharedService.getHeaders())}getReturnOrderRefundDetails(e){return this.http.get(this.apiUrl+`SparePartsReturnOrder/GetReturnOrderRefundDetails?OrderID=${e}`,this.sharedService.getHeaders())}cashierFullRefundSparePartsOrder(e){return this.http.post(this.apiUrl+"SparePartsReturnOrder/CashierFullRefundSparePartsOrder",e,this.sharedService.getHeaders())}sendSparePartsReturnOrderToTreasury(e){return this.http.post(this.apiUrl+"SparePartsReturnOrder/SendSparePartsReturnOrderToTreasury",e,this.sharedService.getHeaders())}treasuryFullRefundSparePartsOrderByCheque(e){return this.http.post(this.apiUrl+"SparePartsReturnOrder/TreasuryFullRefundSparePartsOrderByCheque",e,this.sharedService.getHeaders())}treasuryFullRefundSparePartsOrderByBankTransfer(e){return this.http.post(this.apiUrl+"SparePartsReturnOrder/TreasuryFullRefundSparePartsOrderByBankTransfer",e,this.sharedService.getHeaders())}signRefundInvoice(e){return this.http.post(this.apiUrl+"SparePartsReturnOrder/SignRefundInvoice",e,this.sharedService.getHeaders())}collectZeroReturnOrder(e){return this.http.post(this.apiUrl+"SparePartsReturnOrder/CollectZeroReturnOrder",e,this.sharedService.getHeaders())}viewReturnOrderOrigionalInvoice(e){return this.http.post(this.apiUrl+"Cashier/ViewReturnOrderOrigionalInvoice",e,this.sharedService.getHeaders())}viewServiceLayerReturnOrderOrigionalInvoice(e){return this.http.post(this.apiUrl+"Cashier/ViewServiceLayerReturnOrderOrigionalInvoice",e,this.sharedService.getHeaders())}getBanks(){return this.http.get(this.apiUrl+"BankAccount/GetBanks?pageNo=0&status=2001&pageSize=1000",this.sharedService.getHeaders())}getMarkaziaCustomers(e,s){return this.http.get(this.apiUrl+`Customer/GetMarkaziaCustomers?Search=${e}&CustomerCredit=${s}&PageNo=0&PageSize=1000`,this.sharedService.getHeaders())}addMarkaziaCustomer(e){return this.http.post(this.apiUrl+"Customer/AddMarkaziaCustomer",e,this.sharedService.getHeaders())}getRegisterPaymentTypesForOrders(e,s){return this.http.get(this.apiUrl+`Register/GetRegisterPaymentTypesForOrders?RegisterId=${e}&OrderTypeId=${s}&PageNo=0&PageSize=20`,this.sharedService.getHeaders())}getCustomerPaymentsOrderDetails(e){return this.http.get(this.apiUrl+`CustomerPayment/GetCustomerPaymentsOrderDetails?orderId=${e}`,this.sharedService.getHeaders())}GetServicesSalesOrders(e,s,d,h,o,l,t,n,i){let a=`SalesOrders/GetServicesSalesOrders?orderNo=${e}&status=${s||""}&BranchId=${d||0}&Customer=${h}&Vin=${o}&ServiceAdvisorId=${l}&sort=${n}`;return a+=t>0?`&customerId=${t}&PageNo=0&PageSize=1000`:`&PageNo=${i-1}&PageSize=6`,this.http.get(this.apiUrl+a,this.sharedService.getHeaders())}GetDirectPaymentSalesOrders(e,s,d,h,o,l,t,n,i){let a=`SalesOrders/GetDirectPaymentSalesOrders?orderNo=${e}&status=${s||""}&BranchId=${d||0}&Customer=${h}&Vin=${o}&SalesConsultantId=${l}&sort=${n}`;return a+=t>0?`&customerId=${t}&PageNo=0&PageSize=1000`:`&PageNo=${i-1}&PageSize=6`,this.http.get(this.apiUrl+a,this.sharedService.getHeaders())}GetSparePartsSalesOrders(e,s,d,h,o,l,t,n,i){let a=`SalesOrders/GetSparePartsSalesOrders?orderNo=${e}&status=${s||""}&BranchId=${d||0}&Customer=${h}&Vin=${o}&SalesConsultantId=${l}&sort=${n}`;return a+=t>0?`&customerId=${t}&PageNo=0&PageSize=1000`:`&PageNo=${i-1}&PageSize=6`,this.http.get(this.apiUrl+a,this.sharedService.getHeaders())}GetOtherRevenues(e,s,d,h,o,l){return this.http.get(this.apiUrl+`OtherRevenue/GetOtherRevenuesOrders?receiptNo=${e}&categoryId=${s}&Customer=${d}&amouunt=${h}&sort=${o}&PageNo=${l-1}&PageSize=6`,this.sharedService.getHeaders())}getCustomerPaymentsOrders(e,s,d,h,o,l){return this.http.get(this.apiUrl+`CustomerPayment/GetCustomerPaymentsOrders?receiptNo=${e}&Customer=${d}&CategoryId=${s}&Amouunt=${h}&Sort=${o}&PageNo=${l-1}&PageSize=6`,this.sharedService.getHeaders())}getInHouceFinancingSalesOrders(e,s,d,h,o,l,t,n,i){let a=`SalesOrders/GetInHouceFinancingSalesOrders?status=${e||""}&BranchId=${s||0}&Customer=${d}&Vin=${h}&SalesConsultantId=${o}&InhouseCard=${l}&sort=${n}`;return a+=t>0?`&customerId=${t}&PageNo=0&PageSize=1000`:`&PageNo=${i-1}&PageSize=6`,this.http.get(this.apiUrl+a,this.sharedService.getHeaders())}getBanksUnderTakingSalesOrders(e,s,d,h,o,l,t,n,i){let a=`SalesOrders/GetBanksUnderTakingSalesOrders?status=${e||""}&BranchId=${s||0}&SalesConsultantId=${o}&Customer=${d}&Vin=${h}&BankCard=${l}&Sort=${n}`;return a+=t>0?`&customerId=${t}&PageNo=0&PageSize=1000`:`&PageNo=${i-1}&PageSize=6`,this.http.get(this.apiUrl+a,this.sharedService.getHeaders())}getTransferFeesOrders(e){return this.http.get(this.apiUrl+`TransferFeesOrder/GetTransferFeesOrders${e}`,this.sharedService.getHeaders())}getPNOrdersBooks(e){return this.http.get(this.apiUrl+`PromiseryNotes/GetPNOrdersBooks${e}`,this.sharedService.getHeaders())}getPNOrdersBooksPNS(e){return this.http.get(this.apiUrl+`PromiseryNotes/GetPNOrdersBooksPNS${e}`,this.sharedService.getHeaders())}getOrdersEarlySettlement(e){return this.http.get(this.apiUrl+`PromiseryNotes/GetOrdersEarlySettlement${e}`,this.sharedService.getHeaders())}getOrdersEarlySettlementNotes(e){return this.http.get(this.apiUrl+`PromiseryNotes/GetOrdersEarlySettlementNotes${e}`,this.sharedService.getHeaders())}uploadFile(e){return this.http.post(this.apiUrl+"Upload/UpdateFile",e,this.sharedService.getHeaders())}AddOtherRevenueOrders(e){return this.http.post(this.apiUrl+"OtherRevenue/AddOtherRevenueOrders",e,this.sharedService.getHeaders())}addOtherRevenueOrdersV2(e){return this.http.post(this.apiUrl+"OtherRevenue/AddOtherRevenueOrdersV2",e,this.sharedService.getHeaders())}addCustomerPaymentOrders(e){return this.http.post(this.apiUrl+"CustomerPayment/AddCustomerPaymentOrders",e,this.sharedService.getHeaders())}collectionOrderV2PNOrder(e){return this.http.post(this.apiUrl+"Cashier/CollectionOrderV2PNOrder",e,this.sharedService.getHeaders())}GetServicesSalesOrderDetails(e){return this.http.get(this.apiUrl+`SalesOrders/GetServicesSalesOrderDetails?salesOrderId=${e}`,this.sharedService.getHeaders())}GetDirectPaymentSalesOrdersDetails(e){return this.http.get(this.apiUrl+`SalesOrders/GetDirectPaymentSalesOrdersDetails?directPaymentSalesOrderOpportunityNo=${e}`,this.sharedService.getHeaders())}GetSparePartsSalesOrdersDetails(e){return this.http.get(this.apiUrl+`SalesOrders/GetSparePartsSalesOrdersDetails?sparePartsSalesOrderOpportunityNo=${e}`,this.sharedService.getHeaders())}getBanksUnderTakingSalesOrdersDetails(e){return this.http.get(this.apiUrl+`SalesOrders/GetBanksUnderTakingSalesOrdersDetails?banksUnderTakingSalesOrderOpportunityNo=${e}`,this.sharedService.getHeaders())}getInHouseFinancingSalesOrdersDetails(e){return this.http.get(this.apiUrl+`SalesOrders/GetInHouseFinancingSalesOrdersDetails?OpportunityNo=${e}`,this.sharedService.getHeaders())}GetServicesSalesOrderSpareparts(e,s){return this.http.get(this.apiUrl+`SalesOrders/GetServicesSalesOrderSpareparts?servicesSalesOrderNo=${e}&PageNo=${s}&PageSize=3`,this.sharedService.getHeaders())}GetServicesSalesOrderLabors(e,s){return this.http.get(this.apiUrl+`SalesOrders/GetServicesSalesOrderLabors?servicesSalesOrderNo=${e}&PageNo=${s}&PageSize=3`,this.sharedService.getHeaders())}GetServicesSalesOrderSublets(e,s){return this.http.get(this.apiUrl+`SalesOrders/GetServicesSalesOrderSublets?servicesSalesOrderNo=${e}&PageNo=${s}&PageSize=3`,this.sharedService.getHeaders())}GetSparePartsSalesOrderSpareparts(e,s){return this.http.get(this.apiUrl+`SalesOrders/GetSparePartsSalesOrderSpareparts?sparePartsSalesOrderOpportunityId=${e}&PageNo=${s}&PageSize=3`,this.sharedService.getHeaders())}GetBranches(e){let s="Branches/GetBranches?Status=2001&sort=2&PageNo=0&PageSize=100";return e&&(s+=`&branchTypeId=${e}`),this.http.get(this.apiUrl+s,this.sharedService.getHeaders())}GetCategories(){return this.http.get(this.apiUrl+"OtherRevenue/GetOtherRevenue?sort=1&PageNo=0&PageSize=100&status=2001",this.sharedService.getHeaders())}getTerminalProviders(){return this.http.get(this.apiUrl+"TerminalProviders/GetProviders?status=2001&PageNo=0&PageSize=1000",this.sharedService.getHeaders())}getCustomerPaymentCategories(){return this.http.get(this.apiUrl+`CustomerPayment/GetCustomerPayment?sort=1&PageNo=0&PageSize=1000&status=2001&registerId=${this.sharedService.getRegister?.registerObj?.id}`,this.sharedService.getHeaders())}getUsers(e){return this.http.get(this.apiUrl+`User/GetUsers?sort=2&Status=2001&Invitation=2004&PageSize=1000&RoleId=${e}`,this.sharedService.getHeaders())}getLookupsById(e){return this.http.get(this.apiUrl+`Lookups/GetLookups?lookupTypeId=${e}&pageNo=0&pageSize=1000`,this.sharedService.getHeaders())}getBankAccounts(e){return this.http.get(this.apiUrl+`BankAccount/GetBankAccounts${e}`,this.sharedService.getHeaders())}searchCustomers(e){return this.http.get(`${this.apiUrl}Customer/GetCustomers?search=${e}`,this.sharedService.getHeaders())}customersList(e=""){return this.http.get(`${this.apiUrl}Customer/GetCustomers?Search=${e}&Sort=1&PageNo=0&PageSize=10000`,this.sharedService.getHeaders())}CollectionOrder(e){return this.http.post(this.apiUrl+"Cashier/CollectionOrder",e,this.sharedService.getHeaders())}collectionOrderV2(e){return this.http.post(this.apiUrl+"Cashier/CollectionOrderV2",e,this.sharedService.getHeaders())}collectionOrderV3(e){return this.http.post(this.apiUrl+"Cashier/CollectionOrderV3",e,this.sharedService.getHeaders())}servicesOrdersCollection(e){return this.http.post(this.apiUrl+"Cashier/ServicesOrdersCollection",e,this.sharedService.getHeaders())}collectionOrderV2MultiCollect(e){return this.http.post(this.apiUrl+"Cashier/CollectionOrderV2MultiCollect",e,this.sharedService.getHeaders())}collectionOrderV4(e){return this.http.post(this.apiUrl+"Cashier/CollectionOrderV4",e,this.sharedService.getHeaders())}servicesOrdersCollectionV2(e){return this.http.post(this.apiUrl+"Cashier/ServicesOrdersCollectionV2",e,this.sharedService.getHeaders())}reverseCollection(e){return this.http.post(this.apiUrl+"Cashier/ReverseCollection",e,this.sharedService.getHeaders())}refundReciptsForAllOrders(e){return this.http.post(this.apiUrl+"Cashier/RefundReciptsForAllOrders",e,this.sharedService.getHeaders())}uploadSignedInvoice(e){return this.http.post(this.apiUrl+"Cashier/UploadSignedInvoice",e,this.sharedService.getHeaders())}viewOrderOrigionalInvoice(e){return this.http.post(this.apiUrl+"Cashier/ViewOrderOrigionalInvoice",e,this.sharedService.getHeaders())}viewOrderOrigionalInvoiceServiceOrder(e){return this.http.post(this.apiUrl+"Cashier/ViewOrderOrigionalInvoiceServiceOrder",e,this.sharedService.getHeaders())}NeedModify(e){return this.http.post(this.apiUrl+"SalesOrders/NeedModify",e,this.sharedService.getHeaders())}cancelOrder(e){return this.http.post(this.apiUrl+"SalesOrders/CanceOrder",e,this.sharedService.getHeaders())}GetOtherRevenuesOrderDetails(e){return this.http.get(this.apiUrl+`OtherRevenue/GetOtherRevenuesOrderDetails?orderId=${e}`,this.sharedService.getHeaders())}GetOtherRevenueCollectionPayments(e){return this.http.get(this.apiUrl+`Treasury/GetOtherRevenueCollectionPayments?CollectionId=${e}`,this.sharedService.getHeaders())}getOtherRevenueCollectionDetails(e){return this.http.get(this.apiUrl+`Treasury/GetOtherRevenueCollectionDetails?CollectionId=${e}`,this.sharedService.getHeaders())}}return p.\u0275fac=function(e){return new(e||p)(r.LFG(O.eN),r.LFG(g.F))},p.\u0275prov=r.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},86260:(m,S,u)=>{u.d(S,{i:()=>l});var r=u(94650),O=u(39485),g=u(42953),v=u(75304),p=u(36895);function P(t,n){if(1&t&&(r.TgZ(0,"div",3)(1,"h5"),r._UZ(2,"i",4),r._uU(3),r.qZA()()),2&t){const i=r.oxw();r.xp6(3),r.hij(" ",i.message,"")}}function e(t,n){if(1&t){const i=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){r.CHM(i);const c=r.oxw();return r.KtG(c._commonService.downloadInvoices({invoices:null==c.data?null:c.data.receipt}))}),r._uU(1,"View Receipt"),r.qZA()}}function s(t,n){if(1&t&&(r.ynx(0),r.TgZ(1,"h5"),r._UZ(2,"i",10),r._uU(3),r.qZA(),r.BQk()),2&t){const i=r.oxw(2);r.xp6(3),r.Oqu(i.message)}}function d(t,n){if(1&t&&(r.TgZ(0,"h5"),r._UZ(1,"i",10),r._uU(2),r.qZA()),2&t){const i=n.$implicit;r.xp6(2),r.hij(" ",i.ErrorMessageEn||i.errorMessageEn," ")}}function h(t,n){if(1&t&&r.YNc(0,d,3,1,"h5",11),2&t){const i=r.oxw(2);r.Q6J("ngForOf",i.messageError)}}function o(t,n){if(1&t){const i=r.EpF();r.TgZ(0,"div",3),r.YNc(1,s,4,1,"ng-container",6),r.YNc(2,h,1,1,"ng-template",null,7,r.W1O),r.TgZ(4,"div",8)(5,"button",9),r.NdJ("click",function(){r.CHM(i);const c=r.oxw();return r.KtG(c.activeModal.close("Close click"))}),r._uU(6,"Close"),r.qZA()()()}if(2&t){const i=r.MAs(3),a=r.oxw();r.xp6(1),r.Q6J("ngIf",a.message)("ngIfElse",i)}}let l=(()=>{class t{constructor(i,a,c,R){this.router=i,this.modalService=a,this.activeModal=c,this._commonService=R,this.loadPageData=new r.vpe}ngOnInit(){this.type&&"success"==this.type&&setTimeout(()=>{this.routeName&&this.router.navigateByUrl(this.routeName),this.toLoadData(),this.dismissOnlyActive?this.activeModal.dismiss():this.modalService.dismissAll()},5e3)}toLoadData(){this.loadPageData.emit()}}return t.\u0275fac=function(i){return new(i||t)(r.Y36(O.F0),r.Y36(g.FF),r.Y36(g.Kz),r.Y36(v.v))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-modal-message"]],inputs:{name:"name",type:"type",message:"message",messageError:"messageError",routeName:"routeName",data:"data",dismissOnlyActive:"dismissOnlyActive",errors:"errors"},outputs:{loadPageData:"loadPageData"},decls:4,vars:3,consts:[["class","message",4,"ngIf"],[1,"p-3","d-flex","justify-content-center"],["type","button","class","redBtn",3,"click",4,"ngIf"],[1,"message"],[1,"fa-regular","fa-circle-check"],["type","button",1,"redBtn",3,"click"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"btns-group","my-2","text-center"],["type","button",1,"btn","btn-cancel",3,"click"],[1,"fa-regular","fa-circle-xmark"],[4,"ngFor","ngForOf"]],template:function(i,a){1&i&&(r.YNc(0,P,4,1,"div",0),r.TgZ(1,"div",1),r.YNc(2,e,2,0,"button",2),r.qZA(),r.YNc(3,o,7,2,"div",0)),2&i&&(r.Q6J("ngIf","success"==a.type),r.xp6(2),r.Q6J("ngIf",null==a.data?null:a.data.receipt),r.xp6(1),r.Q6J("ngIf","error"==a.type))},dependencies:[p.sg,p.O5],styles:[".message[_ngcontent-%COMP%]{padding:10px;text-align:center}.message[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:#1b212d;margin:0;padding:20px}.message[_ngcontent-%COMP%]   .fa-circle-check[_ngcontent-%COMP%]{color:#25bb00;font-size:28px;vertical-align:middle;margin:2px 10px 5px}.message[_ngcontent-%COMP%]   .fa-circle-xmark[_ngcontent-%COMP%]{color:#dc3545;font-size:28px;vertical-align:middle;margin:2px 10px 5px}.btns-group[_ngcontent-%COMP%]{justify-content:center}"]}),t})()}}]);