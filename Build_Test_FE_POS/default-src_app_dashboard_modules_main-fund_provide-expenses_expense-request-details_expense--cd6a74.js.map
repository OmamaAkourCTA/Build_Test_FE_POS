{"version":3,"file":"default-src_app_dashboard_modules_main-fund_provide-expenses_expense-request-details_expense--cd6a74.js","mappings":"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","sources":["./src/app/dashboard/modules/main-fund/provide-expenses/expense-request-details/expense-request-details.component.html","./src/app/dashboard/modules/main-fund/provide-expenses/expense-request-details/expense-request-details.component.ts"],"sourcesContent":["<div class=\"modal-body\">\n  <div class=\"modal-head d-flex justify-content-between\">\n    <h4>Request Details </h4>\n    <p *ngIf=\"details\"> <b> Date</b> {{details.createdAt | date:'mediumDate'}}</p>\n  </div>\n  <div class=\"aboutreq\">\n    <div class=\"row\" *ngIf=\"details\">\n      <ng-container *ngIf=\"data?.from !== 'providePettyCash';else fromProvidedPettyCash\">\n        <div class=\"col-sm-3\">\n          <div class=\"card-sm\">\n            <h4> Branch Name </h4>\n            <p> {{details?.register?.branch.branchName}} </p>\n          </div>\n        </div>\n        <div class=\"col-sm-2\">\n          <div class=\"card-sm\">\n            <h4> Register No. </h4>\n            <p> {{details?.register?.registerId}} </p>\n          </div>\n        </div>\n        <div class=\"col-sm-3\">\n          <div class=\"card-sm\">\n            <h4> Register Name</h4>\n            <p> {{details?.register?.registersName}} </p>\n          </div>\n        </div>\n        <div class=\"col-sm-2\">\n          <div class=\"card-sm\">\n            <h4> Requested Amount </h4>\n            <p> {{details?.requestedAmount | number:'2.3-3' }} JOD</p>\n          </div>\n        </div>\n        <div class=\"col-sm-2\">\n          <div class=\"card-sm\">\n            <h4 class=\"mb-3\"> Status </h4>\n            <span class=\"pending\" [style.background-color]=\"details.statusObj.lookupBGColor\"\n                  [style.color]=\"details.statusObj.lookupTextColor\"> {{details.statusObj.description}} </span>\n          </div>\n        </div>\n      </ng-container>\n      <ng-template #fromProvidedPettyCash>\n        <div class=\"col-5\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"card-sm\">\n                <h4> Branch Name </h4>\n                <p> {{details?.register?.branch.branchName}} </p>\n              </div>\n            </div>\n            <div class=\"col-sm-4\">\n              <div class=\"card-sm\">\n                <h4> Register No. </h4>\n                <p> {{details?.register?.registerId}} </p>\n              </div>\n            </div>\n            <div class=\"col-sm-4\">\n              <div class=\"card-sm\">\n                <h4> Register Name</h4>\n                <p> {{details?.register?.registersName}} </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-7\">\n          <div class=\"row\">\n            <div class=\"col-sm-3\">\n              <div class=\"card-sm\">\n                <h4> Request No.</h4>\n                <p> {{details?.pettyCashRequestId}} </p>\n              </div>\n            </div>\n            <div class=\"col-sm-3\">\n              <div class=\"card-sm\">\n                <h4> Requested Amount </h4>\n                <p> {{details?.requestedAmount | number:'2.3-3' }} JOD</p>\n              </div>\n            </div>\n            <div class=\"col-sm-3\">\n              <div class=\"card-sm\">\n                <h4> Provided Amount</h4>\n                <p> {{details?.approvedAmount | number:'2.3-3' }} JOD </p>\n              </div>\n            </div>\n            <div class=\"col-sm-3\">\n              <div class=\"card-sm\">\n                <h4 class=\"mb-3\"> Status </h4>\n                <span class=\"pending\" [style.background-color]=\"details.statusObj.lookupBGColor\"\n                      [style.color]=\"details.statusObj.lookupTextColor\"> {{details.statusObj.description}} </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </ng-template>\n\n      <div class=\"col-sm-12\">\n        <div class=\"card-sm\">\n          <h4> Note </h4>\n          <div class=\"note\" style=\"height:60px\">\n            <p> {{details.requestNote}} </p>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-sm-6\" *ngIf=\"details.statusObj.description == 'Rejected' \">\n        <div class=\"card-sm\">\n          <h4> Rejected Reason </h4>\n          <div class=\"note\">\n            <p> {{details.rejectionReason}} </p>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-4 mt-3\" *ngIf=\"confirmReceivingVoucherAttachment\">\n        <h6 class=\"fw-500 mb-2\">Receiving Confirmation Attachment</h6>\n        <view-file [file]=\"confirmReceivingVoucherAttachment\"></view-file>\n      </div>\n      <div class=\"col-12 mt-3\">\n        <div class=\"d-flex align-items-center justify-content-between\">\n          <h6 class=\"fw-500 mb-0\"> Approved Expenses During Provided Replenishment</h6>\n          <button type=\"button\" class=\"btnSm green redBtn d-flex align-items-center p-2 gap-2\" (click)=\"exportApprovedPettyCashRequestExpensesList()\">\n            <i class=\"fa-solid fa-file-excel fa-2x\"></i>Export Expenses List\n          </button>\n        </div>\n        <table-advanced [config]=\"tableConfig\"\n                        [columns]=\"tableColumns\"\n                        [data]=\"approvedRequestList\"\n                        [loading]=\"loading\"\n                        [page]=\"pageNo\"\n                        [total]=\"total\"\n                        [limit]=\"limit\"\n                        (scrollUpdate)=\"onsScrollUpdate($event)\"\n                        (pageUpdated)=\"onPageChange($event)\">\n          <ng-template libTableAdvancedColumn=\"expenseTotalAmount\" let-row=\"row\">\n            {{row?.expenseTotalAmount | number:'2.3-3'}} JOD\n          </ng-template>\n          <ng-template libTableAdvancedColumn=\"invoiceDate\" let-row=\"row\">\n            {{row?.invoiceDate | date:'mediumDate'}}\n          </ng-template>\n          <ng-template libTableAdvancedColumn=\"createdAt\" let-row=\"row\">\n            {{row?.createdAt | date:'mediumDate'}}\n          </ng-template>\n        </table-advanced>\n      </div>\n      <div class=\"col-md-12\">\n        <div class=\"btns-group my-2 mx-0\">\n          <button type=\"button\" class=\"btn btn-save\" (click)=\"activeModal.close('Close click')\">Close</button>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { NgbActiveModal, NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { TableColumn, TableConfig } from '../../../../../shared/components/table-advanced/table-advanced-interfaces';\nimport { PettyCashService } from '../../../cashier/petty-cash/services/petty-cash.service';\nimport { SharedService } from '../../../../../services/shared.service';\nimport { ExcelService } from '../../../../../services/excel.service';\nimport { Section } from '../../../../../shared/Interfaces/IExcel';\nimport { CommonService } from '../../../../../services/common.service';\n\n@Component({\n  selector: 'app-expense-request-details',\n  templateUrl: './expense-request-details.component.html',\n  styleUrls: ['./expense-request-details.component.scss']\n})\nexport class ExpenseRequestDetailsComponent {\n  @Input() data;\n  approvedRequestList = [];\n  details;\n  confirmReceivingVoucherAttachment;\n  //Data Table\n  tableColumns: TableColumn[] = [];\n  loading = false;\n  pageNo = 1;\n  total = 0;\n  limit = 4;\n  tableConfig: TableConfig = {\n    filter: {\n      Sort: 1,\n      PageSize: this.limit,\n    },\n    hideTotalRecord: true,\n    infiniteScroll: {\n      isScroll: true,\n    },\n    style: {\n      otherStyle: {\n        height: '170px',\n        overflow: 'auto'\n      }\n    }\n  };\n\n  constructor(\n    private pettyCashService: PettyCashService,\n    private sharedService: SharedService,\n    public activeModal: NgbActiveModal,\n    private _excelService: ExcelService,\n    private _commonService: CommonService,\n\n  ) { }\n\n  ngOnInit(): void {\n    this.initTableColumns();\n    this.getPettyCashRequestExpensesList();\n    this.getRegisterPettycashrequestDetails();\n  }\n  exportToExcel(expenseList) {\n    let requestDetails = [\n      this.details?.register?.branch?.branchName,\n      this.details?.register?.registerId,\n      this.details?.register?.registersName,\n      this.details?.pettyCashRequestId,\n      this._commonService.transformDecimal(this.details?.requestedAmount),\n      this._commonService.transformDecimal(this.details?.approvedAmount),\n      this.details?.requestNote,\n    ]\n    let expenseDetails = expenseList.map((item, index) => {\n      return [\n        index + 1,\n        item?.invoiceNo,\n        this._commonService.transformDate(item?.invoiceDate),\n        item?.category[0]?.lookupName,\n        item?.costCenter?.costCenterName,\n        item?.costCenter?.approverUser?.fullName,\n        item?.managerApproval?.approvername,\n        this._commonService.transformDecimal(item?.expenseTotalAmount),\n        this._commonService.transformDate(this.data?.providedAt),\n      ]\n    })\n    const sections: Section[] = [\n      {\n        headers: ['Branch Name', 'Register No.', 'Regsiter Name', 'Request No.', 'Requested Amount', 'Provided Amount', 'Notes'],\n        data: requestDetails,\n        heading: ['Request Details'],\n        showAsKeyValue: true,\n      },\n      {\n        headers: ['Seq', 'Invoice No.', 'Invoice Date', 'Category', 'Cost Center Name', 'Cost Center Approver','Approved By', 'Amount', 'Providing Date'],\n        data: expenseDetails,\n        heading: ['Expense Details'],\n      },\n    ];\n    this._excelService.exportToExcelJs({ sections, fileName: 'Petty_Cash_Replenishment_Report', mainHeading: 'Petty Cash Replenishment Report' });\n  }\n  exportApprovedPettyCashRequestExpensesList() {\n    let params = `?RegisterId=${this.data.registerId}&ReplenishmentRequestID=${this.data.pettyCashRequestId}&pageNo=0&pageSize=10000`;\n    this.pettyCashService.getPettyCashRequestExpensesList(params).subscribe({\n      next: (response: any) => {\n        let approvedExp = response?.data?.data.filter(x => x.status == 2004);\n        this.exportToExcel(approvedExp);\n      }\n    })\n  }\n  getRegisterPettycashrequestDetails() {\n    this.pettyCashService.GetRegisterPettycashrequestDetails(this.data.pettyCashRequestId).subscribe((response: any) => {\n      this.details = response.data;\n    })\n  }\n  onsScrollUpdate(event) {\n    if (event?.scrolled) {\n      this.pageNo += 1;\n      this.getPettyCashRequestExpensesList();\n    }\n  }\n  getPettyCashRequestExpensesList() {\n    let params = `?RegisterId=${this.data.registerId}&ReplenishmentRequestID=${this.data.pettyCashRequestId}&pageNo=${this.pageNo - 1}&pageSize=${this.tableConfig.filter.PageSize}`\n    this.pettyCashService.getPettyCashRequestExpensesList(params).subscribe((response: any) => {\n      if (response?.isSuccess) {\n        let data = response.data.data;\n        if (!data?.length) {\n          return;\n        }\n        let approvedExp = data.filter(x => x.status == 2004);\n        this.approvedRequestList = [...this.approvedRequestList, ...approvedExp];\n        this.total = response.data?.totalRecordCount;\n        this.confirmReceivingVoucherAttachment = response?.data?.info?.confirnReceivingVoucher;\n      }\n    })\n  }\n  onPageChange(page: number) {\n    this.pageNo = page;\n    this.getPettyCashRequestExpensesList();\n  }\n  initTableColumns() {\n    this.tableColumns = [\n      { key: 'invoiceNo', label: 'Invoice No' },\n      { key: 'invoiceDate', label: 'Invoice Date', },\n      { key: 'category[0].lookupName', label: 'Category', },\n      { key: 'costCenter.costCenterName', label: 'Cost Center Name', },\n      { key: 'costCenter.approverUser.fullName', label: 'Cost Center Approver' },\n      { key: 'managerApproval.approvername', label: 'Approved By', placeholder:'---' },\n      { key: 'expenseTotalAmount', label: 'Amount', },\n      { key: 'createdAt', label: 'Date', },\n    ];\n  }\n}\n"],"names":["i0","ExpenseRequestDetailsComponent","constructor","pettyCashService","sharedService","activeModal","_excelService","_commonService","filter","Sort","PageSize","limit","hideTotalRecord","infiniteScroll","isScroll","style","otherStyle","height","overflow","ngOnInit","initTableColumns","getPettyCashRequestExpensesList","getRegisterPettycashrequestDetails","exportToExcel","expenseList","requestDetails","details","register","branch","branchName","registerId","registersName","pettyCashRequestId","transformDecimal","requestedAmount","approvedAmount","requestNote","expenseDetails","map","item","index","invoiceNo","transformDate","invoiceDate","category","lookupName","costCenter","costCenterName","approverUser","fullName","managerApproval","approvername","expenseTotalAmount","data","providedAt","sections","headers","heading","showAsKeyValue","exportToExcelJs","fileName","mainHeading","exportApprovedPettyCashRequestExpensesList","params","subscribe","next","response","approvedExp","x","status","GetRegisterPettycashrequestDetails","onsScrollUpdate","event","scrolled","pageNo","tableConfig","isSuccess","length","approvedRequestList","total","totalRecordCount","confirmReceivingVoucherAttachment","info","confirnReceivingVoucher","onPageChange","page","tableColumns","key","label","placeholder","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}