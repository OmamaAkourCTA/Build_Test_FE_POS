"use strict";(self.webpackChunkmarkaizaAdmin=self.webpackChunkmarkaizaAdmin||[]).push([[9973],{49973:(x,u,_)=>{_.d(u,{V:()=>R});var t=_(94650),r=_(17489),s=_(82687),g=_(85746),c=_(36895),m=_(24006),f=_(42953),h=_(77296);function b(o,l){if(1&o&&(t.TgZ(0,"p",7),t._uU(1),t.qZA()),2&o){const n=t.oxw(3);t.xp6(1),t.hij("Total No. of records ",n.total,"")}}function v(o,l){if(1&o&&(t.ynx(0),t.TgZ(1,"div",5),t.YNc(2,b,2,1,"p",6),t.qZA(),t.BQk()),2&o){const n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!(null!=n.config&&n.config.hideTotalRecord))}}function S(o,l){1&o&&t.GkF(0)}function M(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div",11)(1,"h6",12),t._uU(2," Showing "),t.TgZ(3,"span"),t._uU(4),t.qZA(),t._uU(5," from "),t.TgZ(6,"span"),t._uU(7),t.qZA(),t._uU(8," Records "),t.qZA(),t.TgZ(9,"ngb-pagination",13),t.NdJ("pageChange",function(i){t.CHM(n);const a=t.oxw(3);return t.KtG(a.onPageChange(i))}),t.qZA()()}if(2&o){const n=t.oxw(3);t.xp6(4),t.AsE("",n.page*n.limit-(n.limit-1)," - ",n.tempData.length===n.limit?n.page*n.limit:n.total,""),t.xp6(3),t.hij(" ",n.total," "),t.xp6(2),t.Q6J("collectionSize",n.total)("page",n.page)("pageSize",n.limit)("maxSize",3)("ellipses",!0)}}function y(o,l){if(1&o&&(t.ynx(0),t.TgZ(1,"div",8),t.YNc(2,S,1,0,"ng-container",9),t.qZA(),t.YNc(3,M,10,8,"div",10),t.BQk()),2&o){t.oxw();const n=t.MAs(6),e=t.oxw();t.xp6(1),t.Q6J("ngStyle",null==e.tableStyle?null:e.tableStyle.otherStyle),t.xp6(1),t.Q6J("ngTemplateOutlet",n),t.xp6(1),t.Q6J("ngIf",e.config.paging&&e.tempData.length&&e.total>e.limit)}}function O(o,l){1&o&&t.GkF(0)}function P(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div",14),t.NdJ("scrolled",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.onScroll())}),t.YNc(1,O,1,0,"ng-container",9),t.qZA()}if(2&o){t.oxw();const n=t.MAs(6),e=t.oxw();t.Q6J("ngStyle",null==e.tableStyle?null:e.tableStyle.otherStyle)("infiniteScrollDistance",(null==e.config.infiniteScroll?null:e.config.infiniteScroll.infiniteScrollDistance)||2)("infiniteScrollThrottle",(null==e.config.infiniteScroll?null:e.config.infiniteScroll.infiniteScrollThrottle)||500)("scrollWindow",(null==e.config.infiniteScroll?null:e.config.infiniteScroll.scrollWindow)||!1),t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}function A(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"th")(1,"input",19),t.NdJ("ngModelChange",function(i){t.CHM(n);const a=t.oxw(3);return t.KtG(a.multiSelect=i)})("change",function(i){t.CHM(n);const a=t.oxw(3);return t.KtG(a.toggleMultiSelection(i))}),t.qZA()()}if(2&o){const n=t.oxw(3);t.xp6(1),t.Q6J("ngModel",n.multiSelect)}}const C=function(o){return{active:o}};function w(o,l){if(1&o&&(t.ynx(0),t._UZ(1,"i",22)(2,"i",23),t.BQk()),2&o){const n=t.oxw().$implicit,e=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(2,C,"asc"===e.sort.direction&&e.isSortColumnMatch(n))),t.xp6(1),t.Q6J("ngClass",t.VKq(4,C,"desc"===e.sort.direction&&e.isSortColumnMatch(n)))}}const D=function(o){return{"cursor-default":o}};function k(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"th",20)(1,"button",21),t.NdJ("click",function(){const a=t.CHM(n).$implicit,p=t.oxw(3);return t.KtG(p.onSort(a))}),t._uU(2),t.YNc(3,w,3,6,"ng-container",0),t.qZA()()}if(2&o){const n=l.$implicit,e=t.oxw(3);t.xp6(1),t.Q6J("disabled",0==(null==e.tempData?null:e.tempData.length))("ngClass",t.VKq(4,D,!n.canSort||!e.tempData.length)),t.xp6(1),t.hij(" ",n.label," "),t.xp6(1),t.Q6J("ngIf",n.canSort&&(null==e.tempData?null:e.tempData.length))}}function E(o,l){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"td")(2,"input",19),t.NdJ("ngModelChange",function(i){t.CHM(n);const a=t.oxw().$implicit;return t.KtG(a.isChecked=i)})("change",function(){t.CHM(n);const i=t.oxw(4);return t.KtG(i.handleSelectionChange())}),t.qZA()(),t.BQk()}if(2&o){const n=t.oxw().$implicit;t.xp6(2),t.Q6J("ngModel",n.isChecked)}}function Z(o,l){1&o&&t.GkF(0)}const J=function(o,l,n,e){return{$implicit:o,row:l,column:n,index:e}};function U(o,l){if(1&o&&(t.TgZ(0,"td"),t.YNc(1,Z,1,0,"ng-container",26),t.qZA()),2&o){const n=l.$implicit,e=l.index,i=t.oxw(),a=i.$implicit,p=i.index,d=t.oxw(3),Y=t.MAs(2);t.xp6(1),t.Q6J("ngTemplateOutlet",d.columnTemplates[n.key]||Y)("ngTemplateOutletContext",t.l5B(2,J,d.getItemValue(a,n.key,e),a,d.getColumnByKey(n.key),p))}}function I(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"tr",24),t.NdJ("click",function(i){const p=t.CHM(n).$implicit,d=t.oxw(3);return t.KtG(d.handleRowClick(i,p))}),t.YNc(1,E,3,1,"ng-container",0),t.YNc(2,U,2,7,"td",25),t.qZA()}if(2&o){const n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==n.config?null:n.config.multiSelect),t.xp6(1),t.Q6J("ngForOf",n.columns)}}const Q=function(o){return{height:o}};function N(o,l){if(1&o&&(t.TgZ(0,"div",27)(1,"span"),t._uU(2,"No data to display"),t.qZA()()),2&o){const n=t.oxw(3);t.Q6J("ngStyle",t.VKq(1,Q,null!=n.config.infiniteScroll&&n.config.infiniteScroll.isScroll?"70%":"300px"))}}function F(o,l){if(1&o&&(t.TgZ(0,"table",15)(1,"thead")(2,"tr"),t.YNc(3,A,2,1,"th",0),t.YNc(4,k,4,6,"th",16),t.qZA()(),t.TgZ(5,"tbody"),t.YNc(6,I,3,2,"tr",17),t.qZA()(),t.YNc(7,N,3,3,"div",18)),2&o){const n=t.oxw(2);t.xp6(3),t.Q6J("ngIf",null==n.config?null:n.config.multiSelect),t.xp6(1),t.Q6J("ngForOf",n.columns),t.xp6(2),t.Q6J("ngForOf",n.tempData),t.xp6(1),t.Q6J("ngIf",!(n.config.isLoading||null!=n.tempData&&n.tempData.length))}}function K(o,l){if(1&o&&(t.ynx(0),t.YNc(1,v,3,1,"ng-container",0),t.YNc(2,y,4,3,"ng-container",2),t.YNc(3,P,2,5,"ng-template",null,3,t.W1O),t.YNc(5,F,8,4,"ng-template",null,4,t.W1O),t.BQk()),2&o){const n=t.MAs(4),e=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null!=e.config&&e.config.hideTotalRecord)),t.xp6(1),t.Q6J("ngIf",!(null!=e.config.infiniteScroll&&e.config.infiniteScroll.isScroll))("ngIfElse",n)}}function B(o,l){if(1&o&&(t.TgZ(0,"div",28),t._uU(1),t.qZA()),2&o){const n=l.$implicit;t.xp6(1),t.Oqu(n)}}let R=(()=>{class o{constructor(n,e){this._datePipe=n,this._decimalPipe=e,this.config={},this.loading=!1,this.page=1,this.pageCount=1,this.limit=6,this.total=0,this.columns=[],this.sort={column:null,direction:!1},this.data=[],this.pageUpdated=new t.vpe,this.sortUpdated=new t.vpe,this.eventData=new t.vpe,this.multiSelected=new t.vpe,this.scrollUpdate=new t.vpe,this.tempData=[],this.faArrowUpLong=s.u2A,this.faArrowDownLong=s.d9d,this.selectedItems=[],this.multiSelect=!1}ngOnInit(){this.applyStyle(),this.config.initSort&&(this.sort=this.config.initSort)}handleRowClick(n,e){this.eventData.emit({isTableRowClicked:!0,eventData:n,item:e})}toggleMultiSelection(n){n.target.checked?(this.tempData=this.tempData.map(i=>({...i,isChecked:!0})),this.selectedItems=this.tempData,this.multiSelected.emit({selectedItems:this.selectedItems})):(this.tempData=this.tempData.map(i=>({...i,isChecked:!1})),this.selectedItems=[],this.multiSelected.emit({selectedItems:[]}))}handleSelectionChange(){let n=this.tempData.filter(e=>e.isChecked);this.selectedItems=n,this.multiSelected.emit({selectedItems:n})}ngAfterContentInit(){this.columnTemplates=this.templateColumnRefs.reduce((n,e)=>(n[e.name]=e.template,n),{})}ngOnChanges(n){n.data&&(this.tempData=(0,r.cloneDeep)(this.data||[]))}isSortColumnMatch(n){return this.sort?.column===n.key}onSort(n){!n.canSort||!this.tempData.length||(this.isSortColumnMatch(n)?"asc"===this.sort.direction?(this.sort.direction="desc",this.sort.column=n.key):"desc"===this.sort.direction?(this.sort.direction=!1,this.sort.column=null):(this.sort.direction="asc",this.sort.column=n.key):(this.sort.direction="asc",this.sort.column=n.key),this.sortUpdated.emit(this.sort))}onPageChange(n){this.pageUpdated.emit(n)}getItemValue(n,e,i){return(0,r.get)(n,e)?this.columns[i].dateFormat?this._datePipe.transform(n[e],this.columns[i].dateFormat):this.columns[i].currency?.decimalFormat?this._decimalPipe.transform(n[e],this.columns[i].currency.decimalFormat)+this.columns[i].currency.appendText:(0,r.get)(n,e):this.columns[i].placeholder}getColumnByKey(n){return this.columns.find(e=>e.key===n)}applyStyle(){this.tableStyle={};for(let n in this.config.style)if("header"==n){this.tableStyle[n]={};for(let e in this.config.style[n])this.config.style[n][e]&&(this.tableStyle[n][e]=this.config.style[n][e])}else if("row"==n){this.tableStyle[n]={};for(let e in this.config.style[n])this.config.style[n][e]&&(this.tableStyle[n][e]=this.config.style[n][e])}else if("otherStyle"==n){this.tableStyle[n]={};for(let e in this.config.style[n])this.config.style[n][e]&&(this.tableStyle[n][e]=this.config.style[n][e])}}onScroll(){this.scrollUpdate.emit({scrolled:!0})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(c.uU),t.Y36(c.JJ))},o.\u0275cmp=t.Xpm({type:o,selectors:[["table-advanced"]],contentQueries:function(n,e,i){if(1&n&&t.Suo(i,g.y,4),2&n){let a;t.iGM(a=t.CRH())&&(e.templateColumnRefs=a)}},inputs:{config:"config",loading:"loading",page:"page",pageCount:"pageCount",limit:"limit",total:"total",columns:"columns",sort:"sort",data:"data"},outputs:{pageUpdated:"pageUpdated",sortUpdated:"sortUpdated",eventData:"eventData",multiSelected:"multiSelected",scrollUpdate:"scrollUpdate"},features:[t.TTD],decls:3,vars:1,consts:[[4,"ngIf"],["columnDefaultTemplate",""],[4,"ngIf","ngIfElse"],["infiniteScrollTemplate",""],["contentTemplate",""],[1,"d-flex","align-items-center","justify-content-end","gap-5","mb-3"],["class","light-gray fw-500 mb-0",4,"ngIf"],[1,"light-gray","fw-500","mb-0"],[1,"card-table","table-responsive",3,"ngStyle"],[4,"ngTemplateOutlet"],["class","d-flex justify-content-between align-items-center",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"showing","mb-4"],["aria-label","Default pagination",3,"collectionSize","page","pageSize","maxSize","ellipses","pageChange"],["infiniteScroll","",1,"card-table","table-responsive","overflow-y-auto","scroll-container",3,"ngStyle","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scrolled"],[1,"table"],["scope","col",4,"ngFor","ngForOf"],[3,"click",4,"ngFor","ngForOf"],["class","no-data d-flex align-items-center justify-content-center flex-column",3,"ngStyle",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange","change"],["scope","col"],[1,"btn",3,"disabled","ngClass","click"],[1,"fa-solid","fa-arrow-up-long",3,"ngClass"],[1,"fa-solid","fa-arrow-down-long",3,"ngClass"],[3,"click"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"no-data","d-flex","align-items-center","justify-content-center","flex-column",3,"ngStyle"],[1,"cell-default"]],template:function(n,e){1&n&&(t.YNc(0,K,7,3,"ng-container",0),t.YNc(1,B,2,1,"ng-template",null,1,t.W1O)),2&n&&t.Q6J("ngIf",null==e.columns?null:e.columns.length)},dependencies:[c.mk,c.sg,c.O5,c.tP,c.PC,m.Wl,m.JJ,m.On,f.N9,h.Ry],styles:["[_nghost-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 15px!important}[_nghost-%COMP%]   .custom-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-spacing:0;border-collapse:collapse;border-style:hidden;width:100%;max-width:100%}[_nghost-%COMP%]   .custom-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], [_nghost-%COMP%]   .custom-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:nowrap}[_nghost-%COMP%]   .custom-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:var(--primary)}[_nghost-%COMP%]   .custom-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--dark-gray);border:none;background:none;padding:0}[_nghost-%COMP%]   .custom-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 0 20px 15px;font-weight:400;color:var(--dark-gray);font-size:14px}[_nghost-%COMP%]   .form-check-input[_ngcontent-%COMP%]{height:15px!important;width:15px!important}[_nghost-%COMP%]   .no-data[_ngcontent-%COMP%]{height:300px}[_nghost-%COMP%]   .scroll-container[_ngcontent-%COMP%]{height:560px}"]}),o})()},85746:(x,u,_)=>{_.d(u,{y:()=>r});var t=_(94650);let r=(()=>{class s{constructor(c){this.template=c}}return s.\u0275fac=function(c){return new(c||s)(t.Y36(t.Rgc))},s.\u0275dir=t.lG2({type:s,selectors:[["ng-template","libTableAdvancedColumn",""]],inputs:{name:["libTableAdvancedColumn","name"]}}),s})()}}]);