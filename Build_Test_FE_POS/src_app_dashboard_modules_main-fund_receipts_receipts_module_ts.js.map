{"version":3,"file":"src_app_dashboard_modules_main-fund_receipts_receipts_module_ts.js","mappings":"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","sources":["./src/app/dashboard/modules/cashier/markazia-vouchers/services/markazia-voucher.service.ts","./src/app/dashboard/modules/main-fund/receipts/create-receipt/create-receipt.component.ts","./src/app/dashboard/modules/main-fund/receipts/create-receipt/create-receipt.component.html","./src/app/dashboard/modules/main-fund/receipts/receipts-routing.module.ts","./src/app/dashboard/modules/main-fund/receipts/receipts.component.ts","./src/app/dashboard/modules/main-fund/receipts/receipts.component.html","./src/app/dashboard/modules/main-fund/receipts/receipts.module.ts","./src/app/dashboard/modules/main-fund/receipts/services/receipts.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { SharedService } from '../../../../../services/shared.service';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MarkaziaVoucherService {\n  apiUrl = this.sharedService.getUrl;\n  apiUrl2 = this.sharedService.getUrl2;\n  constructor(private http: HttpClient, public sharedService: SharedService) { }\n  getBrands(params?) {\n    return this.http.get(`${this.apiUrl2}Customer/GetBrands${params}`, this.sharedService.getHeaders());\n  }\n  getLookup(params: any) {\n    return this.http.get(`${this.apiUrl}Lookups/GetLookups${params}`, this.sharedService.getHeaders());\n  }\n  getCostCenter(params: any) {\n    return this.http.get(`${this.apiUrl}PettyCash/GetCostCenters${params}`, this.sharedService.getHeaders());\n  }\n  getMarkaziaVoucherList(params: any) {\n    return this.http.get(`${this.apiUrl}MarkaziaVouchers/GetMarkaziaVouchers${params}`, this.sharedService.getHeaders());\n  }\n  deleteMarkaziaVouchers(payload: any) {\n    return this.http.post(`${this.apiUrl}MarkaziaVouchers/DeleteMarkaziaVouchers`, payload, this.sharedService.getHeaders());\n  }\n  generateVoucher(payload: any) {\n    return this.http.post<any>(`${this.apiUrl}MarkaziaVouchers/GenerateMarkaziaVouchers`, payload, this.sharedService.getHeaders());\n  }\n}\n","import { Component, ElementRef, ViewChild, ViewContainerRef } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { CommonService } from '../../../../../services/common.service';\nimport { ModalMessageComponent } from '../../../../../shared/components/modal-message/modal-message.component';\nimport { ViewFileComponent } from '../../../cashier/collect/payment-modal/view-file/view-file.component';\nimport { UnsettledSessionService } from '../../../cashier/unsettled-session/services/unsettled-session.service';\nimport { AllocationService } from '../../allocation/allocation/allocation-services/allocation.service';\nimport { ReceiptsService } from '../services/receipts.service';\nimport { MarkaziaVoucherService } from '../../../cashier/markazia-vouchers/services/markazia-voucher.service';\nimport { Subscription, catchError, forkJoin, of } from 'rxjs';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { CollectService } from '../../../cashier/collect/services/collect.service';\nimport { DecimalPipe } from '@angular/common';\nimport { GeneralService } from '../../../../../services/general.service';\n\n@Component({\n  selector: 'app-create-receipt',\n  templateUrl: './create-receipt.component.html',\n  styleUrls: ['./create-receipt.component.scss']\n})\nexport class CreateReceiptComponent {\n  uploadedFile;\n  formGroup: FormGroup;\n  enter: boolean;\n  invalidFileType: string;\n  currencyList = [];\n  employeeList = [];\n  costCenterList = [];\n  mfCategoryList = [];\n  currencyName = '';\n  fileTypes = ['image/jpeg', 'image/jpg', 'image/png', 'application/pdf'];//'application/pdf'\n  subscriptions = new Subscription();\n  dateYMD = new Date();\n  @ViewChild('inputFile') inputFile!: ElementRef;\n  @ViewChild('container') container: ElementRef;\n  taxesList = [];\n  constructor(\n    private _generalService: GeneralService,\n    private _receiptsService: ReceiptsService,\n    private _voucherService: MarkaziaVoucherService,\n    private _spinner: NgxSpinnerService,\n    private _commonService: CommonService, private fb: FormBuilder,\n    private _modalService: NgbModal,\n    private _allocationService: AllocationService,\n    private _collectService: CollectService,\n    private _decimalPipe: DecimalPipe,\n    private _unsettleSession: UnsettledSessionService) {\n  }\n  ngOnInit() {\n    this.initForm();\n    this.getCurrencyList();\n    this.getLookups();\n    this.f.get('mainFundPaymentCategoryID').valueChanges.subscribe(value => {\n      this.toggleControlDisability(value);\n    })\n\n  }\n  handleSearch(event: any) {\n    this._collectService.customersList(event.term).subscribe((response: any) => {\n      this.employeeList = response.data;\n    })\n  }\n  customSearch(term: string, item: any): boolean {\n    return item?.customerName?.toLowerCase().includes(term.toLowerCase()) ||\n      item?.mobile?.toLowerCase().includes(term.toLowerCase())\n  }\n  getLookups() {\n    //const employee = this._collectService.customersList().pipe(catchError(error => of(error)));\n    const costCenter = this._voucherService.getCostCenter(`?StatusId=2001&PageSize=1000`).pipe(catchError(error => of(error)));\n    const mainFundCat = this._receiptsService.getMainFundPaymentCategories(`?status=2001&PageSize=1000`).pipe(catchError(error => of(error)));\n    let params = `?lookupTypeId=23&status=2001&pageSize=1000`;\n    const taxes = this._generalService.getLookupsWithParams(params)\n    forkJoin([costCenter, mainFundCat, taxes]).subscribe(data => {\n      this.costCenterList = data[0].data;\n      this.mfCategoryList = data[1].data;\n      this.taxesList = (data[2] as any).data.map(x => {\n        return {\n          ...x,\n          text: x.name[0].lookupName\n        }\n      });\n    })\n  }\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n  initForm() {\n    this.formGroup = this.fb.group({\n      accountID: [null],\n      mainFundPaymentCategoryID: [null, [Validators.required]],\n      paymentAmount: [{ value: '', disabled: true }, [Validators.required]],\n      paymentTaxPer: [null, [Validators.required]],\n      paymentTaxAmount: [{ value: '', disabled: true }, [Validators.required]],\n      paymentTotalAmount: [{ value: '', disabled: true }, [Validators.required]],\n      paymentCurrencyID: [null, [Validators.required]],\n      paymentCostCenterID: [null, [Validators.required]],\n      paymentAttachment: [''],\n      notes: [''],\n      dateYMD: [{ value: new Date(), disabled: true }], // Readonly\n      time: [{ value: this.formatTime(new Date()), disabled: true }], // Readonly\n    })\n  }\n  handleCurrencyChange(event) {\n    this.currencyName = event?.text || '';\n  }\n  handleTaxChange(event) {\n    this.handleAmountChange();\n  }\n  handleMfCategoryChange(event) {\n    let obj = {\n      paymentTaxPer: event?.taxPercentId || null,\n      paymentCostCenterID: event?.costCenter?.costCenterId,\n      paymentAmount: '',\n      paymentTaxAmount: '',\n      paymentTotalAmount: '',\n    }\n    this.f.patchValue(obj);\n    this.handleAmountChange();\n  }\n\n  handleAmountChange() {\n    let amount = + this.f.get('paymentAmount').value;\n    let taxId = + this.f.get('paymentTaxPer').value;\n    let taxPercentage = +(this.taxesList.find(x => x.id == taxId)?.name[0]?.lookupName);\n    let taxAmount = (taxPercentage / 100) * amount;\n    this.f.get('paymentTaxAmount').setValue(this._decimalPipe.transform(taxAmount, '2.3'));\n    this.f.get('paymentTotalAmount').setValue(this._decimalPipe.transform(amount + taxAmount, '2.3'));\n  }\n  handleTotalAmountChange() {\n    let totalAmount = + this.f.get('paymentTotalAmount').value;\n    let taxId = + this.f.get('paymentTaxPer').value;\n    let taxPercentage = +(this.taxesList.find(x => x.id == taxId)?.name[0]?.lookupName);\n    let taxAmount = (totalAmount * taxPercentage) / (100 + taxPercentage);\n    this.f.get('paymentTaxAmount').setValue(this._decimalPipe.transform(taxAmount, '2.3'));\n    this.f.get('paymentAmount').setValue(this._decimalPipe.transform(totalAmount - taxAmount, '2.3'));\n  }\n  handleSubmit() {\n    if (this.formGroup.invalid) {\n      this.formGroup.markAllAsTouched();\n      return;\n    }\n    else {\n      this._spinner.show();\n      let formData = this._commonService.convertFormGroupToFormData(this.formGroup, ['accountID', 'paymentAttachment', 'time', 'dateYMD']);\n      formData.append('accountID', this.f.value.accountID && this.f.value.accountID || '');\n      if (this.uploadedFile?.['file']) {\n        formData.append('paymentAttachment', this.uploadedFile['file']);\n      }\n      this._receiptsService.addMainFundPaymentReceipt(formData).subscribe({\n        next: response => {\n          if (response.isSuccess) {\n            this.successModal('success', 'Receipt has been created successfully', response.data);\n          }\n        },\n        error: err => {\n          this.successModal('error', err?.error.errors || err?.error.Errors);\n        }\n      }).add(() => {\n        this._spinner.hide()\n      })\n    }\n  }\n  toggleControlDisability(value: boolean) {\n    const controlNames = ['paymentAmount', 'paymentTotalAmount'];\n    controlNames.forEach(controlName => {\n      const control = this.f.get(controlName);\n      if (control) {\n        value ? control.enable() : control.disable();\n      }\n    });\n  }\n  successModal(type, message, data?) {\n    const modelRef = this._modalService.open(ModalMessageComponent, { size: 'md' })\n    modelRef.componentInstance.type = type;\n    if (type == 'success') {\n      modelRef.componentInstance.message = message;\n      modelRef.componentInstance.data = { receipt: data };\n      modelRef.componentInstance.routeName = \"/mainfund-receipt\";\n    }\n    else if (type == 'error') {\n      modelRef.componentInstance.messageError = message;\n    }\n  }\n  get f() {\n    return this.formGroup;\n  }\n  get c() {\n    return this.formGroup.controls;\n  }\n  getCurrencyList() {\n    this._allocationService.getCurrencyList().subscribe(response => {\n      this.currencyList = response['data'].map(x => {\n        return { value: x.id, text: x.name[0]?.lookupName }\n      });\n    })\n  }\n  fileAction(action) {\n    if (action == 'view') {\n      const modelRef = this._modalService.open(ViewFileComponent, { size: 'md', })\n      modelRef.componentInstance.imageUploadedView = this.uploadedFile;\n    }\n    else {\n      this.inputFile.nativeElement.value = null;\n      this.formGroup.get('paymentAttachment')?.setValue('');\n      this.uploadedFile = {};\n    }\n  }\n  filesDropped(data: any) {\n    this.enter = false;\n    let isInvalid = this.checkInvalidImageFormat(data);\n    if (isInvalid) {\n      this.inputFile.nativeElement.value = null;\n      return;\n    }\n    let files = data.map(x => {\n      return x.file\n    })\n    if (!isInvalid) {\n      files.forEach((file: File) => {\n        this.formGroup.get('paymentAttachment')?.setValue(file.name);\n        this._commonService.fileToBase64(file).then(response => {\n          this.uploadedFile = response;\n        })\n      })\n    }\n  }\n\n  onSelectFile(event: any) {\n    let files = [...event.target.files];\n    let isInvalid = this.checkInvalidImageFormat(files);\n    if (isInvalid) {\n      this.inputFile.nativeElement.value = null;\n      return;\n    }\n    if (files.length > 0) {\n      if (!isInvalid) {\n        files.forEach((file: File) => {\n          this.formGroup.get('paymentAttachment')?.setValue(file.name);\n          this._commonService.fileToBase64(file).then(response => {\n            this.uploadedFile = response;\n          })\n        })\n      }\n    }\n  }\n  removeFile(item) {\n    this.inputFile.nativeElement.value = null;\n    this.formGroup.get('paymentAttachment')?.setValue('');\n    this.uploadedFile = null;\n  }\n  checkInvalidImageFormat(data) {\n    let files;\n    let getFiles = data.map(x => {\n      return x.file\n    })\n    if (getFiles[0] !== undefined) {\n      files = getFiles;\n    }\n    else {\n      files = data;\n    }\n    let invalidExtentions = false;\n    for (let file of files) {\n      if (!this.fileTypes.includes(file.type)) {\n        invalidExtentions = true;\n        this.invalidFileType = 'This file not support, supported formates: JPEG, JPG, PNG, PDF';\n        this.formGroup.get('paymentAttachment')?.patchValue('');\n        setTimeout(() => {\n          this.invalidFileType = '';\n        }, 3000)\n        break;\n      }\n    }\n    return invalidExtentions;\n  }\n  formatTime(date: Date): string {\n    const hours = ('0' + date.getHours()).slice(-2);\n    const minutes = ('0' + date.getMinutes()).slice(-2);\n    return `${hours}:${minutes}`;\n  }\n}\n","<div class=\"page-layout\">\n  <form [formGroup]=\"formGroup\">\n    <div class=\"row\">\n      <div class=\"col-sm-3\">\n        <label class=\"input-label\">Account Name</label>\n        <!--<ng-select class=\"flex-grow-1 mt-3 mt-md-0\" formControlName=\"accountID\"\n                   placeholder=\"Account Name\" [items]=\"employeeList\"\n                   bindLabel=\"fullName\" bindValue=\"userId\">\n        </ng-select>-->\n        <ng-select placeholder=\"Search Account\"\n                   [items]=\"employeeList\"\n                   formControlName=\"accountID\"\n                   (search)=\"handleSearch($event)\"\n                   [searchFn]=\"customSearch\"\n                   bindLabel=\"customerName\"\n                   bindValue=\"customerId\">\n        </ng-select>\n        <validation-error [control]=\"f.get('accountID')\" [errorMessages]=\"{required:'Input is required'}\"></validation-error>\n      </div>\n      <div class=\"col-sm-3\">\n        <label class=\"input-label\">Account Number</label>\n        <input type=\"text\" class=\"form-control height-47\" disabled [value]=\"f.get('accountID').value\" />\n      </div>\n    </div>\n    <div class=\"separator\"></div>\n    <div class=\"card-Box mt-4\">\n      <div class=\"row align-items-center\">\n        <div class=\"col-sm-2\">\n          <div class=\"input-label\">Select Currency</div>\n          <ng-select class=\"flex-grow-1 mt-3 mt-md-0\" formControlName=\"paymentCurrencyID\" (change)=\"handleCurrencyChange($event)\"\n                     placeholder=\"Currency\" [items]=\"currencyList\"\n                     bindLabel=\"text\" bindValue=\"value\">\n          </ng-select>\n          <validation-error [control]=\"f.get('paymentCurrencyID')\" [errorMessages]=\"{required:'Input is required'}\"></validation-error>\n        </div>\n        <div class=\"col-sm-2\">\n          <label class=\"input-label\">Select Payment Category</label>\n          <ng-select class=\"flex-grow-1 mt-3 mt-md-0\" formControlName=\"mainFundPaymentCategoryID\"\n                     placeholder=\"Main Fund Category\" [items]=\"mfCategoryList\" (change)=\"handleMfCategoryChange($event)\"\n                     bindLabel=\"paymentCategoryName\" bindValue=\"paymentCategoryID\">\n          </ng-select>\n          <validation-error [control]=\"f.get('mainFundPaymentCategoryID')\" [errorMessages]=\"{required:'Input is required'}\"></validation-error>\n        </div>\n        <div class=\"col-sm-2\">\n          <label class=\"input-label\">Cost Center</label>\n          <ng-select class=\"flex-grow-1 mt-3 mt-md-0\" formControlName=\"paymentCostCenterID\"\n                     placeholder=\"Cost Center\" [items]=\"costCenterList\"\n                     bindLabel=\"costCenterName\" bindValue=\"costCenterId\">\n          </ng-select>\n          <validation-error [control]=\"f.get('paymentCostCenterID')\" [errorMessages]=\"{required:'Input is required'}\"></validation-error>\n        </div>\n      </div>\n    </div>\n    <div class=\"card-Box mt-5\">\n      <div class=\"row\">\n        <div class=\"col-sm-8\">\n          <div class=\"row\">\n            <div class=\"col-3 mb-3\">\n              <label class=\"input-label\">Amount* <ng-container *ngIf=\"currencyName\">({{currencyName}})</ng-container></label>\n              <input type=\"text\" formControlName=\"paymentAmount\" appDecimalNumber class=\"form-control height-47\" (change)=\"handleAmountChange()\" />\n              <validation-error [control]=\"f.get('paymentAmount')\" [errorMessages]=\"{required:'Input is required'}\"></validation-error>\n            </div>\n            <div class=\"col-3 mb-3\">\n              <label class=\"input-label\">Tax Amount <ng-container *ngIf=\"currencyName\">({{currencyName}})</ng-container></label>\n              <input type=\"text\" class=\"form-control height-47\" formControlName=\"paymentTaxAmount\" />\n              <validation-error [control]=\"f.get('paymentTaxAmount')\" [errorMessages]=\"{required:'Input is required'}\"></validation-error>\n            </div>\n            <div class=\"col-3 mb-3\">\n              <label class=\"input-label\">Tax Percentage %</label>\n              <!--<input type=\"text\" class=\"form-control\" formControlName=\"paymentTaxPer\" />-->\n              <ng-select class=\"flex-grow-1 mt-3 mt-md-0\" formControlName=\"paymentTaxPer\"\n                         placeholder=\"Tax Percentage\" [items]=\"taxesList\" (change)=\"handleTaxChange($event)\"\n                         bindLabel=\"text\" bindValue=\"id\">\n                <ng-template ng-option-tmp let-item=\"item\">\n                  {{item.text}}%\n                </ng-template>\n                <ng-template ng-label-tmp let-item=\"item\">\n                  <ng-container *ngIf=\"item?.text\">\n                    {{item.text}}%\n                  </ng-container>\n                </ng-template>\n              </ng-select>\n              <validation-error [control]=\"f.get('paymentTaxPer')\" [errorMessages]=\"{required:'Input is required'}\"></validation-error>\n            </div>\n            <div class=\"col-3 mb-3\">\n              <label class=\"input-label\">Total Amount <ng-container *ngIf=\"currencyName\">({{currencyName}})</ng-container></label>\n              <input type=\"text\" class=\"form-control height-47\" appDecimalNumber formControlName=\"paymentTotalAmount\" (change)=\"handleTotalAmountChange()\" />\n              <validation-error [control]=\"f.get('paymentTotalAmount')\" [errorMessages]=\"{required:'Input is required'}\"></validation-error>\n            </div>\n            <!--<div class=\"col-3 mb-3\">\n              <label class=\"input-label\">Receipt Current Date</label>\n              <input class=\"form-control\" type=\"text\" #datepickerYMD=\"bsDatepicker\" formControlName=\"dateYMD\" bsDatepicker [bsConfig]=\"{ dateInputFormat: 'YYYY-MM-DD' }\">\n            </div>\n            <div class=\"col-3 mb-3\">\n              <label class=\"input-label\">Receipt Current Time</label>\n              <input class=\"form-control\" type=\"time\" formControlName=\"time\">\n            </div>-->\n            <div class=\"col-12 mb-3\">\n              <label class=\"input-label\">Notes</label>\n              <input type=\"text\" class=\"form-control\" formControlName=\"notes\" />\n            </div>\n          </div>\n        </div>\n        <div class=\"col-sm-4\">\n          <label class=\"input-label\">Attachment</label>\n          <div class=\"form-group mb-3\">\n            <div class=\"card-upload\"\n                 appImageDrag\n                 (files)=\"filesDropped($event)\"\n                 (enter)=\"enter = !enter\"\n                 (leave)=\"enter = !enter\"\n                 accept=\".png,.jpg,.jpeg,.pdf\"\n                 (click)=\"inputFile.click()\">\n              <div class=\"my-3\">\n                <img src=\"assets/images/upload.png\" alt=\"\" />\n                <h5>Select OR Drag & drop files</h5>\n                <p>Supported formates: JPEG, PNG, PDF</p>\n              </div>\n            </div>\n            <input type=\"file\" class=\"form-control\" #inputFile accept=\".png,.jpg,.jpeg,.pdf\" (change)=\"onSelectFile($event)\" multiple hidden />\n          </div>\n          <ng-container *ngIf=\"f.get('paymentAttachment')?.value\">\n            <div class=\"d-flex gap-3 file-item align-items-center justify-content-between\">\n              <label class=\"p-0\">{{f.get('paymentAttachment')?.value}}</label>\n              <div class=\"d-flex gap-2\">\n                <img height=\"20\" class=\"cursor-pointer\" src=\"assets/images/eye.png\" (click)=\"fileAction('view')\" />\n                <img height=\"20\" class=\"cursor-pointer\" src=\"assets/images/trash.png\" (click)=\"fileAction('delete')\" />\n              </div>\n            </div>\n          </ng-container>\n          <small *ngIf=\"invalidFileType\" class=\"text-danger\">{{invalidFileType}}</small>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n<div class=\"d-flex justify-content-end mt-5\">\n  <div class=\"btns-group my-2 mx-0\">\n    <button type=\"button\" class=\"btn btn-cancel\" routerLink=\"/mainfund-receipt\">Cancel</button>\n    <button type=\"button\" (click)=\"handleSubmit()\" class=\"btn btn-save\">Save</button>\n  </div>\n</div>\n<ng-template #container>\n  <button type=\"button\" class=\"redBtn\">View Receipt</button>\n</ng-template>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ReceiptsComponent } from './receipts.component';\nimport { CreateReceiptComponent } from './create-receipt/create-receipt.component';\n\nconst routes: Routes = [\n  { path: '', component: ReceiptsComponent },\n  { path: 'create-receipt', component: CreateReceiptComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ReceiptsRoutingModule { }\n","import { DatePipe } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { TableColumn, TableConfig } from '../../../../shared/components/table-advanced/table-advanced-interfaces';\nimport { catchError, debounceTime, distinctUntilChanged, forkJoin, of } from 'rxjs';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { ConfirmModalComponent } from '../../../../shared/components/confirm-modal/confirm-modal.component';\nimport { ModalMessageComponent } from '../../../../shared/components/modal-message/modal-message.component';\nimport { ReceiptsService } from './services/receipts.service';\nimport { MarkaziaVoucherService } from '../../cashier/markazia-vouchers/services/markazia-voucher.service';\nimport { HeaderService } from '../../../../services/header.service';\nimport { CommonService } from '../../../../services/common.service';\nimport { CollectService } from '../../cashier/collect/services/collect.service';\n@Component({\n  selector: 'app-receipts',\n  templateUrl: './receipts.component.html',\n  styleUrls: ['./receipts.component.scss']\n})\nexport class ReceiptsComponent {\n  mainFundAmounts = [];\n  employeeList = [];\n  costCenterList = [];\n  mfCategoryList = [];\n  paymentList = [];\n  filterForm: FormGroup;\n  filterParams;\n  pageNo = 1;\n  total = 0;\n  limit = 6;\n  loading = false;\n  tableConfig: TableConfig = {\n    paging: true,\n    filter: {\n      Sort: 1,\n      PageSize: this.limit,\n    },\n  };\n  tableColumns: TableColumn[] = [];\n  constructor(\n    private _receiptsService: ReceiptsService,\n    private _voucherService: MarkaziaVoucherService,\n    private fb: FormBuilder,\n    private _modalService: NgbModal,\n    private _headerService: HeaderService,\n    public _commonService: CommonService,\n    public _collectService: CollectService,\n  ) { }\n  ngOnInit() {\n    this._headerService.setTitle('Main Fund Receipt')\n    this.initTableColumns();\n    this.initFilterParams();\n    this.getPaymentList()\n    this.getLookups();\n  }\n  getLookups() {\n    //const employee = this._receiptsService.getEmployees().pipe(catchError(error => of(error)));\n    const mainFundAmount = this._receiptsService.getMainFundCash().pipe(catchError(error => of(error)));\n    const costCenter = this._voucherService.getCostCenter(`?StatusId=2001&PageSize=1000`).pipe(catchError(error => of(error)));\n    const mainFundCat = this._receiptsService.getMainFundPaymentCategories(`?status=2001&PageSize=1000`).pipe(catchError(error => of(error)));\n    forkJoin([mainFundAmount, costCenter, mainFundCat]).subscribe(data => {\n      //this.employeeList = data[0].data;\n      this.mainFundAmounts = data[0].data.filter(x => x.isCash);\n      this.costCenterList = data[1].data;\n      this.mfCategoryList = data[2].data;\n    })\n  }\n  initFilterParams() {\n    this.filterForm = this.fb.group({\n      search: [''],\n      //paidByUser: [null],\n      paidToUser: [null],\n      mainFundCategory: [null],\n      costCenterId: [null],\n    })\n    this.filterForm.valueChanges.pipe(debounceTime(500), distinctUntilChanged()).subscribe(value => {\n      this.pageNo = 1;\n      let formValues = { ...value };\n      //if (formValues?.paidByUser == null) {\n      //  formValues = { ...formValues, paidByUser: '' }\n      //}\n      if (formValues?.paidToUser == null) {\n        formValues = { ...formValues, paidToUser: '' }\n      }\n      if (formValues?.mainFundCategory == null) {\n        formValues = { ...formValues, mainFundCategory: '' }\n      }\n      if (formValues?.costCenterId == null) {\n        formValues = { ...formValues, costCenterId: '' }\n      }\n      this.filterParams = '?' + new URLSearchParams(formValues).toString();\n      this.getPaymentList()\n    })\n  }\n  getPaymentList() {\n    let defaultParams = `pageSize=${this.tableConfig.filter.PageSize}&pageNo=${this.pageNo - 1}&sort=${this.tableConfig.filter.Sort}`;\n    let params;\n    if (this.filterParams) params = `${this.filterParams}&${defaultParams}`; else params = `?${defaultParams}`;\n    this._receiptsService.getMainFundPayments(params).subscribe((response: any) => {\n      this.paymentList = response.data;\n      this.total = response.totalRecordCount;\n    }).add(() => { })\n  }\n  handleSearch(event: any) {\n    this._collectService.customersList(event.term).subscribe((response: any) => {\n      this.employeeList = response.data;\n    })\n  }\n  customSearch(term: string, item: any): boolean {\n    return item?.customerName?.toLowerCase().includes(term.toLowerCase()) ||\n      item?.mobile?.toLowerCase().includes(term.toLowerCase())\n  }\n  onSortChange(sort: any) {\n    if (sort?.direction && sort?.column) {\n      switch (sort.column) {\n        case 'mainFundPaymentReceiptID':\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 3 : 2;\n          break;\n        case 'givenToAccount.fullName':\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 5 : 4;\n          break;\n        case 'givenToAccount.userId':\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 7 : 6;\n          break;\n        case 'mainFundPaymentTotalAmount':\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 9 : 8;\n          break;\n        case 'currency[0].lookupName':\n          this.tableConfig.filter.Sort = sort.direction === 'desc' ? 11 : 10;\n          break;\n        default:\n          break;\n      }\n    } else {\n      this.tableConfig.filter.Sort = 1;\n    }\n    this.getPaymentList();\n  }\n  onPageChange(page: number) {\n    this.pageNo = page;\n    this.getPaymentList();\n  }\n  initTableColumns() {\n    this.tableColumns = [\n      { key: 'mainFundPaymentReceiptID', label: 'Receipt ID', canSort: true, },\n      //{ key: 'createdBy.fullName', label: 'Paid By Employee'},\n      { key: 'givenToAccount.fullName', label: 'Account Name', canSort: true, },\n      { key: 'givenToAccount.userId', label: 'Account No', canSort: true, },\n      { key: 'mainFundPaymentCategory.paymentCategoryName', label: 'Payment Category'},\n      { key: 'mainFundPaymentTotalAmount', label: 'Total Amount', canSort: true, currency: { decimalFormat: '2.3-3', appendText: ' JOD' } },\n      { key: 'currency[0].lookupName', label: 'Currency', canSort: true, placeholder: '---' },\n      { key: 'action', label: 'Action'},\n    ];\n  }\n  responseModal(type, message) {\n    const ref = this._modalService.open(ModalMessageComponent);\n    ref.componentInstance.type = type;\n    ref.componentInstance.dismissOnlyActive = true;\n    if (type == 'success')\n      ref.componentInstance.message = message;\n    else\n      ref.componentInstance.messageError = message;\n  }\n}\n","<h3 class=\"heading-text mb-3\">Main Fund Current Amounts</h3>\n<div class=\"main-fund-container gap-4 mb-4\">\n  <div class=\"main-fund-wrapper\" *ngFor=\"let item of mainFundAmounts\">\n    <div class=\"main-fund-div\">\n      <div class=\"currency-symbol\">\n        <img [src]=\"item?.accountTypeImage\" alt=\"\">\n      </div>\n      <div class=\"d-flex flex-column\">\n        <h6 class=\"fw-700 font-18\">{{item?.accountType[0]?.lookupName}}</h6>\n        <h6 class=\"fw-700 font-20 gray-500 m-0\">\n          {{item?.remainingAmountTobeDistributed | number:'2.3-3'}}\n        </h6>\n      </div>\n    </div>\n  </div>\n</div>\n<h3 class=\"heading-text my-3\">Receipt List</h3>\n<form [formGroup]=\"filterForm\">\n  <div class=\"row mb-3\">\n    <div class=\"col-2\">\n      <input type=\"text\" formControlName=\"search\" class=\"form-control height-47\" placeholder=\"Seach by Receipt ID or Amount\" />\n    </div>\n    <!--<div class=\"col-2\">\n      <ng-select placeholder=\"Employee\"\n                 [items]=\"employeeList\"\n                 bindLabel=\"fullName\" bindValue=\"userId\"\n                 formControlName=\"paidByUser\">\n      </ng-select>\n    </div>-->\n    <div class=\"col-2\">\n      <!--<ng-select placeholder=\"Account\"\n                 [items]=\"employeeList\"\n                 bindLabel=\"fullName\" bindValue=\"userId\"\n                 formControlName=\"paidToUser\">\n      </ng-select>-->\n      <ng-select placeholder=\"Search Account\"\n                 [items]=\"employeeList\"\n                 formControlName=\"paidToUser\"\n                 (search)=\"handleSearch($event)\"\n                 [searchFn]=\"customSearch\"\n                 bindLabel=\"customerName\"\n                 bindValue=\"customerId\">\n      </ng-select>\n    </div>\n    <div class=\"col-2\">\n      <ng-select placeholder=\"Main Fund Category\"\n                 [items]=\"mfCategoryList\"\n                 bindLabel=\"paymentCategoryName\" bindValue=\"paymentCategoryID\"\n                 formControlName=\"mainFundCategory\">\n      </ng-select>\n    </div>\n    <div class=\"col-2\">\n      <ng-select placeholder=\"Cost Center\"\n                 [items]=\"costCenterList\"\n                 bindLabel=\"costCenterName\" bindValue=\"costCenterId\"\n                 formControlName=\"costCenterId\">\n      </ng-select>\n    </div>\n    <div class=\"col-2\">\n      <div class=\"btns-group m-0\">\n        <a routerLink=\"/mainfund-receipt/create-receipt\" class=\"btn btn-save\">Create Receipt</a>\n      </div>\n    </div>\n  </div>\n</form>\n<table-advanced [config]=\"tableConfig\"\n                [columns]=\"tableColumns\"\n                [data]=\"paymentList\"\n                [page]=\"pageNo\"\n                [total]=\"total\"\n                [limit]=\"limit\"\n                (sortUpdated)=\"onSortChange($event)\"\n                (pageUpdated)=\"onPageChange($event)\">\n  <ng-template libTableAdvancedColumn=\"action\" let-row=\"row\">\n    <button type=\"button\" class=\"redBtn\" (click)=\"_commonService.downloadInvoices({ invoices: row?.mainFundPaymentVoucher})\">View Receipt</button>\n  </ng-template>\n\n</table-advanced>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ReceiptsRoutingModule } from './receipts-routing.module';\nimport { ReceiptsComponent } from './receipts.component';\nimport { SharedModule } from '../../../../shared/shared.module';\nimport { CreateReceiptComponent } from './create-receipt/create-receipt.component';\n\n\n@NgModule({\n  declarations: [\n    ReceiptsComponent,\n    CreateReceiptComponent\n  ],\n  imports: [\n    CommonModule,\n    ReceiptsRoutingModule,\n    SharedModule,\n  ]\n})\nexport class ReceiptsModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { SharedService } from '../../../../../services/shared.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ReceiptsService {\n  apiUrl = this.sharedService.getUrl;\n  apiUrl2 = this.sharedService.getUrl2;\n  constructor(private http: HttpClient, public sharedService: SharedService) { }\n  getMainFundPayments(params: any) {\n    return this.http.get(\n      this.apiUrl + `Mainfund/GetMainFundPayments${params}`,\n      this.sharedService.getHeaders()\n    );\n  }\n  addMainFundPaymentReceipt(payload: any): Observable<any> {\n    return this.http.post<any>(\n      this.apiUrl + 'Mainfund/AddMainFundPaymentReceipt',\n      payload,\n      this.sharedService.getHeaders()\n    );\n  }\n  getMainFundCash(): Observable<any> {\n    return this.http.get(\n      this.apiUrl + `Mainfund/GetMainFundCash`,\n      this.sharedService.getHeaders()\n    );\n  }\n  getEmployees(): Observable<any> {\n    return this.http.get<any>(\n      this.apiUrl + `User/GetUsers?status=2001&pageNo=0&pageSize=1000`,\n      this.sharedService.getHeaders()\n    );\n  }\n  getMainFundPaymentCategories(params:any): Observable<any> {\n    return this.http.get<any>(\n      //this.apiUrl2 + `MainFundPaymentCategories/GetMainFundPaymentCategories${params}`,\n      this.apiUrl2 + `MainFundPaymentCategories/GetMainFundPaymentCategories${params}`,\n      this.sharedService.getHeaders()\n    );\n  }\n}\n"],"names":["MarkaziaVoucherService","constructor","http","sharedService","getUrl","getUrl2","getBrands","params","get","apiUrl2","getHeaders","getLookup","apiUrl","getCostCenter","getMarkaziaVoucherList","deleteMarkaziaVouchers","payload","post","generateVoucher","factory","providedIn","Validators","ModalMessageComponent","ViewFileComponent","Subscription","catchError","forkJoin","of","i0","CreateReceiptComponent","_generalService","_receiptsService","_voucherService","_spinner","_commonService","fb","_modalService","_allocationService","_collectService","_decimalPipe","_unsettleSession","Date","ngOnInit","initForm","getCurrencyList","getLookups","f","valueChanges","subscribe","value","toggleControlDisability","handleSearch","event","customersList","term","response","employeeList","data","customSearch","item","customerName","toLowerCase","includes","mobile","costCenter","pipe","error","mainFundCat","getMainFundPaymentCategories","taxes","getLookupsWithParams","costCenterList","mfCategoryList","taxesList","map","x","text","name","lookupName","ngOnDestroy","subscriptions","unsubscribe","formGroup","group","accountID","mainFundPaymentCategoryID","required","paymentAmount","disabled","paymentTaxPer","paymentTaxAmount","paymentTotalAmount","paymentCurrencyID","paymentCostCenterID","paymentAttachment","notes","dateYMD","time","formatTime","handleCurrencyChange","currencyName","handleTaxChange","handleAmountChange","handleMfCategoryChange","obj","taxPercentId","costCenterId","patchValue","amount","taxId","taxPercentage","find","id","taxAmount","setValue","transform","handleTotalAmountChange","totalAmount","handleSubmit","invalid","markAllAsTouched","show","formData","convertFormGroupToFormData","append","uploadedFile","addMainFundPaymentReceipt","next","isSuccess","successModal","err","errors","Errors","add","hide","controlNames","forEach","controlName","control","enable","disable","type","message","modelRef","open","size","componentInstance","receipt","routeName","messageError","c","controls","currencyList","fileAction","action","imageUploadedView","inputFile","nativeElement","filesDropped","enter","isInvalid","checkInvalidImageFormat","files","file","fileToBase64","then","onSelectFile","target","length","removeFile","getFiles","undefined","invalidExtentions","fileTypes","invalidFileType","setTimeout","date","hours","getHours","slice","minutes","getMinutes","selectors","viewQuery","ctx","RouterModule","ReceiptsComponent","routes","path","component","ReceiptsRoutingModule","forChild","imports","exports","debounceTime","distinctUntilChanged","invoices","_headerService","paging","filter","Sort","PageSize","limit","setTitle","initTableColumns","initFilterParams","getPaymentList","mainFundAmount","getMainFundCash","mainFundAmounts","isCash","filterForm","search","paidToUser","mainFundCategory","pageNo","formValues","filterParams","URLSearchParams","toString","defaultParams","tableConfig","getMainFundPayments","paymentList","total","totalRecordCount","onSortChange","sort","direction","column","onPageChange","page","tableColumns","key","label","canSort","currency","decimalFormat","appendText","placeholder","responseModal","ref","dismissOnlyActive","decls","vars","consts","template","CommonModule","SharedModule","ReceiptsModule","declarations","ReceiptsService","getEmployees"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}