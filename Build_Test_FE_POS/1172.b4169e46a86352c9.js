"use strict";(self.webpackChunkmarkaizaAdmin=self.webpackChunkmarkaizaAdmin||[]).push([[1172],{71172:(S,b,d)=>{d.r(b),d.d(b,{UnsettledSessionModule:()=>En});var a=d(36895),p=d(39485),h=d(53912),e=d(94650),u=d(20320),C=d(75304),f=d(69082),Z=d(36690),m=d(51445),v=d(43346),g=d(42953),c=d(24006),A=d(94349),T=d(28424),q=d(59442),N=d(55134);const I=["success"];function j(o,s){if(1&o&&(e.TgZ(0,"div",33)(1,"div",34)(2,"div",35),e._UZ(3,"img",36),e.qZA(),e.TgZ(4,"div",37)(5,"h6",38),e._uU(6),e.qZA(),e.TgZ(7,"h6",39),e._uU(8),e.ALo(9,"number"),e.qZA()()()()),2&o){const t=s.$implicit;e.xp6(3),e.Q6J("src",null==t||null==t.accountType?null:t.accountType.imagePath,e.LSH),e.xp6(3),e.Oqu(null==t||null==t.accountType||null==t.accountType.translation[0]?null:t.accountType.translation[0].lookupName),e.xp6(2),e.hij(" ",e.xi3(9,3,null==t?null:t.remainingAmount,"2.3-3")," ")}}function F(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.clearDepositInput())}),e._UZ(1,"i",41),e.qZA()}}function Q(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.clearAmountInput())}),e._UZ(1,"i",41),e.qZA()}}function R(o,s){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=s.item;e.xp6(1),e.Oqu((null==t?null:t.bankNameEnglish)+" - "+(null==t?null:t.accountName)+" - "+(null==t?null:t.accountNumber))}}function L(o,s){1&o&&(e.TgZ(0,"a",42),e._uU(1,"Create Deposit"),e.qZA())}function Y(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div",53)(5,"span"),e._uU(6),e.qZA(),e._UZ(7,"img",54),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"number"),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"p",55),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.getCashDepositDetails(null==l?null:l.depositeId,null==l?null:l.collectionType))}),e._uU(19,"View Details"),e.qZA()()()}if(2&o){const t=s.$implicit;e.xp6(2),e.Oqu(null==t?null:t.depositeId),e.xp6(4),e.Oqu(null==t?null:t.bankNameEnglish),e.xp6(1),e.Q6J("src",null==t?null:t.bankLogo,e.LSH),e.xp6(2),e.hij(" ",null==t?null:t.accountName," "),e.xp6(2),e.Oqu(null==t?null:t.accountNumber),e.xp6(2),e.hij("",e.xi3(14,7,null==t?null:t.amount,"2.3-3")," JOD"),e.xp6(3),e.Oqu(null==t||null==t.currency[0]?null:t.currency[0].lookupName)}}function G(o,s){1&o&&(e.TgZ(0,"div",56),e._UZ(1,"app-not-found"),e.qZA())}function z(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",43)(2,"div",44)(3,"table",45)(4,"thead")(5,"tr")(6,"th",46)(7,"button",47),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByDepositId())}),e._uU(8," Deposit ID "),e._UZ(9,"i",48)(10,"i",49),e.qZA()(),e.TgZ(11,"th",46)(12,"button",47),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByBankName())}),e._uU(13," Bank Name "),e._UZ(14,"i",48)(15,"i",49),e.qZA()(),e.TgZ(16,"th",46)(17,"button",47),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByAccountName())}),e._uU(18," Account Name "),e._UZ(19,"i",48)(20,"i",49),e.qZA()(),e.TgZ(21,"th",46)(22,"button",47),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByAccountNo())}),e._uU(23," Account No. "),e._UZ(24,"i",48)(25,"i",49),e.qZA()(),e.TgZ(26,"th",46)(27,"button",47),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByAmount())}),e._uU(28," Amount "),e._UZ(29,"i",48)(30,"i",49),e.qZA()(),e.TgZ(31,"th",46)(32,"button",50),e._uU(33," Currency "),e.qZA()(),e.TgZ(34,"th",46)(35,"button",50),e._uU(36," Action "),e.qZA()()()(),e.TgZ(37,"tbody"),e.YNc(38,Y,20,10,"tr",51),e.qZA()()(),e.YNc(39,G,2,0,"div",52),e.qZA()()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(7),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",2==n.sort),e.xp6(1),e.ekj("active",3==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",4==n.sort),e.xp6(1),e.ekj("active",5==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",6==n.sort),e.xp6(1),e.ekj("active",7==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",8==n.sort),e.xp6(1),e.ekj("active",9==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",10==n.sort),e.xp6(1),e.ekj("active",11==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(3),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(3),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",0==(null==t?null:t.length))}}function E(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}function H(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",57)(2,"h6",58),e._uU(3," Showing "),e.TgZ(4,"span"),e._uU(5),e.qZA(),e._uU(6," from "),e.TgZ(7,"span"),e._uU(8),e.qZA(),e._uU(9," data "),e.qZA()(),e.TgZ(10,"div",57)(11,"ngb-pagination",59),e.NdJ("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageNo=i)})("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageChange(i))}),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(5),e.AsE("",6*t.pageNo-5," - ",6==(null==t.deposits?null:t.deposits.length)?6*t.pageNo:t.totalRecords,""),e.xp6(3),e.hij(" ",t.totalRecords," "),e.xp6(3),e.Q6J("collectionSize",t.totalRecords)("page",t.pageNo)("maxSize",3)("pageSize",6)("rotate",!0)("ellipses",!1)}}let K=(()=>{class o{constructor(t,n,i,l,r,_,x){this._unsettleSession=t,this._commonService=n,this._sharedService=i,this._headerService=l,this._allocationService=r,this._collectService=_,this._modalService=x,this.deposits=[],this.banks=[],this.bankAccounts=[],this.sort=1,this.totalRecords=0,this.pageNo=1,this.pageSize=6,this.pages=[],this.unsettledSessionsAmount=[],this.depositId="",this.amount="",this.bankAccountId=null,this.bankId=null,this.isCash=!0,this.allowCreate=!1,this.cashDepositTypeId=0}ngOnInit(){this._headerService.setTitle("Unsettled Session > Add Bank Deposits"),this.getMainFundCash(),this.getRegisterUnsettledSessionsAmount(),this.getRegisterDetails(),this.getCashDeposits(),this.getBanks(),this.getUserPermission(),this.getBankAccounts()}getRegisterUnsettledSessionsAmount(){this._unsettleSession.getRegisterUnsettledSessionsAmount(this._sharedService.getRegister?.registerObj?.id).subscribe(t=>{this.unsettledSessionsAmount=t?.data})}getUserPermission(){let n=JSON.parse(localStorage.getItem("permissions")).find(i=>"Main Fund Banks Deposits Permissions"==i.perCatName).permissionSubCategories[0].permissionItems;this.allowCreate=n.find(i=>147==i.permissionItemId).selected}getCashDeposits(){this._allocationService.getRegisterDirectDeposits(`?registerId=${this._sharedService.getRegister.registerObj?.id}&bankId=${this.bankId&&this.bankId||""}\n    &AccountId=${this.bankAccountId&&this.bankAccountId||""}&DepositeId=${this.depositId}&DepositeType=${this.isCash?"cash":"cheque"}\n    &amount=${this.amount}&Sort=${this.sort}&PageNo=${this.pageNo-1}&pageSize=${this.pageSize}`).subscribe(n=>{this.deposits=n.data,this.totalRecords=n?.totalRecordCount})}getRegisterDetails(){return this._collectService.GetRegisterDetails(this._sharedService.getRegister.registerObj?.id).subscribe(t=>{t&&(this.cashDepositTypeId=t?.data.cashDepositTypeId)})}getCashDepositDetails(t,n){"cash"==n?this._allocationService.getRegisterDirectCashDepositDetails(t).subscribe(i=>{console.log(i),this._modalService.open(h.F,{size:"lg"}).componentInstance.depositDetails=i.data[0]}):this._commonService.NavigateToRoute("/unsettled-session/deposited-cheques/"+t)}depositType(t){this.isCash="cash"==t.target.value,this.pageNo=1,this.sort=1,this.getCashDeposits()}clearAmountInput(){this.amount="",this.getCashDeposits()}clearDepositInput(){this.depositId="",this.getCashDeposits()}onDepositChange(){this.getCashDeposits()}onAmountChange(){this.getCashDeposits()}getBanks(){this._unsettleSession.getBanks().subscribe(t=>{this.banks=t.data})}onBankChange(t){this.bankAccounts=[],this.bankAccountId=null,this.getCashDeposits()}getBankAccounts(){this._unsettleSession.getBankAccounts("?status=2001&pageNo=0&pageSize=1000").subscribe(n=>{this.bankAccounts=n.data})}onBankAccountChange(t){this.getCashDeposits()}getMainFundCash(){this._allocationService.getMainFundCash().subscribe(t=>{console.log(t.data),this.mainFundAmounts=t?.data})}sortByDepositId(){this.sort=3==this.sort?1:2==this.sort?3:2,this.getCashDeposits()}sortByBankName(){this.sort=5==this.sort?1:4==this.sort?5:4,this.getCashDeposits()}sortByAccountName(){this.sort=7==this.sort?1:6==this.sort?7:6,this.getCashDeposits()}sortByAccountNo(){this.sort=9==this.sort?1:8==this.sort?9:8,this.getCashDeposits()}sortByAmount(){this.sort=11==this.sort?1:10==this.sort?11:10,this.getCashDeposits()}pageChange(t){this.pageNo=t,window.scroll(0,0),this.getCashDeposits()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.o),e.Y36(C.v),e.Y36(f.F),e.Y36(Z.r),e.Y36(m.U),e.Y36(v.k),e.Y36(g.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-bank-deposits"]],viewQuery:function(t,n){if(1&t&&e.Gf(I,5),2&t){let i;e.iGM(i=e.CRH())&&(n.success=i.first)}},decls:49,vars:16,consts:[[1,"page-layout"],[1,"heading-text","mb-3"],[1,"main-fund-container","gap-4","mb-4"],["class","main-fund-wrapper",4,"ngFor","ngForOf"],[1,"row"],[1,"col-12","col-sm-6","col-lg-3"],[1,"input-group","search-box","h-100"],["type","button",1,"btn"],[1,"fa-solid","fa-search"],["type","text","placeholder","Deposit Id",1,"form-control",3,"ngModel","input","ngModelChange"],["class","btn","type","button",3,"click",4,"ngIf"],["type","text","appDecimalNumber","","placeholder","Amount",1,"form-control",3,"ngModel","input","ngModelChange"],["placeholder","Bank","bindLabel","bankNameEnglish","bindValue","bankId",1,"flex-grow-1","mt-3","mt-md-0",3,"ngModel","items","ngModelChange","change"],["placeholder","Account","bindLabel","accountName","bindValue","accountId",1,"flex-grow-1","mt-3","mt-md-0",3,"ngModel","items","change","ngModelChange"],["ng-option-tmp",""],[1,"col-12","d-flex","justify-content-between","align-items-center","mt-3"],[1,"d-flex","gap-4"],[1,"fw-500"],[1,"d-flex","gap-3","align-items-center"],[1,"form-check","p-0","d-flex","align-items-center","pe-2"],["value","cash","id","cash","type","radio",1,"form-check-input","me-2",3,"checked","change"],["for","cash"],[1,"form-check","p-0","d-flex","align-items-center","ps-2"],["value","cheque","id","cheque","type","radio",1,"form-check-input","me-2",3,"checked","change"],["for","cheque"],[1,"btns-group","m-0","d-block"],["routerLink","/unsettled-session/create-deposit","class","btn btn-save",4,"ngIf"],[1,"d-flex","justify-content-end"],[1,"total-records"],["class","col-md-12",4,"ngIf","ngIfElse"],[1,"col-md-12"],["loading",""],[4,"ngIf"],[1,"main-fund-wrapper"],[1,"main-fund-div"],[1,"currency-symbol"],["alt","",3,"src"],[1,"d-flex","flex-column"],[1,"fw-700","font-18"],[1,"fw-700","font-20","gray-500","m-0"],["type","button",1,"btn",3,"click"],[1,"fa-solid","fa-xmark"],["routerLink","/unsettled-session/create-deposit",1,"btn","btn-save"],[1,"card-table","mt-2","register-sessions-table"],[1,"table-responsive"],[1,"table"],["scope","col"],[1,"btn",3,"disabled","click"],[1,"fa-solid","fa-arrow-up-long"],[1,"fa-solid","fa-arrow-down-long"],[1,"btn","pe-none",3,"disabled"],[4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],[1,"d-flex","flex-column","gap-1"],["width","50",3,"src"],[1,"blue-clr","font-16","fw-600","cursor-pointer","text-decoration-none",3,"click"],[1,"not-found"],[1,"col-md-6"],[1,"showing"],[3,"collectionSize","page","maxSize","pageSize","rotate","ellipses","pageChange"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Remaining Amount "),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,j,10,6,"div",3),e.qZA(),e.TgZ(5,"h3",1),e._uU(6,"Deposits List"),e.qZA(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"button",7),e._UZ(11,"i",8),e.qZA(),e.TgZ(12,"input",9),e.NdJ("input",function(){return n.onDepositChange()})("ngModelChange",function(l){return n.depositId=l}),e.qZA(),e.YNc(13,F,2,0,"button",10),e.qZA()(),e.TgZ(14,"div",5)(15,"div",6)(16,"button",7),e._UZ(17,"i",8),e.qZA(),e.TgZ(18,"input",11),e.NdJ("input",function(){return n.onAmountChange()})("ngModelChange",function(l){return n.amount=l}),e.qZA(),e.YNc(19,Q,2,0,"button",10),e.qZA()(),e.TgZ(20,"div",5)(21,"ng-select",12),e.NdJ("ngModelChange",function(l){return n.bankId=l})("change",function(l){return n.onBankChange(l)}),e.qZA()(),e.TgZ(22,"div",5)(23,"ng-select",13),e.NdJ("change",function(l){return n.onBankAccountChange(l)})("ngModelChange",function(l){return n.bankAccountId=l}),e.YNc(24,R,2,1,"ng-template",14),e.qZA()(),e.TgZ(25,"div",15)(26,"div",16)(27,"div",17),e._uU(28,"Deposit Type"),e.qZA(),e.TgZ(29,"div",18)(30,"div",19)(31,"input",20),e.NdJ("change",function(l){return n.depositType(l)}),e.qZA(),e.TgZ(32,"label",21),e._uU(33,"Cash"),e.qZA()(),e.TgZ(34,"div",22)(35,"input",23),e.NdJ("change",function(l){return n.depositType(l)}),e.qZA(),e.TgZ(36,"label",24),e._uU(37,"Cheque"),e.qZA()()()(),e.TgZ(38,"div",25),e.YNc(39,L,2,0,"a",26),e.qZA()()(),e.TgZ(40,"div",27)(41,"p",28),e._uU(42),e.qZA()(),e.TgZ(43,"div",4),e.YNc(44,z,40,29,"div",29),e.TgZ(45,"div",30),e.YNc(46,E,2,0,"ng-template",null,31,e.W1O),e.qZA(),e.YNc(48,H,12,9,"ng-container",32),e.qZA()()),2&t){const i=e.MAs(47);e.xp6(4),e.Q6J("ngForOf",n.unsettledSessionsAmount),e.xp6(8),e.Q6J("ngModel",n.depositId),e.xp6(1),e.Q6J("ngIf",n.depositId),e.xp6(5),e.Q6J("ngModel",n.amount),e.xp6(1),e.Q6J("ngIf",n.amount),e.xp6(2),e.Q6J("ngModel",n.bankId)("items",n.banks),e.xp6(2),e.Q6J("ngModel",n.bankAccountId)("items",n.bankAccounts),e.xp6(8),e.Q6J("checked",n.isCash),e.xp6(4),e.Q6J("checked",!n.isCash),e.xp6(4),e.Q6J("ngIf",n.allowCreate&&(8001==n.cashDepositTypeId||8003==n.cashDepositTypeId)),e.xp6(3),e.hij("Total No. ",n.totalRecords,""),e.xp6(2),e.Q6J("ngIf",n.deposits)("ngIfElse",i),e.xp6(4),e.Q6J("ngIf",n.totalRecords>6)}},dependencies:[a.sg,a.O5,p.rH,c.Fj,c.JJ,c.On,A.w9,A.ir,g.N9,T.N,q.w,N.Q,a.JJ],styles:[".heading-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.depositBtn[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:600;width:95px;height:34.2px;display:flex;justify-content:center;align-items:center;background:#dc3545;border-radius:8px;cursor:pointer}.main-fund-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}.main-fund-container[_ngcontent-%COMP%]   .main-fund-wrapper[_ngcontent-%COMP%]{box-sizing:border-box;background:#FFFFFF;border:1px solid #E9E9E9;box-shadow:0 10px 20px #0000001a;border-radius:8px;padding:10px 15px;flex:0 1 240px;height:100px;display:flex;align-items:center}.main-fund-container[_ngcontent-%COMP%]   .main-fund-wrapper[_ngcontent-%COMP%]   .main-fund-div[_ngcontent-%COMP%]{display:flex;gap:15px}.main-fund-container[_ngcontent-%COMP%]   .main-fund-wrapper[_ngcontent-%COMP%]   .main-fund-div[_ngcontent-%COMP%]   .currency-symbol[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:#F6F6F6;box-shadow:0 10px 20px #0000001a;border-radius:8px}.form-check-input[_ngcontent-%COMP%]{width:20px!important;height:20px;margin:0;padding:0}.mdtext[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:16px;color:#1b212d}.smText[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:15px;color:#858585}.d-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(173px,1fr));gap:20px}.uploadedfile[_ngcontent-%COMP%]{border:1px solid #11af22;border-radius:4px;display:flex;justify-content:space-between;align-items:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50%;margin:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}.uploadedfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding:10px;color:#696969;margin:0;cursor:pointer}.main-fund-div[_ngcontent-%COMP%]{display:flex;gap:15px;align-items:center;margin-bottom:14px}.main-fund-div[_ngcontent-%COMP%]   .currency-symbol[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:#F6F6F6;box-shadow:0 10px 20px #0000001a;border-radius:8px}.heading-main-fund[_ngcontent-%COMP%]{font-size:12px;font-weight:600;margin:0}"]}),o})();var y=d(86349),V=d(72200),P=d(96603);const $=["inputFile"],W=["depositSucess"];function X(o,s){1&o&&(e.TgZ(0,"span",53),e._uU(1,"Selected cheques amount must be less than or equal to Cheque amount."),e.qZA())}function ee(o,s){if(1&o&&(e.ynx(0),e.YNc(1,X,2,0,"span",46),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.f.selectedAmount||null==t.f.selectedAmount.errors?null:t.f.selectedAmount.errors.unEqualAmounts)}}function te(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",63),e.NdJ("change",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.handleCheckBoxChange())})("ngModelChange",function(i){const r=e.CHM(t).$implicit;return e.KtG(r.checked=i)}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"number"),e.qZA()()}if(2&o){const t=s.$implicit,n=s.index;e.xp6(2),e.Q6J("ngModel",t.checked)("id",n),e.xp6(2),e.Oqu(null==t?null:t.chequeCustomer),e.xp6(2),e.Oqu(null==t?null:t.chequeNo),e.xp6(2),e.Oqu(null==t||null==t.bank[0]?null:t.bank[0].lookupName),e.xp6(2),e.Oqu(e.xi3(11,7,null==t?null:t.chequeDate,"shortDate")),e.xp6(3),e.hij("",e.xi3(14,10,null==t?null:t.chequeCollectionJod,"2.3-3")," JD")}}function ne(o,s){1&o&&(e.TgZ(0,"div",64),e._UZ(1,"app-not-found"),e.qZA())}function oe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",54)(2,"div",55)(3,"table",56)(4,"thead")(5,"tr"),e._UZ(6,"th"),e.TgZ(7,"th",57)(8,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByCustomer())}),e._uU(9," Customer "),e._UZ(10,"i",59)(11,"i",60),e.qZA()(),e.TgZ(12,"th",57)(13,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByCheque())}),e._uU(14," Cheque No "),e._UZ(15,"i",59)(16,"i",60),e.qZA()(),e.TgZ(17,"th",57)(18,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByBank())}),e._uU(19," Bank "),e._UZ(20,"i",59)(21,"i",60),e.qZA()(),e.TgZ(22,"th",57)(23,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByDate())}),e._uU(24," Date "),e._UZ(25,"i",59)(26,"i",60),e.qZA()(),e.TgZ(27,"th",57)(28,"button",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByAmount())}),e._uU(29," Amount "),e._UZ(30,"i",59)(31,"i",60),e.qZA()()()(),e.TgZ(32,"tbody"),e.YNc(33,te,15,13,"tr",61),e.qZA()()(),e.YNc(34,ne,2,0,"div",62),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(8),e.Q6J("disabled",0==(null==t.unSettledChequeList?null:t.unSettledChequeList.length)),e.xp6(2),e.ekj("active",2==t.sort),e.xp6(1),e.ekj("active",3==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.unSettledChequeList?null:t.unSettledChequeList.length)),e.xp6(2),e.ekj("active",4==t.sort),e.xp6(1),e.ekj("active",5==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.unSettledChequeList?null:t.unSettledChequeList.length)),e.xp6(2),e.ekj("active",6==t.sort),e.xp6(1),e.ekj("active",7==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.unSettledChequeList?null:t.unSettledChequeList.length)),e.xp6(2),e.ekj("active",8==t.sort),e.xp6(1),e.ekj("active",9==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.unSettledChequeList?null:t.unSettledChequeList.length)),e.xp6(2),e.ekj("active",10==t.sort),e.xp6(1),e.ekj("active",11==t.sort),e.xp6(2),e.Q6J("ngForOf",t.unSettledChequeList),e.xp6(1),e.Q6J("ngIf",0==(null==t.unSettledChequeList?null:t.unSettledChequeList.length))}}function ie(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}const se=function(o){return{active:o}};function le(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"li",65)(1,"button",66),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.setPage(l))}),e._uU(2),e.qZA()()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(3,se,n.pageNo===t))("disabled",n.pageNo===t),e.xp6(1),e.hij(" ",t+1," ")}}function ae(o,s){1&o&&(e.TgZ(0,"span",53),e._uU(1,"Uploading the attachment is required please upload"),e.qZA())}function re(o,s){if(1&o&&(e.ynx(0),e.YNc(1,ae,2,0,"span",46),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.attachment||null==t.f.attachment.errors?null:t.f.attachment.errors.required)}}function ce(o,s){if(1&o&&(e.ynx(0),e.YNc(1,re,2,1,"ng-container",11),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.f.attachment?null:t.f.attachment.invalid)&&(null==t.f.attachment?null:t.f.attachment.touched)||(null==t.f.attachment?null:t.f.attachment.dirty))}}function ue(o,s){if(1&o&&(e.TgZ(0,"small",53),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.invalidFileType)}}function de(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",68)(1,"p",69),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openMdalImage(l))}),e._uU(2),e.qZA(),e.TgZ(3,"div",70)(4,"button",71),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openMdalImage(l))}),e._UZ(5,"img",72),e.qZA(),e.TgZ(6,"button",73),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.removeFile(l))}),e._UZ(7,"img",74),e.qZA()()()}if(2&o){const t=s.$implicit;e.xp6(2),e.Oqu(null==t?null:t.fileName)}}function pe(o,s){if(1&o&&(e.ynx(0),e.YNc(1,de,8,1,"div",67),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.filesArray)}}function ge(o,s){1&o&&e._UZ(0,"i",75)}function _e(o,s){if(1&o&&(e.TgZ(0,"h5",78),e._UZ(1,"i",79),e._uU(2),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(null==t.response||null==t.response.Errors[0]?null:t.response.Errors[0].ErrorMessageEn)}}function he(o,s){if(1&o&&(e.TgZ(0,"h5",78),e._UZ(1,"i",80),e._uU(2),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(t.depositSuccessMessage)}}function me(o,s){if(1&o&&(e.TgZ(0,"div",76),e.YNc(1,_e,3,1,"h5",77),e.YNc(2,he,3,1,"h5",77),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.response||null==t.response.Errors?null:t.response.Errors.length),e.xp6(1),e.Q6J("ngIf",null==t.response?null:t.response.data)}}let fe=(()=>{class o{constructor(t,n,i,l,r,_,x){this.fb=t,this.modalService=n,this._allocationService=i,this._commonService=l,this._unsettledSessionService=r,this._headerService=_,this._sharedService=x,this.searchText="",this.orderId=0,this.sort=1,this.totalRecords=0,this.pageNo=0,this.pages=[],this.unSettledChequeList=[],this.filesArray=[],this.fileTypes=["image/jpeg","image/jpg","image/png","application/pdf"],this.checkedItems=[],this.selectedChequeAmount=0,this.depositSuccessMessage=""}ngOnInit(){this._headerService.setTitle("Unsettled session > Add Bank Deposit > Cheque Deposit"),this.getChequeDetails(),this.initForm()}getChequeDetails(){this.chequeDetails=JSON.parse(localStorage.getItem("_unsettledDepositChequeData")),console.log(this.chequeDetails),this.getRegisterUnsettledCheques()}getRegisterUnsettledCheques(){this._unsettledSessionService.getRegisterUnsettledCheques(`?rgisterId=${this._sharedService.getRegister?.registerObj?.id}&search=${this.searchText}&sort=${this.sort}&pageNo=${this.pageNo}&pageSize=6`).subscribe(n=>{n?.data.length>0&&(this.unSettledChequeList=n?.data.map(i=>({...i,checked:!1})),this.totalRecords=n?.totalRecordCount,this.pagin=Math.ceil(this.totalRecords/6),this.pages=y.w6(this.pagin),console.log(this.unSettledChequeList))})}initForm(){this.formGroup=this.fb.group({notes:[""],attachment:["",[c.kI.required]],selectedAmount:[""]})}get f(){return this.formGroup.controls}despositCheque(){if(this.formGroup.invalid)this.formGroup.markAllAsTouched();else{this.isPending=!0;let t=this.filesArray.map(i=>i.file),n=new FormData;n.append("sageAccountId",this.chequeDetails?.sageBankId),n.append("chequeCollectionIds",this.chequeIds.toString()),n.append("notes",this.formGroup.value.notes);for(let i of t)n.append("files",i);this._unsettledSessionService.registerDirectDepositCheques(n).subscribe(i=>{this.response=i,this.isPending=!1,this.response.isSuccess&&(this.depositSuccessMessage="Deposit process successfully completed",this.checkedItems=[],this.filesArray=[],this.formGroup.reset(),this._commonService.NavigateToRoute("/unsettled-session/add-bank-deposit"))},i=>{this.isPending=!1})}}removeSearch(){this.searchText="",this.getRegisterUnsettledCheques()}handleCheckBoxChange(){this.checkedItems=this.unSettledChequeList.filter(t=>t.checked),this.checkedItems.length>0?(this.selectedChequeAmount=this.checkedItems.reduce((t,n)=>t+n?.chequeCollectionJod,0),this.formGroup.controls.selectedAmount.setErrors(this.selectedChequeAmount>this.chequeDetails?.remainingAmount?{unEqualAmounts:!0}:null),this.chequeIds=this.checkedItems.map(t=>t.chequeCollectionId)):(this.formGroup.controls.selectedAmount.setErrors(null),this.selectedChequeAmount=0)}handleSearchInput(t){const n=t.target.value;this.searchText=n,n.length>=2&&this.getRegisterUnsettledCheques(),n||this.getRegisterUnsettledCheques()}filesDropped(t){this.enter=!1;let n=this.checkInvalidImageFormat(t),i=t.map(l=>l.file);this.formGroup.get("attachment")?.setValue("attached"),n||i.forEach(l=>{this._commonService.fileToBase64(l).then(r=>{this.filesArray=[...this.filesArray,r]})})}onSelectFile(t){let n=[...t.target.files];this.formGroup.get("attachment")?.setValue("attached"),n.length>0&&(this.checkInvalidImageFormat(n)||n.forEach(l=>{this._commonService.fileToBase64(l).then(r=>{this.filesArray=[...this.filesArray,r]})}))}checkInvalidImageFormat(t){let n,i=t.map(r=>r.file);n=void 0!==i[0]?i:t;let l=!1;for(let r of n)if(!this.fileTypes.includes(r.type)){l=!0,this.invalidFileType="This file not support, supported formates: JPEG, JPG, PNG, PDF",this.formGroup.get("attachments")?.patchValue(""),setTimeout(()=>{this.invalidFileType=""},3e3);break}return l}removeFile(t){this.inputFile.nativeElement.value=null;let n=this.filesArray.findIndex(i=>i.fileName==t.fileName);this.filesArray.splice(n,1),0==this.filesArray.length&&this.formGroup.get("attachment")?.setValue("")}openMdalImage(t){this.modalService.open(V.h).componentInstance.imageUploadedView=t}sortByCustomer(){this.sort=3==this.sort?1:2==this.sort?3:2,this.getRegisterUnsettledCheques()}sortByCheque(){this.sort=5==this.sort?1:4==this.sort?5:4,this.getRegisterUnsettledCheques()}sortByBank(){this.sort=7==this.sort?1:6==this.sort?7:6,this.getRegisterUnsettledCheques()}sortByDate(){this.sort=9==this.sort?1:8==this.sort?9:8,this.getRegisterUnsettledCheques()}sortByAmount(){this.sort=11==this.sort?1:10==this.sort?11:10,this.getRegisterUnsettledCheques()}setPage(t){this.pageNo=t,window.scroll(0,0),this.getRegisterUnsettledCheques()}ngOnDestroy(){this._allocationService.despositeAmount.next(""),this._allocationService._viewDepositAmount.next("")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.qu),e.Y36(g.FF),e.Y36(m.U),e.Y36(C.v),e.Y36(u.o),e.Y36(Z.r),e.Y36(f.F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-cheque-deposit"]],viewQuery:function(t,n){if(1&t&&(e.Gf($,5),e.Gf(W,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.inputFile=i.first),e.iGM(i=e.CRH())&&(n.depositSucessModal=i.first)}},decls:116,vars:36,consts:[[1,"card-Box"],[1,"headingText"],[1,"separator"],[1,"d-flex","mt-3",2,"gap","120px"],[1,"flex-column"],[1,"mdtext"],[1,"smText"],[1,"flex-between","mt-3","flex-wrap"],[1,"flex-between","gap-2"],[1,"font-18","fw-600"],[1,"amountButton","mdtext"],[4,"ngIf"],[1,"headingText","my-4"],[1,"row"],[1,"col-md-5"],[1,"input-group","search-box"],["type","button","id","button-addon1",1,"btn",3,"click"],[1,"fa-solid","fa-search"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","input"],["type","button","id","button-addon1",1,"btn",3,"hidden","click"],[1,"fa-solid","fa-xmark"],[1,"col-md-2","d-flex","justify-content-end","btnadd"],[1,"col-md-6"],[1,"col-md-6","text-end"],[1,"total"],["class","col-md-12",4,"ngIf","ngIfElse"],[1,"col-md-12"],["loading",""],[1,"col-md-6",3,"hidden"],[1,"showing"],[1,"pagination"],["class","page-item",4,"ngFor","ngForOf"],[3,"formGroup","submit"],[1,"card-Box","mt-3"],[1,"font-18","fw-600","dark-gray","mb-3"],[1,"col-sm-7"],["formControlName","notes","maxlength","150","rows","5",1,"form-control"],[1,"row","mt-3"],[1,"col-sm-6"],[1,"form-group","mb-3"],[1,"font-18","fw-600","dark-gray"],["appImageDrag","","accept",".png,.jpg,.jpeg,.pdf",1,"card-upload","my-3",3,"files","enter","leave","click"],[1,"my-3"],["src","assets/images/upload.png","alt",""],["type","file","accept",".png,.jpg,.jpeg,.pdf","multiple","","hidden","",1,"form-control",3,"change"],["inputFile",""],["class","text-danger",4,"ngIf"],[1,"flex-end",2,"margin-top","24px"],[1,"btns-group","my-2","mx-0"],["type","button",1,"btn","btn-cancel",3,"routerLink"],["type","submit",1,"btn","btn-save",3,"disabled"],["class","fa-solid fa-circle-notch fa-spin",4,"ngIf"],["depositSucess",""],[1,"text-danger"],[1,"card-table","mt-2"],[1,"table-responsive"],[1,"table"],["scope","col"],[1,"btn",3,"disabled","click"],[1,"fa-solid","fa-arrow-up-long"],[1,"fa-solid","fa-arrow-down-long"],[4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],["type","checkbox",1,"inputColor",3,"ngModel","id","change","ngModelChange"],[1,"not-found"],[1,"page-item"],[1,"page-link",3,"ngClass","disabled","click"],["class","uploadedfile mb-2",4,"ngFor","ngForOf"],[1,"uploadedfile","mb-2"],[3,"click"],[1,"d-flex"],["type","button",1,"btn","fview",3,"click"],["src","assets/images/eye.png","alt",""],["type","button",1,"btn",3,"click"],["src","assets/images/trash.png","alt",""],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"modal-body"],["class","m-0 py-3 text-center fw-600",4,"ngIf"],[1,"m-0","py-3","text-center","fw-600"],[1,"text-danger","fa-regular","fa-circle-xmark","me-2"],[1,"green-clr","fa-regular","fa-circle-check","me-2"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Cheque Deposits"),e.qZA(),e._UZ(3,"div",2),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5),e._uU(7,"Bank Name"),e.qZA(),e.TgZ(8,"div",6),e._uU(9),e.qZA()(),e.TgZ(10,"div",4)(11,"div",5),e._uU(12,"Account Name"),e.qZA(),e.TgZ(13,"div",6),e._uU(14),e.qZA()(),e.TgZ(15,"div",4)(16,"div",5),e._uU(17,"Account No"),e.qZA(),e.TgZ(18,"div",6),e._uU(19),e.qZA()(),e.TgZ(20,"div",4)(21,"div",5),e._uU(22,"Currency"),e.qZA(),e.TgZ(23,"div",6),e._uU(24),e.qZA()()(),e._UZ(25,"div",2),e.TgZ(26,"div",7)(27,"div",8)(28,"div",9),e._uU(29,"Cheque Amount"),e.qZA(),e.TgZ(30,"div",10),e._uU(31),e.ALo(32,"number"),e.qZA()(),e.TgZ(33,"div",8)(34,"div",9),e._uU(35,"Selected Cheques Amount"),e.qZA(),e.TgZ(36,"div",10),e._uU(37),e.ALo(38,"number"),e.qZA()(),e.TgZ(39,"div",8)(40,"div",9),e._uU(41,"Difference"),e.qZA(),e.TgZ(42,"div",10),e._uU(43),e.ALo(44,"number"),e.qZA()()(),e.YNc(45,ee,2,1,"ng-container",11),e.qZA(),e.TgZ(46,"div",12),e._uU(47,"Unsettled Cheques"),e.qZA(),e.TgZ(48,"div",13)(49,"div",14)(50,"div",15)(51,"button",16),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(52,"i",17),e.qZA(),e.TgZ(53,"input",18),e.NdJ("ngModelChange",function(r){return n.searchText=r})("input",function(r){return n.handleSearchInput(r)}),e.qZA(),e.TgZ(54,"button",19),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(55,"i",20),e.qZA()()(),e._UZ(56,"div",14)(57,"div",21)(58,"div",22),e.TgZ(59,"div",23)(60,"div",24)(61,"p"),e._uU(62),e.qZA()()()(),e.TgZ(63,"div",13),e.YNc(64,oe,35,27,"div",25),e.TgZ(65,"div",26),e.YNc(66,ie,2,0,"ng-template",null,27,e.W1O),e.qZA(),e.TgZ(68,"div",28)(69,"h6",29),e._uU(70," Showing "),e.TgZ(71,"span"),e._uU(72),e.qZA(),e._uU(73," from "),e.TgZ(74,"span"),e._uU(75),e.qZA(),e._uU(76," data "),e.qZA()(),e.TgZ(77,"div",28)(78,"ul",30),e.YNc(79,le,3,5,"li",31),e.qZA()()(),e.TgZ(80,"form",32),e.NdJ("submit",function(){return n.despositCheque()}),e.TgZ(81,"div",33)(82,"div",34),e._uU(83,"Notes"),e.qZA(),e.TgZ(84,"div",13)(85,"div",35),e._UZ(86,"textarea",36),e.qZA()(),e.TgZ(87,"div",37)(88,"div",38)(89,"div",39)(90,"label",40),e._uU(91," Attachment (Upload Bank Voucher) "),e.qZA(),e.TgZ(92,"div",41),e.NdJ("files",function(r){return n.filesDropped(r)})("enter",function(){return n.enter=!n.enter})("leave",function(){return n.enter=!n.enter})("click",function(){e.CHM(i);const r=e.MAs(100);return e.KtG(r.click())}),e.TgZ(93,"div",42),e._UZ(94,"img",43),e.TgZ(95,"h5"),e._uU(96,"Drag & drop files"),e.qZA(),e.TgZ(97,"p"),e._uU(98,"Supported formates: JPEG, PNG, PDF"),e.qZA()()(),e.TgZ(99,"input",44,45),e.NdJ("change",function(r){return n.onSelectFile(r)}),e.qZA()(),e.YNc(101,ce,2,1,"ng-container",11),e.YNc(102,ue,2,1,"small",46),e.qZA()(),e.TgZ(103,"div",13)(104,"div",38),e.YNc(105,pe,2,1,"ng-container",11),e.qZA()()(),e.TgZ(106,"div",47)(107,"div",48)(108,"button",49),e._uU(109," Cancel "),e.qZA()(),e.TgZ(110,"div",48)(111,"button",50),e._uU(112),e.YNc(113,ge,1,0,"i",51),e.qZA()()()(),e.YNc(114,me,3,2,"ng-template",null,52,e.W1O)}if(2&t){const i=e.MAs(67);e.xp6(9),e.hij(" ",null==n.chequeDetails?null:n.chequeDetails.accountName," "),e.xp6(5),e.hij(" ",null==n.chequeDetails?null:n.chequeDetails.bankName," "),e.xp6(5),e.hij(" ",null==n.chequeDetails?null:n.chequeDetails.accountNo," "),e.xp6(5),e.hij(" ",null==n.chequeDetails||null==n.chequeDetails.currency[0]?null:n.chequeDetails.currency[0].lookupName," "),e.xp6(7),e.hij(" ",e.xi3(32,27,null==n.chequeDetails?null:n.chequeDetails.remainingAmount,"2.3-3")," JD "),e.xp6(6),e.hij(" ",e.xi3(38,30,n.selectedChequeAmount,"2.3-3")," JD "),e.xp6(6),e.hij(" ",e.xi3(44,33,n.selectedChequeAmount&&(null==n.chequeDetails?null:n.chequeDetails.remainingAmount)-n.selectedChequeAmount,"2.3-3")," JD "),e.xp6(2),e.Q6J("ngIf",null==n.f.selectedAmount?null:n.f.selectedAmount.errors),e.xp6(8),e.Q6J("ngModel",n.searchText),e.xp6(1),e.Q6J("hidden",0==n.searchText.length),e.xp6(8),e.hij("Total No. ",n.totalRecords,""),e.xp6(2),e.Q6J("ngIf",n.unSettledChequeList)("ngIfElse",i),e.xp6(4),e.Q6J("hidden",0==(null==n.unSettledChequeList?null:n.unSettledChequeList.length)),e.xp6(4),e.AsE(" ",6*(n.pageNo+1)-5," - ",6==(null==n.unSettledChequeList?null:n.unSettledChequeList.length)?6*(n.pageNo+1):n.totalRecords," "),e.xp6(3),e.hij(" ",n.totalRecords," "),e.xp6(2),e.Q6J("hidden",n.totalRecords<7),e.xp6(2),e.Q6J("ngForOf",n.pages),e.xp6(1),e.Q6J("formGroup",n.formGroup),e.xp6(21),e.Q6J("ngIf",null==n.f.attachment?null:n.f.attachment.errors),e.xp6(1),e.Q6J("ngIf",n.invalidFileType),e.xp6(3),e.Q6J("ngIf",n.filesArray.length>0),e.xp6(3),e.Q6J("routerLink","/unsettled-session/add-bank-deposit"),e.xp6(3),e.Q6J("disabled",n.isPending),e.xp6(1),e.hij(" ",n.isPending?"Saving":"Save"," "),e.xp6(1),e.Q6J("ngIf",n.isPending)}},dependencies:[a.mk,a.sg,a.O5,p.rH,c._Y,c.Fj,c.Wl,c.JJ,c.JL,c.nD,c.sg,c.u,c.On,T.N,q.w,P.z,a.JJ,a.uU],styles:[".applyMargin[_ngcontent-%COMP%]{margin-top:2.5rem}.total[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin:15px 0 0;padding:10px 0}.total[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:19px;color:#929eae;margin:0;padding:10px 0}.card-table[_ngcontent-%COMP%]{border:.5px solid #f4f4f4;box-shadow:3px 7px 12px #0000002e;-webkit-box-shadow:3px 7px 12px 0px rgba(0,0,0,.18);-moz-box-shadow:3px 7px 12px 0px rgba(0,0,0,.18)}.btn-provide[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;outline:none;border:none;padding:8px 14px;border-radius:4px;font-size:12px}.btn-disabled[_ngcontent-%COMP%]{background-color:#c5c6c7;color:#fff;outline:none;border:none;padding:8px 14px;border-radius:4px;font-size:12px}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;gap:8px}.play-left[_ngcontent-%COMP%]{color:#eceaea;transform:rotate(180deg);margin-right:5px}.play-right[_ngcontent-%COMP%]{color:#eceaea}.card-Box[_ngcontent-%COMP%]{background:#ffffff;border:.5px solid #f5f5f5;box-shadow:0 15px 25px #0000001a;border-radius:8px;padding:24px 34px}.flex-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.headingText[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:18px;line-height:22px;color:#1b212d}.mdtext[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:16px;color:#1b212d}.smText[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:16px;color:#858585}.linkText[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-style:normal;font-weight:400;font-size:16px;line-height:22px;color:#4e9aff}.linkText2[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-size:16px;font-weight:600;line-height:20px;letter-spacing:0em;text-align:left;color:#4e9aff}.headButton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:95px;height:34.2px;border-radius:8px}.headButtonText[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-size:14px;font-weight:600;line-height:17px;letter-spacing:0em;text-align:left}.separator[_ngcontent-%COMP%]{border:1px solid #e9e9e9;margin-top:22px}.flex-column[_ngcontent-%COMP%]{display:block;justify-content:center;align-items:center}.amountButton[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:14px 34px 14px 35px;gap:10px;height:48px;background:#f8f8f8;border:.5px solid #e9e9e9;border-radius:10px}.statusButton[_ngcontent-%COMP%]{width:95px;height:34.2px;display:flex;justify-content:center;align-items:center;background:#fff3db;border-radius:8px}.flex-start[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:148px}.inputColor[_ngcontent-%COMP%]{accent-color:#dc3545;height:15px;width:15px}.textArea[_ngcontent-%COMP%]{height:89.5px;width:675px;background:#ffffff;border:.5px solid #f5f5f5;border-radius:8px}.modal-body[_ngcontent-%COMP%]{padding:20px}.card-form[_ngcontent-%COMP%]{background:#ffffff;border:0px solid #c4cdd5;box-shadow:none;border-radius:8px;margin:0;padding:0}.card-page[_ngcontent-%COMP%]{padding:30px}.modal-head[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #c4cdd5;display:flex;justify-content:space-between;align-items:center}.modal-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:22px;color:#1b212d;padding:5px 0 15px;margin:0}.modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#1b212d}.modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#929eae}.modal-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-top:-5px}.modal-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .invoic[_ngcontent-%COMP%]{color:#dc3545;margin:0}.modal-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#929eae;font-weight:500;padding:1px}.modal-head[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#1b212d}textarea[_ngcontent-%COMP%]{height:80px!important}.card-upload[_ngcontent-%COMP%]{border:1px dashed #939aa8;text-align:center;padding:10px;border-radius:10px;margin:10px 0;cursor:pointer}.card-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;margin-bottom:15px}.card-upload[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;font-size:18px;color:#0f0f0f}.card-upload[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:18px;color:#676767}.btn-upload[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border-radius:10px;padding:12px 35px;font-size:16px;font-weight:600;margin:10px 0}.card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px;margin:0}.overlay-bi[_ngcontent-%COMP%]{background-color:#c7c7c736;position:absolute;inset:0;z-index:1}.card-form[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{margin:-30px 0 0;z-index:5;position:relative}.card-form[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;padding:0}.uploadedfile[_ngcontent-%COMP%]{border:1px solid #11af22;border-radius:4px;display:flex;justify-content:space-between;align-items:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#fff3f3;border-radius:50%;margin:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.uploadedfile[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px}.uploadedfile[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding:10px;color:#696969;margin:0;cursor:pointer}.uplod[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#676767}.save-img[_ngcontent-%COMP%]{width:22px!important}.fileView[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.btn[_ngcontent-%COMP%]:disabled, .btn.disabled[_ngcontent-%COMP%]{background:#f1f3f3!important;color:#9b9b9b!important;border:1px solid #f1f3f3;cursor:initial}.card-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.progress-bar[_ngcontent-%COMP%]{background-color:#dc3545}.card-sm[_ngcontent-%COMP%]{margin:10px 0}.card-sm[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1b212d;margin-bottom:5px}.card-sm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#929eae}.card-sm[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{background-color:#f0f0f0;height:120px;border-radius:6px;margin:5px 0}.card-sm[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333;padding:10px}.fview[_ngcontent-%COMP%]{background:#fff!important;border-radius:50%;margin:0 5px;width:30px;height:30px}.fview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px!important}.flex-end[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;gap:16px}"]}),o})();var Ce=d(86260),xe=d(32298),be=d(53823);const Ze=["inputFile"];function ve(o,s){1&o&&(e.TgZ(0,"span",40),e._uU(1,"Input is required"),e.qZA())}function Te(o,s){if(1&o&&(e.ynx(0),e.YNc(1,ve,2,0,"span",37),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.currencyId||null==t.f.currencyId.errors?null:t.f.currencyId.errors.required)}}function qe(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Te,2,1,"ng-container",25),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.currencyId?null:t.f.currencyId.invalid)&&(null==t.f.currencyId?null:t.f.currencyId.touched)||(null==t.f.currencyId?null:t.f.currencyId.dirty))}}function Ae(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"ng-select",39),e.NdJ("change",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.onCurrencyChange(i))}),e.qZA(),e.YNc(2,qe,2,1,"ng-container",25),e.BQk()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("items",t.currencyList),e.xp6(1),e.Q6J("ngIf",null==t.f.currencyId?null:t.f.currencyId.errors)}}const w=function(){return{standalone:!0}};function ke(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",41)(2,"input",42),e.NdJ("ngModelChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.chequeType=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onChequeTypeChange())}),e.qZA(),e.TgZ(3,"label",43),e._uU(4,"Cheque"),e.qZA()(),e.TgZ(5,"div",41)(6,"input",44),e.NdJ("ngModelChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.chequeType=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onChequeTypeChange())}),e.qZA(),e.TgZ(7,"label",45),e._uU(8,"PDC"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.chequeType)("ngModelOptions",e.DdM(4,w)),e.xp6(4),e.Q6J("ngModel",t.chequeType)("ngModelOptions",e.DdM(5,w))}}function ye(o,s){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const t=s.item;e.xp6(1),e.Oqu((null==t?null:t.bankNameEnglish)+" - "+(null==t?null:t.accountName)+" - "+(null==t?null:t.accountNumber))}}function Se(o,s){1&o&&(e.TgZ(0,"span",40),e._uU(1,"Input is required"),e.qZA())}function De(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Se,2,0,"span",37),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.accountId||null==t.f.accountId.errors?null:t.f.accountId.errors.required)}}function Oe(o,s){if(1&o&&(e.ynx(0),e.YNc(1,De,2,1,"ng-container",25),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.f.accountId?null:t.f.accountId.invalid)&&(null==t.f.accountId?null:t.f.accountId.touched)||(null==t.f.accountId?null:t.f.accountId.dirty))}}function Me(o,s){1&o&&(e.TgZ(0,"span",40),e._uU(1,"Input is required"),e.qZA())}function Ue(o,s){1&o&&(e.TgZ(0,"span",40),e._uU(1,"Value must be greater than zero"),e.qZA())}function Ne(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Me,2,0,"span",37),e.YNc(2,Ue,2,0,"span",37),e.BQk()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.f.amount||null==t.f.amount.errors?null:t.f.amount.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.amount||null==t.f.amount.errors?null:t.f.amount.errors.invalidAmount)}}function Pe(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Ne,3,2,"ng-container",25),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",(null==t.f.amount?null:t.f.amount.invalid)&&(null==t.f.amount?null:t.f.amount.touched)||(null==t.f.amount?null:t.f.amount.dirty))}}function we(o,s){if(1&o&&(e.TgZ(0,"div",22)(1,"label",15),e._uU(2,"Amount*"),e.qZA(),e._UZ(3,"input",46),e.YNc(4,Pe,2,1,"ng-container",25),e.qZA()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",null==t.f.amount?null:t.f.amount.errors)}}function Je(o,s){1&o&&(e.TgZ(0,"span",40),e._uU(1,"Input is required"),e.qZA())}function Be(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Je,2,0,"span",37),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.depositDate||null==t.f.depositDate.errors?null:t.f.depositDate.errors.required)}}function Ie(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Be,2,1,"ng-container",25),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.f.depositDate?null:t.f.depositDate.invalid)&&(null==t.f.depositDate?null:t.f.depositDate.touched)||(null==t.f.depositDate?null:t.f.depositDate.dirty))}}function je(o,s){1&o&&(e.TgZ(0,"span",40),e._uU(1,"Input is required"),e.qZA())}function Fe(o,s){if(1&o&&(e.ynx(0),e.YNc(1,je,2,0,"span",37),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.time||null==t.f.time.errors?null:t.f.time.errors.required)}}function Qe(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Fe,2,1,"ng-container",25),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.f.time?null:t.f.time.invalid)&&(null==t.f.time?null:t.f.time.touched)||(null==t.f.time?null:t.f.time.dirty))}}function Re(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",47)(2,"label",48),e._uU(3),e.qZA(),e.TgZ(4,"div",49)(5,"img",50),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.fileAction("view"))}),e.qZA(),e.TgZ(6,"img",51),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.fileAction("delete"))}),e.qZA()()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(3),e.Oqu(null==t.f.attachment?null:t.f.attachment.value)}}function Le(o,s){1&o&&(e.TgZ(0,"span",40),e._uU(1,"Uploading the attachment is required please upload"),e.qZA())}function Ye(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Le,2,0,"span",37),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.attachment||null==t.f.attachment.errors?null:t.f.attachment.errors.required)}}function Ge(o,s){if(1&o&&(e.ynx(0),e.YNc(1,Ye,2,1,"ng-container",25),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.f.attachment?null:t.f.attachment.invalid)&&(null==t.f.attachment?null:t.f.attachment.touched)||(null==t.f.attachment?null:t.f.attachment.dirty))}}function ze(o,s){if(1&o&&(e.TgZ(0,"small",40),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.invalidFileType)}}function Ee(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.handleSubmit())}),e._uU(1,"Save"),e.qZA()}}function He(o,s){1&o&&e._UZ(0,"saving-loader")}function Ke(o,s){if(1&o&&(e.TgZ(0,"div",52)(1,"div",53)(2,"button",54),e._uU(3,"Cancel"),e.qZA(),e.YNc(4,Ee,2,0,"button",55),e.YNc(5,He,1,0,"saving-loader",25),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.isSuccess),e.xp6(1),e.Q6J("ngIf",!t.isSuccess)}}function Ve(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.clearSearchChequeInput())}),e._UZ(1,"i",72),e.qZA()}}function $e(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.clearSearchSessionInput())}),e._UZ(1,"i",72),e.qZA()}}function We(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"input",82),e.NdJ("change",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.handleCheckBoxChange())})("ngModelChange",function(i){const r=e.CHM(t).$implicit;return e.KtG(r.checked=i)}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.ALo(14,"number"),e.qZA()()}if(2&o){const t=s.$implicit,n=s.index;e.xp6(2),e.Q6J("ngModel",t.checked)("id",n),e.xp6(2),e.Oqu(null==t?null:t.chequeCustomer),e.xp6(2),e.Oqu(null==t?null:t.chequeNo),e.xp6(2),e.Oqu(null==t||null==t.bank[0]?null:t.bank[0].lookupName),e.xp6(2),e.Oqu(e.xi3(11,7,null==t?null:t.chequeDate,"mediumDate")),e.xp6(3),e.hij("",e.xi3(14,10,null==t?null:t.chequeCollectionJod,"2.3-3")," JOD")}}function Xe(o,s){1&o&&(e.TgZ(0,"div",83),e._UZ(1,"app-not-found"),e.qZA())}function et(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",69)(1,"div",73)(2,"div",74)(3,"table",75)(4,"thead")(5,"tr"),e._UZ(6,"th"),e.TgZ(7,"th",76)(8,"button",77),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortByCustomer())}),e._uU(9," Customer "),e._UZ(10,"i",78)(11,"i",79),e.qZA()(),e.TgZ(12,"th",76)(13,"button",77),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortByCheque())}),e._uU(14," Cheque No "),e._UZ(15,"i",78)(16,"i",79),e.qZA()(),e.TgZ(17,"th",76)(18,"button",77),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortByBank())}),e._uU(19," Bank "),e._UZ(20,"i",78)(21,"i",79),e.qZA()(),e.TgZ(22,"th",76)(23,"button",77),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortByDate())}),e._uU(24," Date "),e._UZ(25,"i",78)(26,"i",79),e.qZA()(),e.TgZ(27,"th",76)(28,"button",77),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortByAmount())}),e._uU(29," Amount "),e._UZ(30,"i",78)(31,"i",79),e.qZA()()()(),e.TgZ(32,"tbody"),e.YNc(33,We,15,13,"tr",80),e.qZA()()(),e.YNc(34,Xe,2,0,"div",81),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(8),e.Q6J("disabled",0==(null==t.unSettledChequeList?null:t.unSettledChequeList.length)),e.xp6(2),e.ekj("active",2==t.sort),e.xp6(1),e.ekj("active",3==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.unSettledChequeList?null:t.unSettledChequeList.length)),e.xp6(2),e.ekj("active",4==t.sort),e.xp6(1),e.ekj("active",5==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.unSettledChequeList?null:t.unSettledChequeList.length)),e.xp6(2),e.ekj("active",6==t.sort),e.xp6(1),e.ekj("active",7==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.unSettledChequeList?null:t.unSettledChequeList.length)),e.xp6(2),e.ekj("active",8==t.sort),e.xp6(1),e.ekj("active",9==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.unSettledChequeList?null:t.unSettledChequeList.length)),e.xp6(2),e.ekj("active",10==t.sort),e.xp6(1),e.ekj("active",11==t.sort),e.xp6(2),e.Q6J("ngForOf",t.unSettledChequeList),e.xp6(1),e.Q6J("ngIf",0==(null==t.unSettledChequeList?null:t.unSettledChequeList.length))}}function tt(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}const nt=function(o){return{active:o}};function ot(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"li",88)(1,"button",89),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.setPage(l))}),e._uU(2),e.qZA()()}if(2&o){const t=s.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(3,nt,n.pageNo===t))("disabled",n.pageNo===t),e.xp6(1),e.hij(" ",t+1," ")}}function it(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"div",84)(2,"h6",85),e._uU(3," Showing "),e.TgZ(4,"span"),e._uU(5),e.qZA(),e._uU(6," from "),e.TgZ(7,"span"),e._uU(8),e.qZA(),e._uU(9," data "),e.qZA()(),e.TgZ(10,"div",84)(11,"ul",86),e.YNc(12,ot,3,5,"li",87),e.qZA()(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(5),e.AsE(" ",6*(t.pageNo+1)-5," - ",6==(null==t.unSettledChequeList?null:t.unSettledChequeList.length)?6*(t.pageNo+1):t.totalRecords," "),e.xp6(3),e.hij(" ",t.totalRecords," "),e.xp6(4),e.Q6J("ngForOf",t.pages)}}function st(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",20)(2,"div",57)(3,"div",20)(4,"div",16)(5,"div",58)(6,"button",59),e._UZ(7,"i",60),e.qZA(),e.TgZ(8,"input",61),e.NdJ("input",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSearchChequeChange())})("ngModelChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.searchCheque=i)}),e.qZA(),e.YNc(9,Ve,2,0,"button",62),e.qZA()(),e.TgZ(10,"div",16)(11,"div",58)(12,"button",59),e._UZ(13,"i",60),e.qZA(),e.TgZ(14,"input",63),e.NdJ("input",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSearchSessionChange())})("ngModelChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.searchSession=i)}),e.qZA(),e.YNc(15,$e,2,0,"button",62),e.qZA()(),e.TgZ(16,"div",64)(17,"div",15),e._uU(18,"Selcted Cheques Total Amount"),e.qZA(),e.TgZ(19,"div",65),e._uU(20),e.ALo(21,"number"),e.qZA()(),e.TgZ(22,"div",66)(23,"span",67),e._uU(24),e.qZA()()()(),e.YNc(25,et,35,27,"div",68),e.TgZ(26,"div",69),e.YNc(27,tt,2,0,"ng-template",null,70,e.W1O),e.qZA(),e.YNc(29,it,13,4,"ng-container",25),e.qZA(),e.BQk()}if(2&o){const t=e.MAs(28),n=e.oxw();e.xp6(8),e.Q6J("ngModel",n.searchCheque),e.xp6(1),e.Q6J("ngIf",n.searchCheque),e.xp6(5),e.Q6J("ngModel",n.searchSession),e.xp6(1),e.Q6J("ngIf",n.searchSession),e.xp6(5),e.hij("",e.xi3(21,10,n.selectedChequeAmount||0,"2.3-3")," JOD"),e.xp6(4),e.AsE("No of seleced ",null==n.checkedItems?null:n.checkedItems.length,". No of Cheques ",n.totalRecords,""),e.xp6(1),e.Q6J("ngIf",n.unSettledChequeList)("ngIfElse",t),e.xp6(4),e.Q6J("ngIf",n.totalRecords>1e3)}}function lt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",91),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.handleSubmit())}),e._uU(1,"Save"),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("disabled",(null==t.checkedItems?null:t.checkedItems.length)<=0)}}function at(o,s){1&o&&e._UZ(0,"saving-loader")}function rt(o,s){if(1&o&&(e.TgZ(0,"div",52)(1,"div",53)(2,"button",54),e._uU(3,"Cancel"),e.qZA(),e.YNc(4,lt,2,1,"button",90),e.YNc(5,at,1,0,"saving-loader",25),e.qZA()()),2&o){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.isSuccess),e.xp6(1),e.Q6J("ngIf",!t.isSuccess)}}let ct=(()=>{class o{constructor(t,n,i,l,r,_,x,U){this._commonService=t,this.fb=n,this._activatedRoute=i,this._modalService=l,this._headerService=r,this._allocationService=_,this._unsettleSession=x,this._sharedService=U,this.isCash=!0,this.isSuccess=!0,this.currencyList=[],this.bankAccounts=[],this.banks=[],this.unSettledChequeList=[],this.isCurrencySelected=!0,this.sort=1,this.totalRecords=0,this.pageNo=0,this.pages=[],this.checkedItems=[],this.searchCheque="",this.searchSession="",this.chequeType="",this.bankId=null,this.fileTypes=["image/jpeg","image/jpg","image/png","application/pdf"],this.sessionId=0}ngOnInit(){this._activatedRoute.queryParams.subscribe(t=>{this.sessionId=t.sessionId}),this._headerService.setTitle("Unsettled Session > Create Deposit"),this.initForm(),this.getCurrencyList(),this.getBanksFromLookUp(),this.formGroup.get("amount").valueChanges.subscribe(t=>{t&&+t<=0&&this.formGroup.get("amount").setErrors({invalidAmount:!0})})}initForm(){this.formGroup=this.fb.group({attachment:[""],currencyId:[null,[c.kI.required]],accountId:[{value:null,disabled:!0},[c.kI.required]],amount:[{value:"",disabled:!0},[c.kI.required]],depositDate:[{value:this.getToday(),disabled:!0},[c.kI.required]],time:[{value:this.setTimeNow(),disabled:!0},[c.kI.required]]})}setTimeNow(){let t=new Date;return this.hours=("0"+t.getHours()).slice(-2),this.minutes=("0"+t.getMinutes()).slice(-2),this.hours+":"+this.minutes}getToday(){return(new Date).toISOString().split("T")[0]}depositType(t){this.unSettledChequeList=[],this.chequeType="",this.bankAccounts=[],this.currencyId=null,this.formGroup.get("accountId").setValue(null),this.isCash="cash"==t.target.value,this.isCash?(this.formGroup.get("currencyId").setValue(null),this.formGroup.get("amount").setValue(""),this.toggleFormDisablity(!1)):(this.formGroup.get("currencyId").setValue("noValue"),this.formGroup.get("amount").setValue("noValue"),this.getBankAccounts("?currencyId=9001&status=2001&pageNo=0&pageSize=1000&accountType=15004"),this.toggleFormDisablity(!1)),this.formGroup.markAsUntouched(),this.formGroup.markAsPristine()}toggleFormDisablity(t){t?(this.formGroup.get("accountId").enable(),this.formGroup.get("amount").enable(),this.formGroup.get("depositDate").enable(),this.formGroup.get("time").enable()):(this.formGroup.get("accountId").disable(),this.formGroup.get("amount").disable(),this.formGroup.get("depositDate").disable(),this.formGroup.get("time").disable())}handleSubmit(){if(this.formGroup.invalid)this.formGroup.markAllAsTouched();else{let t=this.formGroup.value,n=`${t.depositDate}T${t.time}`;t={...t,depositDate:n},console.log(t);let i=new FormData;i.append("accountId",t.accountId),i.append("depositDate",t.depositDate),i.append("registerSessionId",this.sessionId.toString()),this.uploadedFile?.file&&i.append("Files",this.uploadedFile.file);let l="Your deposit has been created successfully";this.isSuccess=!1,this.isCash?(i.append("amount",t.amount),i.append("currencyId",t.currencyId),this._allocationService.addRegisterDirectCashDepositToMarkaziaAccount(i).subscribe(r=>{r?.isSuccess&&(this.isSuccess=!0,this.successModal("success",l))},r=>{this.isSuccess=!0,this.successModal("error",r.error.errors)})):(i.append("chequeCollectionIds",this.chequeIds.toString()),this._allocationService.addRegisterDirectChequesToMarkaziaAccount(i).subscribe(r=>{r?.isSuccess&&(this.isSuccess=!0,this.successModal("success",l))},r=>{this.isSuccess=!0,this.successModal("error",r.error.errors)}))}}successModal(t,n){const i=this._modalService.open(Ce.i,{size:"md"});i.componentInstance.type=t,"success"==t?(i.componentInstance.message=n,i.componentInstance.routeName="/unsettled-session"):"error"==t&&(i.componentInstance.messageError=n)}get f(){return this.formGroup.controls}onCurrencyChange(t){this.formGroup.get("accountId").setValue(null);const n=t?.value;if(this.toggleFormDisablity(n),n){let i=`?currencyId=${n}&status=2001&pageNo=0&pageSize=1000`;9001==n?i+="&accountType=15001":9002==n?i+="&accountType=15002":9003==n&&(i+="&accountType=15003"),this.getBankAccounts(i)}}handleCheckBoxChange(){this.checkedItems=this.unSettledChequeList.filter(t=>t.checked),this.checkedItems.length>0?(this.selectedChequeAmount=this.checkedItems.reduce((t,n)=>t+n?.chequeCollectionJod,0),this.chequeIds=this.checkedItems.map(t=>t.chequeCollectionId)):this.selectedChequeAmount=0}getBankAccounts(t){this._unsettleSession.getBankAccounts(t).subscribe(n=>{this.bankAccounts=n.data})}getRegisterUnsettledCheques(){let t=`?rgisterId=${this._sharedService.getRegister.registerObj?.id}&search=${this.searchCheque}\n    &sort=${this.sort}&pageNo=${this.pageNo}&pageSize=1000`;this.searchSession&&(t+=`&sessionId=${this.searchSession}`),this.chequeType&&(t+=`&type=${this.chequeType}`),this._allocationService.getRegisterUnsettledCheques(t).subscribe(n=>{n?.data.length>0?(this.unSettledChequeList=n?.data.map(i=>({...i,checked:!1})),this.totalRecords=n?.totalRecordCount,this.pagin=Math.ceil(this.totalRecords/6),this.pages=y.w6(this.pagin),console.log(this.totalRecords)):(this.checkedItems=[],this.selectedChequeAmount=0,this.unSettledChequeList=[])})}onSearchChequeChange(){this.getRegisterUnsettledCheques()}clearSearchChequeInput(){this.searchCheque="",this.getRegisterUnsettledCheques()}onSearchSessionChange(){this.getRegisterUnsettledCheques()}clearSearchSessionInput(){this.searchSession="",this.getRegisterUnsettledCheques()}onChequeTypeChange(){this.formGroup.get("accountId").setValue(null),this.toggleFormDisablity(!0),this.getBankAccounts("cheque"==this.chequeType?"?currencyId=9001&status=2001&pageNo=0&pageSize=1000&accountType=15004":"?currencyId=9001&status=2001&pageNo=0&pageSize=1000&accountType=15005"),this.getRegisterUnsettledCheques()}getCurrencyList(){this._allocationService.getCurrencyList().subscribe(t=>{this.currencyList=t.data.map(n=>({value:n.id,text:n.name[0]?.lookupName}))})}getBanks(){this._unsettleSession.getBanks().subscribe(t=>{this.banks=t.data})}getBanksFromLookUp(){this._unsettleSession.getDataFromLookUp("?lookupTypeId=11&PageNo=0&PageSize=1000").subscribe(n=>{this.banks=n.data.map(i=>({value:i.id,text:i.name[0]?.lookupName}))})}onBankChange(t){this.getRegisterUnsettledCheques()}fileAction(t){"view"==t?this._modalService.open(xe.g,{size:"md"}).componentInstance.imageUploadedView=this.uploadedFile:(this.inputFile.nativeElement.value=null,this.formGroup.get("attachment")?.setValue(""),this.uploadedFile={})}filesDropped(t){this.enter=!1;let n=this.checkInvalidImageFormat(t);if(n)return void(this.inputFile.nativeElement.value=null);let i=t.map(l=>l.file);n||i.forEach(l=>{this.formGroup.get("attachment")?.setValue(l.name),this._commonService.fileToBase64(l).then(r=>{this.uploadedFile=r})})}onSelectFile(t){let n=[...t.target.files],i=this.checkInvalidImageFormat(n);i?this.inputFile.nativeElement.value=null:n.length>0&&(i||n.forEach(l=>{this.formGroup.get("attachment")?.setValue(l.name),this._commonService.fileToBase64(l).then(r=>{this.uploadedFile=r})}))}removeFile(t){this.inputFile.nativeElement.value=null,this.formGroup.get("attachment")?.setValue(""),this.uploadedFile=null}sortByCustomer(){this.sort=3==this.sort?1:2==this.sort?3:2,this.getRegisterUnsettledCheques()}sortByCheque(){this.sort=5==this.sort?1:4==this.sort?5:4,this.getRegisterUnsettledCheques()}sortByBank(){this.sort=7==this.sort?1:6==this.sort?7:6,this.getRegisterUnsettledCheques()}sortByDate(){this.sort=9==this.sort?1:8==this.sort?9:8,this.getRegisterUnsettledCheques()}sortByAmount(){this.sort=11==this.sort?1:10==this.sort?11:10,this.getRegisterUnsettledCheques()}setPage(t){this.pageNo=t,window.scroll(0,0),this.getRegisterUnsettledCheques()}checkInvalidImageFormat(t){let n,i=t.map(r=>r.file);n=void 0!==i[0]?i:t;let l=!1;for(let r of n)if(!this.fileTypes.includes(r.type)){l=!0,this.invalidFileType="This file not support, supported formates: JPEG, JPG, PNG, PDF",this.formGroup.get("attachments")?.patchValue(""),setTimeout(()=>{this.invalidFileType=""},3e3);break}return l}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.v),e.Y36(c.qu),e.Y36(p.gz),e.Y36(g.FF),e.Y36(Z.r),e.Y36(m.U),e.Y36(u.o),e.Y36(f.F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-deposit"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ze,5),2&t){let i;e.iGM(i=e.CRH())&&(n.inputFile=i.first)}},decls:67,vars:18,consts:[[1,"page-layout"],[1,"d-flex","align-items-center","gap-5"],[1,"headingText"],[1,"border-deposit-type"],[1,"form-check","d-flex","align-items-center","pe-2"],["value","cash","id","cash","type","radio",1,"form-check-input",3,"checked","change"],["for","cash"],[1,"form-check","d-flex","align-items-center","ps-2"],["value","cheque","id","cheque","type","radio",1,"form-check-input",3,"checked","change"],["for","cheque"],[1,"separator"],[3,"formGroup"],[1,"card-Box","mt-4"],[1,"row","align-items-center"],[1,"col-sm-2"],[1,"mdtext"],[1,"col-sm-3"],[4,"ngIf","ngIfElse"],["elseChequeType",""],[1,"card-Box","mt-5"],[1,"row"],[1,"col-sm-6"],[1,"col-6"],["formControlName","accountId","placeholder","Account","bindLabel","accountName","bindValue","accountId",1,"flex-grow-1","mt-3","mt-md-0",3,"items"],["ng-option-tmp",""],[4,"ngIf"],["class","col-6",4,"ngIf"],[1,"row","mt-3"],["type","date","formControlName","depositDate",1,"form-control",3,"max"],["type","time","formControlName","time",1,"form-control"],[1,"offset-2","col-sm-4"],[1,"form-group","mb-3"],["appImageDrag","","accept",".png,.jpg,.jpeg,.pdf",1,"card-upload",3,"files","enter","leave","click"],[1,"my-3"],["src","assets/images/upload.png","alt",""],["type","file","accept",".png,.jpg,.jpeg,.pdf","multiple","","hidden","",1,"form-control",3,"change"],["inputFile",""],["class","text-danger",4,"ngIf"],["class","d-flex justify-content-end mt-5",4,"ngIf"],["formControlName","currencyId","placeholder","Currency","bindLabel","text","bindValue","value",1,"flex-grow-1","mt-3","mt-md-0",3,"items","change"],[1,"text-danger"],[1,"form-check","d-flex","align-items-center","gap-2"],["value","cheque","id","cheque1","type","radio",1,"form-check-input","p-0","m-0",3,"ngModel","ngModelOptions","ngModelChange","change"],["for","cheque1",1,"p-0","lh-1"],["value","pdc","id","pdc","type","radio",1,"form-check-input","p-0","m-0",3,"ngModel","ngModelOptions","ngModelChange","change"],["for","pdc",1,"p-0","lh-1"],["type","text","formControlName","amount","appDecimalNumber","",1,"form-control"],[1,"d-flex","gap-3","file-item","align-items-center","justify-content-between"],[1,"p-0"],[1,"d-flex","gap-2"],["height","20","src","assets/images/eye.png",1,"cursor-pointer",3,"click"],["height","20","src","assets/images/trash.png",1,"cursor-pointer",3,"click"],[1,"d-flex","justify-content-end","mt-5"],[1,"btns-group","my-2","mx-0"],["type","button","routerLink","/unsettled-session",1,"btn","btn-cancel"],["type","button","class","btn btn-save",3,"click",4,"ngIf"],["type","button",1,"btn","btn-save",3,"click"],[1,"col-12","my-5"],[1,"input-group","search-box","h-100"],["type","button",1,"btn"],[1,"fa-solid","fa-search"],["type","text","placeholder","Search for a cheque",1,"form-control",3,"ngModel","input","ngModelChange"],["class","btn","type","button",3,"click",4,"ngIf"],["type","number","placeholder","Session ID",1,"form-control",3,"ngModel","input","ngModelChange"],[1,"col-sm-6","d-flex","align-items-center","gap-4","justify-content-end"],[1,"mdtext","amountButton"],[1,"col-12","my-3","d-flex","justify-content-end"],[1,"font-16","fw-500","gray-500"],["class","col-md-12",4,"ngIf","ngIfElse"],[1,"col-md-12"],["loading",""],["type","button",1,"btn",3,"click"],[1,"fa-solid","fa-xmark"],[1,"card-table","mt-2"],[1,"table-responsive"],[1,"table"],["scope","col"],[1,"btn",3,"disabled","click"],[1,"fa-solid","fa-arrow-up-long"],[1,"fa-solid","fa-arrow-down-long"],[4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],["type","checkbox",1,"inputColor",3,"ngModel","id","change","ngModelChange"],[1,"not-found"],[1,"col-md-6"],[1,"showing"],[1,"pagination"],["class","page-item",4,"ngFor","ngForOf"],[1,"page-item"],[1,"page-link",3,"ngClass","disabled","click"],["type","button","class","btn btn-save",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-save",3,"disabled","click"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Select Deposit Type"),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"input",5),e.NdJ("change",function(r){return n.depositType(r)}),e.qZA(),e.TgZ(7,"label",6),e._uU(8,"Cash"),e.qZA()(),e.TgZ(9,"div",7)(10,"input",8),e.NdJ("change",function(r){return n.depositType(r)}),e.qZA(),e.TgZ(11,"label",9),e._uU(12,"Cheque"),e.qZA()()()(),e._UZ(13,"div",10),e.TgZ(14,"div",2),e._uU(15,"Deposit Details"),e.qZA(),e.TgZ(16,"form",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15),e._uU(21),e.qZA()(),e.TgZ(22,"div",16),e.YNc(23,Ae,3,2,"ng-container",17),e.qZA(),e.YNc(24,ke,9,6,"ng-template",null,18,e.W1O),e.qZA()(),e.TgZ(26,"div",19)(27,"div",20)(28,"div",21)(29,"div",20)(30,"div",22)(31,"label",15),e._uU(32,"Select Bank Account*"),e.qZA(),e.TgZ(33,"ng-select",23),e.YNc(34,ye,2,1,"ng-template",24),e.qZA(),e.YNc(35,Oe,2,1,"ng-container",25),e.qZA(),e.YNc(36,we,5,1,"div",26),e.qZA(),e.TgZ(37,"div",27)(38,"div",22)(39,"label",15),e._uU(40,"Select Deposit Date*"),e.qZA(),e._UZ(41,"input",28),e.YNc(42,Ie,2,1,"ng-container",25),e.qZA(),e.TgZ(43,"div",22)(44,"label",15),e._uU(45,"Select Deposit Time*"),e.qZA(),e._UZ(46,"input",29),e.YNc(47,Qe,2,1,"ng-container",25),e.qZA()()(),e.TgZ(48,"div",30)(49,"label",15),e._uU(50,"Upload Deposit Slip Attachment"),e.qZA(),e.TgZ(51,"div",31)(52,"div",32),e.NdJ("files",function(r){return n.filesDropped(r)})("enter",function(){return n.enter=!n.enter})("leave",function(){return n.enter=!n.enter})("click",function(){e.CHM(i);const r=e.MAs(60);return e.KtG(r.click())}),e.TgZ(53,"div",33),e._UZ(54,"img",34),e.TgZ(55,"h5"),e._uU(56,"Select OR Drag & drop files"),e.qZA(),e.TgZ(57,"p"),e._uU(58,"Supported formates: JPEG, PNG, PDF"),e.qZA()()(),e.TgZ(59,"input",35,36),e.NdJ("change",function(r){return n.onSelectFile(r)}),e.qZA()(),e.YNc(61,Re,7,1,"ng-container",25),e.YNc(62,Ge,2,1,"ng-container",25),e.YNc(63,ze,2,1,"small",37),e.qZA()()(),e.YNc(64,Ke,6,2,"div",38),e.qZA(),e.YNc(65,st,30,13,"ng-container",25),e.YNc(66,rt,6,2,"div",38),e.qZA()}if(2&t){const i=e.MAs(25);e.xp6(6),e.Q6J("checked",n.isCash),e.xp6(4),e.Q6J("checked",!n.isCash),e.xp6(6),e.Q6J("formGroup",n.formGroup),e.xp6(5),e.Oqu(n.isCash?"Select Currency*":"Select Cheque Type"),e.xp6(2),e.Q6J("ngIf",n.isCash)("ngIfElse",i),e.xp6(10),e.Q6J("items",n.bankAccounts),e.xp6(2),e.Q6J("ngIf",null==n.f.accountId?null:n.f.accountId.errors),e.xp6(1),e.Q6J("ngIf",n.isCash),e.xp6(5),e.Q6J("max",n.getToday()),e.xp6(1),e.Q6J("ngIf",null==n.f.depositDate?null:n.f.depositDate.errors),e.xp6(5),e.Q6J("ngIf",null==n.f.time?null:n.f.time.errors),e.xp6(14),e.Q6J("ngIf",null==n.f.attachment?null:n.f.attachment.value),e.xp6(1),e.Q6J("ngIf",null==n.f.attachment?null:n.f.attachment.errors),e.xp6(1),e.Q6J("ngIf",n.invalidFileType),e.xp6(1),e.Q6J("ngIf",n.isCash),e.xp6(1),e.Q6J("ngIf",!n.isCash),e.xp6(1),e.Q6J("ngIf",!n.isCash)}},dependencies:[a.mk,a.sg,a.O5,p.rH,c._Y,c.Fj,c.wV,c.Wl,c._,c.JJ,c.JL,c.sg,c.u,c.On,A.w9,A.ir,T.N,q.w,N.Q,P.z,be.V,a.JJ,a.uU],styles:[".border-deposit-type[_ngcontent-%COMP%]{border:1px solid #dadada;display:flex;align-items:center;padding:10px 20px;border-radius:5px}.border-deposit-type[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{padding:0}.border-deposit-type[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]:first-child{border-right:1px solid #dadada}.border-deposit-type[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:20px!important;height:20px;margin:0;padding:0}.border-deposit-type[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{line-height:1;font-weight:500;padding:0;margin:0 0 0 5px}.inputColor[_ngcontent-%COMP%]{accent-color:#dc3545;height:15px;width:15px}.amountButton[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:14px 34px 14px 35px;height:48px;background:#f8f8f8;border:.5px solid #e9e9e9;border-radius:10px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-bottom:10px}form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:46px}form[_ngcontent-%COMP%]   span.text-danger[_ngcontent-%COMP%]{font-weight:500;padding-top:7px}.file-item[_ngcontent-%COMP%]{padding:10px;border-radius:5px;border:1px solid #dadada;background:white}.file-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{line-height:1;color:green;font-weight:600}.card-table[_ngcontent-%COMP%]{border:.5px solid #f4f4f4;box-shadow:3px 7px 12px #0000002e;-webkit-box-shadow:3px 7px 12px 0px rgba(0,0,0,.18);-moz-box-shadow:3px 7px 12px 0px rgba(0,0,0,.18)}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;gap:8px}.play-left[_ngcontent-%COMP%]{color:#eceaea;transform:rotate(180deg);margin-right:5px}.play-right[_ngcontent-%COMP%]{color:#eceaea}.card-upload[_ngcontent-%COMP%]{border:1px dashed #939aa8;text-align:center;padding:10px;border-radius:10px;margin:10px 0;cursor:pointer}.card-upload[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;margin-bottom:15px}.card-upload[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;font-size:18px;color:#0f0f0f}.card-upload[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:18px;color:#676767}.btn-upload[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border-radius:10px;padding:12px 35px;font-size:16px;font-weight:600;margin:10px 0}.card-Box[_ngcontent-%COMP%]{background:#ffffff;border:.5px solid #f5f5f5;box-shadow:0 15px 25px #0000001a;border-radius:8px;padding:24px 34px}.flex-between[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.headingText[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:18px;line-height:22px;color:#1b212d}.mdtext[_ngcontent-%COMP%]{font-style:normal;font-weight:600;font-size:16px;color:#1b212d}.smText[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:16px;color:#858585}.linkText[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-style:normal;font-weight:400;font-size:16px;line-height:22px;color:#4e9aff}.linkText2[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-size:16px;font-weight:600;line-height:20px;letter-spacing:0em;text-align:left;color:#4e9aff}.headButton[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:95px;height:34.2px;border-radius:8px}.headButtonText[_ngcontent-%COMP%]{font-family:Kumbh Sans;font-size:14px;font-weight:600;line-height:17px;letter-spacing:0em;text-align:left}.separator[_ngcontent-%COMP%]{border-bottom:1px solid #e9e9e9;margin:20px 0}"]}),o})();var ut=d(75706);function dt(o,s){if(1&o&&(e.TgZ(0,"div",8)(1,"h6",9),e._uU(2,"Currency Name: "),e.TgZ(3,"span",10),e._uU(4),e.qZA()(),e.TgZ(5,"p",11)(6,"b"),e._uU(7,"Actual Amount: "),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"p",11)(10,"b"),e._uU(11,"Deposited Amount: "),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"p",11)(14,"b"),e._uU(15,"Refunded Amount: "),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"p",11)(18,"b"),e._uU(19,"Remaining Amount: "),e.qZA(),e._uU(20),e.qZA()()),2&o){const t=s.$implicit;e.xp6(4),e.Oqu(null==t?null:t.currency),e.xp6(4),e.Oqu((null==t||null==t.amount?null:t.amount.actualAmount)||0),e.xp6(4),e.Oqu((null==t||null==t.amount?null:t.amount.depositedAmount)||0),e.xp6(4),e.Oqu((null==t||null==t.amount?null:t.amount.refundedAmount)||0),e.xp6(4),e.Oqu((null==t||null==t.amount?null:t.amount.remaining)||0)}}let pt=(()=>{class o{constructor(t){this._activeModal=t}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.Kz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-register-currencies"]],inputs:{data:"data"},decls:10,vars:1,consts:[[1,"modal-header"],[1,"modal-title","fw-600"],[1,"modal-body"],[1,"row"],["class","col-6 mb-3",4,"ngFor","ngForOf"],[1,"modal-footer","border-0","mt-3"],[1,"btns-group","px-0","mx-0"],["type","button",1,"btn","btn-cancel",3,"click"],[1,"col-6","mb-3"],[1,"mb-3","fw-600"],[1,"primary-clr"],[1,"font-14"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h6",1),e._uU(2,"Register Currencies"),e.qZA()(),e.TgZ(3,"div",2)(4,"div",3),e.YNc(5,dt,21,5,"div",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"button",7),e.NdJ("click",function(){return n._activeModal.close()}),e._uU(9,"Close"),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("ngForOf",null==n.data?null:n.data.registerCurrencies))},dependencies:[a.sg]}),o})();var k=d(1618),J=d(59241),M=d(59245),B=d(72402);const gt=["success"];function _t(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.resetRegisterNo())}),e._UZ(1,"i",22),e.qZA()}}function ht(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"i",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.resetDate())}),e.qZA()}}function mt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ul",39)(1,"li",40)(2,"button",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.navigateTo(null==i?null:i.registerSessionId))}),e._uU(3,"View Session Details"),e.qZA()()()}}const ft=function(o,s){return{"background-color":o,color:s}};function Ct(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td")(13,"div",34),e._uU(14),e.qZA()(),e.TgZ(15,"td")(16,"div",35)(17,"div",36),e._UZ(18,"i",37),e.qZA(),e.YNc(19,mt,4,0,"ul",38),e.qZA()()()),2&o){const t=s.$implicit;e.xp6(2),e.Oqu(null==t||null==t.branch?null:t.branch.branchName),e.xp6(2),e.Oqu(null==t?null:t.register.registerId),e.xp6(2),e.Oqu(null==t?null:t.register.registersName),e.xp6(2),e.Oqu(e.xi3(9,7,null==t?null:t.createdAt,"short")),e.xp6(3),e.Oqu(null==t||null==t.createdBy?null:t.createdBy.fullName),e.xp6(2),e.Q6J("ngStyle",e.WLB(10,ft,null==t||null==t.statusObj?null:t.statusObj.lookupBGColor,null==t||null==t.statusObj?null:t.statusObj.lookupTextColor)),e.xp6(1),e.hij(" ",null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName," ")}}function xt(o,s){1&o&&(e.TgZ(0,"div",42),e._UZ(1,"app-not-found"),e.qZA())}function bt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",24)(2,"div",25)(3,"table",26)(4,"thead")(5,"tr")(6,"th",27)(7,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByBranch())}),e._uU(8," Branch "),e._UZ(9,"i",29)(10,"i",30),e.qZA()(),e.TgZ(11,"th",27)(12,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByRegisterNo())}),e._uU(13," Register No. "),e._UZ(14,"i",29)(15,"i",30),e.qZA()(),e.TgZ(16,"th",27)(17,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByRegisterName())}),e._uU(18," Register Name "),e._UZ(19,"i",29)(20,"i",30),e.qZA()(),e.TgZ(21,"th",27)(22,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByDate())}),e._uU(23," Request Date "),e._UZ(24,"i",29)(25,"i",30),e.qZA()(),e.TgZ(26,"th",27)(27,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByRequested())}),e._uU(28," Requested By "),e._UZ(29,"i",29)(30,"i",30),e.qZA()(),e.TgZ(31,"th",27)(32,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByStatus())}),e._uU(33," Status "),e._UZ(34,"i",29)(35,"i",30),e.qZA()(),e.TgZ(36,"th",27)(37,"button",31),e._uU(38," Action "),e.qZA()()()(),e.TgZ(39,"tbody"),e.YNc(40,Ct,20,13,"tr",32),e.qZA()()(),e.YNc(41,xt,2,0,"div",33),e.qZA()()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(7),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",2==n.sort),e.xp6(1),e.ekj("active",3==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",4==n.sort),e.xp6(1),e.ekj("active",5==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",6==n.sort),e.xp6(1),e.ekj("active",7==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",8==n.sort),e.xp6(1),e.ekj("active",9==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",10==n.sort),e.xp6(1),e.ekj("active",11==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",12==n.sort),e.xp6(1),e.ekj("active",13==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(3),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",0==(null==t?null:t.length))}}function Zt(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}function vt(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",43)(2,"h6",44),e._uU(3," Showing "),e.TgZ(4,"span"),e._uU(5),e.qZA(),e._uU(6," from "),e.TgZ(7,"span"),e._uU(8),e.qZA(),e._uU(9," data "),e.qZA()(),e.TgZ(10,"div",43)(11,"ngb-pagination",45),e.NdJ("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageNo=i)})("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageChange(i))}),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(5),e.AsE("",6*t.pageNo-5," - ",6==(null==t.sessionList?null:t.sessionList.length)?6*t.pageNo:t.totalRecords,""),e.xp6(3),e.hij(" ",t.totalRecords," "),e.xp6(3),e.Q6J("collectionSize",t.totalRecords)("page",t.pageNo)("maxSize",3)("pageSize",6)("rotate",!0)("ellipses",!1)}}const Tt=function(){return{containerClass:"theme-red",isAnimated:!0,showClearButton:!0}};let qt=(()=>{class o{constructor(t,n,i,l,r,_,x){this._registerSettlementService=t,this._activeRoute=n,this._commonService=i,this._headerService=l,this.fb=r,this.datepipe=_,this.modalService=x,this.searchText="",this.filterParams=void 0,this.sort=1,this.totalRecords=0,this.pageNo=1,this.pageSize=6,this.pages=[],this.sessionList=[],this.branchesList=[],this.employeesList=[]}initFilterForm(){this.sessionFilterForm=this.fb.group({register:[""],branch:[null],createdBy:[null],date:[""]})}ngOnInit(){this.getAllSessions(this.filterParams),this.getBaranches(),this.getEmployees(),this.initFilterForm(),this.sessionFilterForm.valueChanges.subscribe(t=>{this.pageNo=0;let i,n={fromDate:"",toDate:""};t.date&&(n.fromDate=this.datepipe.transform(t.date[0],"yyyy-MM-dd"),n.toDate=this.datepipe.transform(t.date[1],"yyyy-MM-dd")),i={...t,...n},delete i.date,null==i.branch&&(i={...i,branch:""}),null==i.createdBy&&(i={...i,createdBy:""}),this.filterParams="?"+new URLSearchParams(i).toString(),this.getAllSessions(this.filterParams)})}resetDate(){this.sessionFilterForm.controls.date.setValue("")}resetRegisterNo(){this.sessionFilterForm.controls.register.setValue("")}navigateTo(t){this._commonService.NavigateToRoute(`/unsettled-session/session/${t}`)}getAllSessions(t=this.filterParams){let n=`status=16006&pageNo=${this.pageNo-1}&sort=${this.sort}&pageSize=${this.pageSize}`;this._registerSettlementService.getAllSessions(t&&t+`&${n}`||`?${n}`).subscribe(i=>{this.sessionList=i?.data,console.log(this.sessionList),this.totalRecords=i?.totalRecordCount,this.pagin=Math.ceil(this.totalRecords/6),this.pages=y.w6(this.pagin)})}getBaranches(){this._registerSettlementService.getBranches().subscribe(t=>{this.branchesList=t.data})}getEmployees(){this._registerSettlementService.getEmployees().subscribe(t=>{this.employeesList=t.data})}sortByBranch(){this.sort=3==this.sort?1:2==this.sort?3:2,this.getAllSessions()}sortByRegisterNo(){this.sort=5==this.sort?1:4==this.sort?5:4,this.getAllSessions()}sortByRegisterName(){this.sort=7==this.sort?1:6==this.sort?7:6,this.getAllSessions()}sortByDate(){this.sort=9==this.sort?1:8==this.sort?9:8,this.getAllSessions()}sortByRequested(){this.sort=11==this.sort?1:10==this.sort?11:10,this.getAllSessions()}sortByStatus(){this.sort=13==this.sort?1:12==this.sort?13:12,this.getAllSessions()}pageChange(t){this.pageNo=t,window.scroll(0,0),this.getAllSessions()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k.D),e.Y36(p.gz),e.Y36(C.v),e.Y36(Z.r),e.Y36(c.qu),e.Y36(a.uU),e.Y36(g.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["settled-session-list"]],viewQuery:function(t,n){if(1&t&&e.Gf(gt,5),2&t){let i;e.iGM(i=e.CRH())&&(n.success=i.first)}},decls:26,vars:11,consts:[[1,"heading-text","mb-3","font-18","fw-600"],[3,"formGroup"],[1,"row","align-items-stretch"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],[1,"input-group","search-box","h-100"],["type","button",1,"btn"],[1,"fa-solid","fa-search"],["type","text","formControlName","register","placeholder","Register Name or No.",1,"form-control"],["class","btn","type","button",3,"click",4,"ngIf"],["formControlName","branch","placeholder","Branch Name","bindLabel","branchName","bindValue","branchId",1,"flex-grow-1","mt-3","mt-sm-0",3,"items"],["formControlName","createdBy","placeholder","Employee","bindLabel","fullName","bindValue","userId",1,"flex-grow-1","mt-3","mt-md-0",3,"items"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","position-relative"],["class","fa-solid fa-times","style","position:absolute;top:15px;right:30px;cursor:pointer",3,"click",4,"ngIf"],["type","text","formControlName","date","placeholder","Select Date","bsDaterangepicker","","placement","left",1,"form-control","mt-3","mt-lg-0",2,"height","46px",3,"bsConfig"],[1,"d-flex","justify-content-end"],[1,"total-records"],[1,"row"],["class","col-md-12",4,"ngIf","ngIfElse"],[1,"col-md-12"],["loading",""],[4,"ngIf"],["type","button",1,"btn",3,"click"],[1,"fa-solid","fa-xmark"],[1,"fa-solid","fa-times",2,"position","absolute","top","15px","right","30px","cursor","pointer",3,"click"],[1,"card-table","mt-2","register-sessions-table"],[1,"table-responsive"],[1,"table"],["scope","col"],[1,"btn",3,"disabled","click"],[1,"fa-solid","fa-arrow-up-long"],[1,"fa-solid","fa-arrow-down-long"],[1,"btn",3,"disabled"],[4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],[1,"status-tag",3,"ngStyle"],["dropdown","","container","body",1,"btn-group","remove-caret-dropdown"],["dropdownToggle","","aria-controls","dropdown-basic",1,"dot-details","cursor-pointer","dropdown-toggle"],[1,"fas","fa-ellipsis-h"],["id","dropdown-basic","class","dropdown-menu dropdown-menu-right custom-session-dd","role","menu","aria-labelledby","button-alignment",4,"dropdownMenu"],["id","dropdown-basic","role","menu","aria-labelledby","button-alignment",1,"dropdown-menu","dropdown-menu-right","custom-session-dd"],["role","menuitem"],["type","button",1,"dropdown-item",3,"click"],[1,"not-found"],[1,"col-md-6"],[1,"showing"],[3,"collectionSize","page","maxSize","pageSize","rotate","ellipses","pageChange"]],template:function(t,n){if(1&t&&(e.TgZ(0,"h3",0),e._uU(1,"Settled Sessions List"),e.qZA(),e.TgZ(2,"form",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"button",5),e._UZ(7,"i",6),e.qZA(),e._UZ(8,"input",7),e.YNc(9,_t,2,0,"button",8),e.qZA()(),e.TgZ(10,"div",3),e._UZ(11,"ng-select",9),e.qZA(),e.TgZ(12,"div",3),e._UZ(13,"ng-select",10),e.qZA(),e.TgZ(14,"div",11),e.YNc(15,ht,1,0,"i",12),e._UZ(16,"input",13),e.qZA()()(),e.TgZ(17,"div",14)(18,"p",15),e._uU(19),e.qZA()(),e.TgZ(20,"div",16),e.YNc(21,bt,42,33,"div",17),e.TgZ(22,"div",18),e.YNc(23,Zt,2,0,"ng-template",null,19,e.W1O),e.qZA(),e.YNc(25,vt,12,9,"ng-container",20),e.qZA()),2&t){const i=e.MAs(24);e.xp6(2),e.Q6J("formGroup",n.sessionFilterForm),e.xp6(7),e.Q6J("ngIf",""!==n.sessionFilterForm.controls.register.value),e.xp6(2),e.Q6J("items",n.branchesList),e.xp6(2),e.Q6J("items",n.employeesList),e.xp6(2),e.Q6J("ngIf",n.sessionFilterForm.controls.date.value.length),e.xp6(1),e.Q6J("bsConfig",e.DdM(10,Tt)),e.xp6(3),e.hij("Total No. ",n.totalRecords,""),e.xp6(2),e.Q6J("ngIf",n.sessionList)("ngIfElse",i),e.xp6(4),e.Q6J("ngIf",n.totalRecords>6)}},dependencies:[a.sg,a.O5,a.PC,M.Hz,M.Mq,M.TO,B.FR,B.TB,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,A.w9,g.N9,T.N,q.w,a.uU]}),o})();const At=["success"];function kt(o,s){if(1&o&&(e.TgZ(0,"div",34)(1,"div",35)(2,"div",36),e._UZ(3,"img",37),e.qZA(),e.TgZ(4,"div",8)(5,"h6",38),e._uU(6),e.qZA(),e.TgZ(7,"h6",39),e._uU(8),e.ALo(9,"number"),e.qZA()()()()),2&o){const t=s.$implicit;e.xp6(3),e.Q6J("src",null==t||null==t.accountType?null:t.accountType.imagePath,e.LSH),e.xp6(3),e.Oqu(null==t||null==t.accountType||null==t.accountType.translation[0]?null:t.accountType.translation[0].lookupName),e.xp6(2),e.hij(" ",e.xi3(9,3,null==t?null:t.remainingAmount,"2.3-3")," ")}}function yt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.resetRegisterNo())}),e._UZ(1,"i",41),e.qZA()}}const St=function(o){return{sessionId:o}};function Dt(o,s){if(1&o&&(e.TgZ(0,"a",57),e._uU(1,"Add Bank Deposit"),e.qZA()),2&o){const t=e.oxw().$implicit;e.Q6J("queryParams",e.VKq(1,St,null==t?null:t.registerSessionId))}}const Ot=function(o,s){return{"background-color":o,color:s}};function Mt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div",8)(5,"span"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"date"),e.ALo(11,"date"),e.qZA()()(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td")(15,"button",52),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.viewRegisterCurrencies(l))}),e._uU(16,"View Currencies"),e.qZA()(),e.TgZ(17,"td")(18,"div",53),e._uU(19),e.qZA()(),e.TgZ(20,"td")(21,"div",54),e.YNc(22,Dt,2,3,"a",55),e._UZ(23,"i",56),e.qZA()()()}if(2&o){const t=s.$implicit,n=e.oxw(2);e.xp6(2),e.Oqu(null==t?null:t.registerSessionId),e.xp6(4),e.Oqu(e.lcZ(7,10,null==t?null:t.createdAt)),e.xp6(3),e.lnq("",e.xi3(10,12,null==t?null:t.createdAt,"shortTime"),"",(null==t?null:t.closedAt)&&" - ","",e.xi3(11,15,null==t?null:t.closedAt,"shortTime"),""),e.xp6(4),e.Oqu(null==t||null==t.createdBy?null:t.createdBy.fullName),e.xp6(5),e.Q6J("ngStyle",e.WLB(18,Ot,null==t||null==t.statusObj?null:t.statusObj.lookupBGColor,null==t||null==t.statusObj?null:t.statusObj.lookupTextColor)),e.xp6(1),e.hij(" ",null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName," "),e.xp6(3),e.Q6J("ngIf",8001!==n.cashDepositTypeId),e.xp6(1),e.MGl("routerLink","/unsettled-session/session/",null==t?null:t.registerSessionId,"")}}function Ut(o,s){1&o&&(e.TgZ(0,"div",58),e._UZ(1,"app-not-found"),e.qZA())}function Nt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",42)(2,"div",43)(3,"table",44)(4,"thead")(5,"tr")(6,"th",45)(7,"button",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortBySession())}),e._uU(8," Session No "),e._UZ(9,"i",47)(10,"i",48),e.qZA()(),e.TgZ(11,"th",45)(12,"button",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByDate())}),e._uU(13," Session Date Time "),e._UZ(14,"i",47)(15,"i",48),e.qZA()(),e.TgZ(16,"th",45)(17,"button",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByEmployee())}),e._uU(18," Employee "),e._UZ(19,"i",47)(20,"i",48),e.qZA()(),e.TgZ(21,"th",45)(22,"button",49),e._uU(23,"Register Currencies"),e.qZA()(),e.TgZ(24,"th",45)(25,"button",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByStatus())}),e._uU(26," Status "),e._UZ(27,"i",47)(28,"i",48),e.qZA()(),e.TgZ(29,"th",45)(30,"button",49),e._uU(31," Action "),e.qZA()()()(),e.TgZ(32,"tbody"),e.YNc(33,Mt,24,21,"tr",50),e.qZA()()(),e.YNc(34,Ut,2,0,"div",51),e.qZA()()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(7),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",2==n.sort),e.xp6(1),e.ekj("active",3==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",4==n.sort),e.xp6(1),e.ekj("active",5==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",8==n.sort),e.xp6(1),e.ekj("active",9==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(3),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",10==n.sort),e.xp6(1),e.ekj("active",11==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(3),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",0==(null==t?null:t.length))}}function Pt(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}function wt(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",59)(2,"h6",60),e._uU(3," Showing "),e.TgZ(4,"span"),e._uU(5),e.qZA(),e._uU(6," from "),e.TgZ(7,"span"),e._uU(8),e.qZA(),e._uU(9," data "),e.qZA()(),e.TgZ(10,"div",59)(11,"ngb-pagination",61),e.NdJ("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageNo=i)})("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageChange(i))}),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(5),e.AsE("",6*t.pageNo-5," - ",6==(null==t.sessionList?null:t.sessionList.length)?6*t.pageNo:t.totalRecords,""),e.xp6(3),e.hij(" ",t.totalRecords," "),e.xp6(3),e.Q6J("collectionSize",t.totalRecords)("page",t.pageNo)("maxSize",3)("pageSize",6)("rotate",!0)("ellipses",!1)}}function Jt(o,s){1&o&&e._UZ(0,"settled-session-list")}let Bt=(()=>{class o{constructor(t,n,i,l,r,_,x,U,Hn){this._unsettleSession=t,this._registerSettlementService=n,this._commonService=i,this._sharedService=l,this._headerService=r,this._collectService=_,this._modalService=x,this.fb=U,this.datepipe=Hn,this.searchText="",this.filterParams=void 0,this.sort=1,this.totalRecords=0,this.pageNo=1,this.pageSize=6,this.pages=[],this.sessionList=[],this.branchesList=[],this.employeesList=[],this.statusList=[],this.status=ut.qb,this.message="",this.cashDepositTypeId=0}initFilterForm(){this.sessionFilterForm=this.fb.group({sessionId:[""],createdBy:[null],status:[null]})}ngOnInit(){this._headerService.setTitle("Sessions Summary"),this.getAllSessions(this.filterParams),this.getEmployees(),this.getStatusList(16),this.initFilterForm(),this.getRegisterUnsettledSessionsAmount(),this.getRegisterDetails(),this.sessionFilterForm.valueChanges.subscribe(t=>{let n;n={...t};let i=!0;for(let l in t)t[l]&&(this.pageNo=1,i=!1),null==n[l]&&(n[l]="");this.filterParams="?"+new URLSearchParams(n).toString(),i&&(this.filterParams=void 0,this.pageNo=1),this.getAllSessions(this.filterParams)})}handleTabSelection(t){}getRegisterDetails(){return this._collectService.GetRegisterDetails(this._sharedService.getRegister.registerObj?.id).subscribe(t=>{t&&(this.cashDepositTypeId=t?.data.cashDepositTypeId)})}resetRegisterNo(){this.sessionFilterForm.controls.sessionId.setValue("")}viewRegisterCurrencies(t){this._modalService.open(pt,{size:"md"}).componentInstance.data={registerCurrencies:t?.registerCurrencies}}getAllSessions(t=this.filterParams){let n=`status=16002,16004,16005&register=${this._sharedService.getRegister?.registerObj?.id}&pageNo=${this.pageNo-1}&sort=${this.sort}&pageSize=${this.pageSize}`;this._unsettleSession.getRegisterUnsettledSessions(t&&t+`&${n}`||`?${n}`).subscribe(i=>{this.sessionList=i?.data,this.totalRecords=i?.totalRecordCount,this.pagin=Math.ceil(this.totalRecords/6),this.pages=y.w6(this.pagin)})}getRegisterUnsettledSessionsAmount(){this._unsettleSession.getRegisterUnsettledSessionsAmount(this._sharedService.getRegister?.registerObj?.id).subscribe(t=>{this.unsettledSessionsAmount=t?.data})}getEmployees(){this._unsettleSession.getUserCashier().subscribe(t=>{this.employeesList=t.data})}getStatusList(t){this._registerSettlementService.getStatusList(t).subscribe(n=>{this.statusList=n.data.filter(i=>16002==i.id||16004==i.id||16005==i.id).map(i=>({id:i.id,description:i.description})),console.log(this.statusList)})}sortBySession(){this.sort=3==this.sort?1:2==this.sort?3:2,this.getAllSessions()}sortByDate(){this.sort=5==this.sort?1:4==this.sort?5:4,this.getAllSessions()}sortBySessionTime(){this.sort=7==this.sort?1:6==this.sort?7:6,this.getAllSessions()}sortByEmployee(){this.sort=9==this.sort?1:8==this.sort?9:8,this.getAllSessions()}sortByStatus(){this.sort=11==this.sort?1:10==this.sort?11:10,this.getAllSessions()}pageChange(t){this.pageNo=t,window.scroll(0,0),this.getAllSessions()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.o),e.Y36(k.D),e.Y36(C.v),e.Y36(f.F),e.Y36(Z.r),e.Y36(v.k),e.Y36(g.FF),e.Y36(c.qu),e.Y36(a.uU))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-sessions"]],viewQuery:function(t,n){if(1&t&&e.Gf(At,5),2&t){let i;e.iGM(i=e.CRH())&&(n.success=i.first)}},decls:59,vars:13,consts:[[1,"page-layout"],[1,"row"],[1,"col-md-12"],[1,"card-collect","card-with-details"],[1,"d-flex"],[1,"card-inner-heading"],[1,"col-12","col-sm-10","col-lg-7","col-xxl-5"],[1,"d-flex","mt-4","flex-wrap","gap-5","justify-content-between"],[1,"d-flex","flex-column"],[1,"dark-gray"],[1,"light-gray"],["type","pills"],["heading","Unsettled Session",3,"selectTab"],["tabA","tab"],[1,"heading-text","mb-3"],[1,"main-fund-container","gap-4","mb-4"],["class","main-fund-wrapper",4,"ngFor","ngForOf"],[3,"formGroup"],[1,"col-12","col-sm-6","col-lg-4"],[1,"input-group","search-box","h-100"],["type","button",1,"btn"],[1,"fa-solid","fa-search"],["type","text","formControlName","sessionId","placeholder","Session Id",1,"form-control",3,"keypress"],["class","btn","type","button",3,"click",4,"ngIf"],[1,"col-12","col-sm-6","col-lg-3"],["formControlName","createdBy","placeholder","Employee","bindLabel","fullName","bindValue","userId",1,"flex-grow-1","mt-3","mt-md-0",3,"items"],["formControlName","status","placeholder","Status","bindLabel","description","bindValue","id",1,"flex-grow-1",3,"items"],[1,"d-flex","justify-content-end"],[1,"total-records"],["class","col-md-12",4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],["heading","Settled Sessions",3,"selectTab"],["tabB","tab"],[1,"main-fund-wrapper"],[1,"main-fund-div"],[1,"currency-symbol"],["alt","",3,"src"],[1,"fw-700","font-18"],[1,"fw-700","font-20","gray-500","m-0"],["type","button",1,"btn",3,"click"],[1,"fa-solid","fa-xmark"],[1,"card-table","mt-2","register-sessions-table"],[1,"table-responsive"],[1,"table"],["scope","col"],[1,"btn",3,"disabled","click"],[1,"fa-solid","fa-arrow-up-long"],[1,"fa-solid","fa-arrow-down-long"],[1,"btn",3,"disabled"],[4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],["type","button",1,"redBtn",3,"click"],[1,"status-tag","w-auto","text-center",3,"ngStyle"],[1,"d-flex","align-items-center","gap-2"],["routerLink","/unsettled-session/create-deposit","class","d-inline-block redBtn me-2",3,"queryParams",4,"ngIf"],[1,"fas","fa-eye","font-20","light-gray","cursor-pointer",3,"routerLink"],["routerLink","/unsettled-session/create-deposit",1,"d-inline-block","redBtn","me-2",3,"queryParams"],[1,"not-found"],[1,"col-md-6"],[1,"showing"],[3,"collectionSize","page","maxSize","pageSize","rotate","ellipses","pageChange"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6",5),e._uU(6,"Register Details"),e.qZA()(),e._UZ(7,"hr"),e.TgZ(8,"div",1)(9,"div",6)(10,"div",7)(11,"div",8)(12,"h6",9),e._uU(13,"Branch"),e.qZA(),e.TgZ(14,"h6",10),e._uU(15),e.qZA()(),e.TgZ(16,"div",8)(17,"h6",9),e._uU(18,"Register Name"),e.qZA(),e.TgZ(19,"h6",10),e._uU(20),e.qZA()(),e.TgZ(21,"div",8)(22,"h6",9),e._uU(23,"Register No"),e.qZA(),e.TgZ(24,"h6",10),e._uU(25),e.qZA()()()()()()()(),e.TgZ(26,"tabset",11)(27,"tab",12,13),e.NdJ("selectTab",function(){return n.handleTabSelection("unsettled")}),e.TgZ(29,"h3",14),e._uU(30,"Unsettled Sessions Amount"),e.qZA(),e.TgZ(31,"div",15),e.YNc(32,kt,10,6,"div",16),e.qZA(),e.TgZ(33,"h3",14),e._uU(34,"Unsettled Sessions List"),e.qZA(),e.TgZ(35,"form",17)(36,"div",1)(37,"div",18)(38,"div",19)(39,"button",20),e._UZ(40,"i",21),e.qZA(),e.TgZ(41,"input",22),e.NdJ("keypress",function(l){return n._commonService.numberOnly(l)}),e.qZA(),e.YNc(42,yt,2,0,"button",23),e.qZA()(),e.TgZ(43,"div",24),e._UZ(44,"ng-select",25),e.qZA(),e.TgZ(45,"div",24),e._UZ(46,"ng-select",26),e.qZA()()(),e.TgZ(47,"div",27)(48,"p",28),e._uU(49),e.qZA()(),e.TgZ(50,"div",1),e.YNc(51,Nt,35,24,"div",29),e.TgZ(52,"div",2),e.YNc(53,Pt,2,0,"ng-template",null,30,e.W1O),e.qZA(),e.YNc(55,wt,12,9,"ng-container",31),e.qZA()(),e.TgZ(56,"tab",32,33),e.NdJ("selectTab",function(){return n.handleTabSelection("settled")}),e.YNc(58,Jt,1,0,"settled-session-list",31),e.qZA()()()),2&t){const i=e.MAs(54),l=e.MAs(57);e.xp6(15),e.Oqu(null==n._sharedService.getRegister||null==n._sharedService.getRegister.registerObj||null==n._sharedService.getRegister.registerObj.registeBranch?null:n._sharedService.getRegister.registerObj.registeBranch.branchName),e.xp6(5),e.Oqu(null==n._sharedService.getRegister||null==n._sharedService.getRegister.registerObj?null:n._sharedService.getRegister.registerObj.registersName),e.xp6(5),e.Oqu(null==n._sharedService.getRegister||null==n._sharedService.getRegister.registerObj?null:n._sharedService.getRegister.registerObj.id),e.xp6(7),e.Q6J("ngForOf",n.unsettledSessionsAmount),e.xp6(3),e.Q6J("formGroup",n.sessionFilterForm),e.xp6(7),e.Q6J("ngIf",""!==n.sessionFilterForm.controls.sessionId.value),e.xp6(2),e.Q6J("items",n.employeesList),e.xp6(2),e.Q6J("items",n.statusList),e.xp6(3),e.hij("Total No. ",n.totalRecords,""),e.xp6(2),e.Q6J("ngIf",n.sessionList)("ngIfElse",i),e.xp6(4),e.Q6J("ngIf",n.totalRecords>6),e.xp6(3),e.Q6J("ngIf",l.active)}},dependencies:[a.sg,a.O5,a.PC,p.rH,J.wW,J.AH,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,A.w9,g.N9,T.N,q.w,qt,a.JJ,a.uU],styles:[".heading-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.main-fund-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}.main-fund-container[_ngcontent-%COMP%]   .main-fund-wrapper[_ngcontent-%COMP%]{box-sizing:border-box;background:#FFFFFF;border:1px solid #E9E9E9;box-shadow:0 10px 20px #0000001a;border-radius:8px;padding:10px 15px;flex:0 1 240px;height:100px;display:flex;align-items:center}.main-fund-container[_ngcontent-%COMP%]   .main-fund-wrapper[_ngcontent-%COMP%]   .main-fund-div[_ngcontent-%COMP%]{display:flex;gap:15px}.main-fund-container[_ngcontent-%COMP%]   .main-fund-wrapper[_ngcontent-%COMP%]   .main-fund-div[_ngcontent-%COMP%]   .currency-symbol[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:#F6F6F6;box-shadow:0 10px 20px #0000001a;border-radius:8px}[_nghost-%COMP%]     .nav-pills{margin-bottom:30px}[_nghost-%COMP%]     .nav-pills .nav-link{font-size:16px;font-weight:700;color:#1b212d;border-radius:0}[_nghost-%COMP%]     .nav-pills .nav-link.active{background:none;color:#1b212d;border-bottom:2px solid var(--primary)}"]}),o})();var D=d(71891);function It(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",6)(1,"h6",7),e._uU(2,"Attachment"),e.qZA(),e.TgZ(3,"div",18)(4,"label",19),e._uU(5),e.qZA(),e.TgZ(6,"div",20)(7,"img",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.viewFile())}),e.qZA(),e.TgZ(8,"a",22),e._UZ(9,"img",23),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.Oqu(t.fileName),e.xp6(3),e.s9C("href",null==t.depositDetails?null:t.depositDetails.filePath,e.LSH)}}function jt(o,s){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"number"),e.qZA()()),2&o){const t=s.$implicit;e.xp6(2),e.Oqu(null==t||null==t.cheques[0]?null:t.cheques[0].chequeCustomer),e.xp6(2),e.Oqu(null==t||null==t.cheques[0]?null:t.cheques[0].chequeNo),e.xp6(2),e.Oqu(null==t||null==t.cheques[0]||null==t.cheques[0].bank||null==t.cheques[0].bank.translation[0]?null:t.cheques[0].bank.translation[0].lookupName),e.xp6(2),e.Oqu(e.xi3(9,5,null==t||null==t.cheques[0]?null:t.cheques[0].chequeDate,"mediumDate")),e.xp6(3),e.hij("",e.xi3(12,8,null==t||null==t.cheques[0]?null:t.cheques[0].chequeCollectionJod,"2.3-3")," JD")}}function Ft(o,s){1&o&&(e.TgZ(0,"div",33),e._UZ(1,"app-not-found"),e.qZA())}function Qt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",24)(2,"div",25)(3,"table",26)(4,"thead")(5,"tr")(6,"th",27)(7,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByCustomer())}),e._uU(8," Customer "),e._UZ(9,"i",29)(10,"i",30),e.qZA()(),e.TgZ(11,"th",27)(12,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByCheque())}),e._uU(13," Cheque No "),e._UZ(14,"i",29)(15,"i",30),e.qZA()(),e.TgZ(16,"th",27)(17,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByBank())}),e._uU(18," Bank "),e._UZ(19,"i",29)(20,"i",30),e.qZA()(),e.TgZ(21,"th",27)(22,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByDate())}),e._uU(23," Date "),e._UZ(24,"i",29)(25,"i",30),e.qZA()(),e.TgZ(26,"th",27)(27,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByAmount())}),e._uU(28," Amount "),e._UZ(29,"i",29)(30,"i",30),e.qZA()()()(),e.TgZ(31,"tbody"),e.YNc(32,jt,13,11,"tr",31),e.qZA()()(),e.YNc(33,Ft,2,0,"div",32),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("disabled",0==(null==t.depositedChequeList?null:t.depositedChequeList.length)),e.xp6(2),e.ekj("active",2==t.sort),e.xp6(1),e.ekj("active",3==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.depositedChequeList?null:t.depositedChequeList.length)),e.xp6(2),e.ekj("active",4==t.sort),e.xp6(1),e.ekj("active",5==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.depositedChequeList?null:t.depositedChequeList.length)),e.xp6(2),e.ekj("active",6==t.sort),e.xp6(1),e.ekj("active",7==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.depositedChequeList?null:t.depositedChequeList.length)),e.xp6(2),e.ekj("active",8==t.sort),e.xp6(1),e.ekj("active",9==t.sort),e.xp6(2),e.Q6J("disabled",0==(null==t.depositedChequeList?null:t.depositedChequeList.length)),e.xp6(2),e.ekj("active",10==t.sort),e.xp6(1),e.ekj("active",11==t.sort),e.xp6(2),e.Q6J("ngForOf",t.depositedChequeList),e.xp6(1),e.Q6J("ngIf",0==(null==t.depositedChequeList?null:t.depositedChequeList.length))}}function Rt(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}const Lt=function(o){return{active:o}};function Yt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"li",34)(1,"button",35),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.setPage(l))}),e._uU(2),e.qZA()()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(3,Lt,n.pageNo===t))("disabled",n.pageNo===t),e.xp6(1),e.hij(" ",t+1," ")}}let Gt=(()=>{class o{constructor(t,n,i,l,r){this._activeRoute=t,this._commonService=n,this._headerService=i,this._allocationService=l,this._modalService=r,this.depositedChequeList=[],this.sort=1,this.totalRecords=0,this.pageNo=0,this.pages=[]}ngOnInit(){this._headerService.setTitle("Unsettled Sessions > Deposited Cheque Details View"),this._activeRoute.params.subscribe(t=>{this.depositId=t.depositId,this.getChequeDepositDetails()})}getChequeDepositDetails(){this._allocationService.getRegisterDirectChequeDepositDetails(`?DepositeId=${this.depositId}&Sort=${this.sort}&PageNo=${this.pageNo}&PageSize=6`).subscribe(n=>{this.depositedChequeList=n.data,this.totalRecords=n?.info?.totalRecordsCount,console.log(n),this._allocationService.getRegisterDirectDepositsNew(this.depositId,"cheque").subscribe(i=>{console.log(i),this.depositDetails=i.data[0],this.depositDetails?.filePath&&(this.fileName=this.depositDetails.filePath.split("/").pop())})})}viewFile(){this._modalService.open(D.W,{size:"md"}).componentInstance.file=this.depositDetails?.filePath}sortByCustomer(){this.sort=3==this.sort?1:2==this.sort?3:2,this.getChequeDepositDetails()}sortByCheque(){this.sort=5==this.sort?1:4==this.sort?5:4,this.getChequeDepositDetails()}sortByBank(){this.sort=7==this.sort?1:6==this.sort?7:6,this.getChequeDepositDetails()}sortByDate(){this.sort=9==this.sort?1:8==this.sort?9:8,this.getChequeDepositDetails()}sortByAmount(){this.sort=11==this.sort?1:10==this.sort?11:10,this.getChequeDepositDetails()}setPage(t){this.pageNo=t,window.scroll(0,0),this.getChequeDepositDetails()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.gz),e.Y36(C.v),e.Y36(Z.r),e.Y36(m.U),e.Y36(g.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-deposited-cheques"]],decls:64,vars:23,consts:[[1,"d-flex","flex-row","my-3","gap-4"],[1,"dark-gray","fw-700"],[1,"light-gray"],[1,"card-Box"],[1,"separator","my-4"],[1,"d-flex","flex-wrap"],[1,"d-flex","flex-column","flex-basis"],[1,"dark-gray","fw-600"],["class","d-flex flex-column flex-basis",4,"ngIf"],[1,"col-12","d-flex","justify-content-between","align-items-center","mb-3","mt-4"],[1,"font-16","fw-500","gray-500"],["class","col-md-12",4,"ngIf","ngIfElse"],[1,"col-md-12"],["loading",""],[1,"col-md-6",3,"hidden"],[1,"showing"],[1,"pagination"],["class","page-item",4,"ngFor","ngForOf"],[1,"file-item","d-flex","justify-content-between","align-items-center","py-2","px-3"],[1,"fw-600","green-clr"],[1,"d-flex","gap-2","align-items-center"],["height","20","src","assets/images/eye.png",1,"cursor-pointer",3,"click"],["target","_blank","download","",3,"href"],["height","20","src","assets/images/Download.png",1,"cursor-pointer"],[1,"card-table","mt-2"],[1,"table-responsive"],[1,"table"],["scope","col"],[1,"btn",3,"disabled","click"],[1,"fa-solid","fa-arrow-up-long"],[1,"fa-solid","fa-arrow-down-long"],[4,"ngFor","ngForOf"],["class","not-found",4,"ngIf"],[1,"not-found"],[1,"page-item"],[1,"page-link",3,"ngClass","disabled","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"h6",1),e._uU(2,"Cheque Type"),e.qZA(),e.TgZ(3,"p",2),e._uU(4),e.qZA()(),e.TgZ(5,"div",3)(6,"h6",1),e._uU(7,"Deposit Details"),e.qZA(),e._UZ(8,"div",4),e.TgZ(9,"div",5)(10,"div",6)(11,"h6",7),e._uU(12,"Deposit ID "),e.qZA(),e.TgZ(13,"p",2),e._uU(14),e.qZA()(),e.TgZ(15,"div",6)(16,"h6",7),e._uU(17,"Employee"),e.qZA(),e.TgZ(18,"p",2),e._uU(19),e.qZA()(),e.TgZ(20,"div",6)(21,"h6",7),e._uU(22,"Deposit Date "),e.qZA(),e.TgZ(23,"p",2),e._uU(24),e.ALo(25,"date"),e.qZA()(),e.TgZ(26,"div",6)(27,"h6",7),e._uU(28,"Deposit Time"),e.qZA(),e.TgZ(29,"p",2),e._uU(30),e.ALo(31,"date"),e.qZA()(),e.TgZ(32,"div",6)(33,"h6",7),e._uU(34,"Account Name"),e.qZA(),e.TgZ(35,"p",2),e._uU(36),e.qZA()(),e.TgZ(37,"div",6)(38,"h6",7),e._uU(39,"Account No."),e.qZA(),e.TgZ(40,"p",2),e._uU(41),e.qZA()(),e.YNc(42,It,10,2,"div",8),e.qZA()(),e.TgZ(43,"div",9)(44,"h6",7),e._uU(45,"All Cheques"),e.qZA(),e.TgZ(46,"span",10),e._uU(47),e.qZA()(),e.YNc(48,Qt,34,27,"div",11),e.TgZ(49,"div",12),e.YNc(50,Rt,2,0,"ng-template",null,13,e.W1O),e.qZA(),e.TgZ(52,"div",14)(53,"h6",15),e._uU(54," Showing "),e.TgZ(55,"span"),e._uU(56),e.qZA(),e._uU(57," from "),e.TgZ(58,"span"),e._uU(59),e.qZA(),e._uU(60," data "),e.qZA()(),e.TgZ(61,"div",14)(62,"ul",16),e.YNc(63,Yt,3,5,"li",17),e.qZA()()),2&t){const i=e.MAs(51);e.xp6(4),e.Oqu(null==n.depositDetails?null:n.depositDetails.chequeType),e.xp6(10),e.Oqu(null==n.depositDetails?null:n.depositDetails.depositeId),e.xp6(5),e.Oqu(null==n.depositDetails?null:n.depositDetails.createdByObj),e.xp6(5),e.Oqu(e.xi3(25,17,null==n.depositDetails?null:n.depositDetails.depositDate,"mediumDate")),e.xp6(6),e.Oqu(e.xi3(31,20,null==n.depositDetails?null:n.depositDetails.depositDate,"h:mm a")),e.xp6(6),e.Oqu(null==n.depositDetails?null:n.depositDetails.accountName),e.xp6(5),e.Oqu(null==n.depositDetails?null:n.depositDetails.accountNumber),e.xp6(1),e.Q6J("ngIf",(null==n.depositDetails?null:n.depositDetails.filePath)&&n.fileName),e.xp6(5),e.hij("No of Cheques ",n.totalRecords||(null==n.depositedChequeList?null:n.depositedChequeList.length),""),e.xp6(1),e.Q6J("ngIf",n.depositedChequeList)("ngIfElse",i),e.xp6(4),e.Q6J("hidden",n.totalRecords<7),e.xp6(4),e.AsE(" ",6*(n.pageNo+1)-5," - ",6==(null==n.depositedChequeList?null:n.depositedChequeList.length)?6*(n.pageNo+1):n.totalRecords," "),e.xp6(3),e.hij(" ",n.totalRecords," "),e.xp6(2),e.Q6J("hidden",n.totalRecords<7),e.xp6(2),e.Q6J("ngForOf",n.pages)}},dependencies:[a.mk,a.sg,a.O5,T.N,q.w,a.JJ,a.uU],styles:[".applyMargin[_ngcontent-%COMP%]{margin-top:2.5rem}.card-table[_ngcontent-%COMP%]{border:.5px solid #f4f4f4;box-shadow:3px 7px 12px #0000002e;-webkit-box-shadow:3px 7px 12px 0px rgba(0,0,0,.18);-moz-box-shadow:3px 7px 12px 0px rgba(0,0,0,.18)}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;gap:8px}.play-left[_ngcontent-%COMP%]{color:#eceaea;transform:rotate(180deg);margin-right:5px}.play-right[_ngcontent-%COMP%]{color:#eceaea}.card-Box[_ngcontent-%COMP%]{background:#ffffff;border:.5px solid #f5f5f5;box-shadow:0 15px 25px #0000001a;border-radius:8px;padding:24px 34px}.flex-basis[_ngcontent-%COMP%]{flex:0 0 20%}.file-item[_ngcontent-%COMP%]{border:1px solid #2eb93e;border-radius:5px}.separator[_ngcontent-%COMP%]{border-bottom:1px solid #e9e9e9}"]}),o})();var O=d(15070);function zt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"th",18)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortByStatus())}),e._uU(2," Status "),e._UZ(3,"i",20)(4,"i",21),e.qZA()()}if(2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",14==n.sort),e.xp6(1),e.ekj("active",15==n.sort)}}const Et=function(o,s){return{background:o,color:s}};function Ht(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.ALo(18,"number"),e.qZA(),e.TgZ(19,"td")(20,"div",25),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"i",26),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(2),_=e.MAs(22);return e.KtG(r.handleCardDetails(l,_))}),e.qZA()()()}if(2&o){const t=s.$implicit;e.ekj("highlight-tr",null==t?null:t.wrongActionInClosing),e.xp6(2),e.hij(" ",(null==t||null==t.customer?null:t.customer.customerName)||"-",""),e.xp6(2),e.hij(" ",null==t.paymentCardType[0]?null:t.paymentCardType[0].lookupName," "),e.xp6(2),e.hij(" ","Settled"==(null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName)&&"edit"==(null==t?null:t.settleActionType)&&(null==t?null:t.settled4Digits)||(null==t?null:t.cardLast4Digits),""),e.xp6(2),e.hij(" ","Settled"==(null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName)&&"edit"==(null==t?null:t.settleActionType)&&(null==t?null:t.settleMachineReceiptNumber)||(null==t?null:t.machineReceiptNumber),""),e.xp6(2),e.hij(" ","Settled"==(null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName)&&"edit"==(null==t?null:t.settleActionType)&&(null==t||null==t.settledCardProvide?null:t.settledCardProvide.providerName)||(null==t||null==t.cardProvide?null:t.cardProvide.providerName),""),e.xp6(2),e.hij(" ",e.xi3(13,12,null==t?null:t.cardCollectionJod,"2.3-3")," JOD"),e.xp6(3),e.hij(" ",(null==t?null:t.currency)&&(null==t||null==t.currency[0]?null:t.currency[0].lookupName),""),e.xp6(2),e.hij(" ",e.xi3(18,15,null==t?null:t.collectedAmount,"2.3-3"),""),e.xp6(3),e.Q6J("ngStyle",e.WLB(18,Et,null==t||null==t.statusObj?null:t.statusObj.lookupBGColor,null==t||null==t.statusObj?null:t.statusObj.lookupTextColor)),e.xp6(1),e.hij(" ",null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName," ")}}function Kt(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-not-found"),e.qZA())}function Vt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",15)(2,"table",16)(3,"thead")(4,"tr",17)(5,"th",18)(6,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByCustomer())}),e._uU(7," Customer "),e._UZ(8,"i",20)(9,"i",21),e.qZA()(),e.TgZ(10,"th",18)(11,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByCardType())}),e._uU(12," Card Type "),e._UZ(13,"i",20)(14,"i",21),e.qZA()(),e.TgZ(15,"th",18)(16,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByLastFour())}),e._uU(17," Last 4 Digits "),e._UZ(18,"i",20)(19,"i",21),e.qZA()(),e.TgZ(20,"th",18)(21,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByInvoice())}),e._uU(22," Machine Receipt No "),e._UZ(23,"i",20)(24,"i",21),e.qZA()(),e.TgZ(25,"th",18)(26,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByTerminal())}),e._uU(27," Terminal Provider "),e._UZ(28,"i",20)(29,"i",21),e.qZA()(),e.TgZ(30,"th",18)(31,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByAmount())}),e._uU(32," Amount JOD "),e._UZ(33,"i",20)(34,"i",21),e.qZA()(),e.TgZ(35,"th",18)(36,"button",22),e._uU(37," Currency "),e.qZA()(),e.TgZ(38,"th",18)(39,"button",22),e._uU(40," Amount "),e.qZA()(),e.YNc(41,zt,5,5,"th",23),e.TgZ(42,"th",18)(43,"button",22),e._uU(44," Action "),e.qZA()()()(),e.TgZ(45,"tbody"),e.YNc(46,Ht,24,21,"tr",24),e.qZA()()(),e.YNc(47,Kt,2,0,"div",13),e.qZA()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(6),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",2==n.sort),e.xp6(1),e.ekj("active",3==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",4==n.sort),e.xp6(1),e.ekj("active",5==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",6==n.sort),e.xp6(1),e.ekj("active",7==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",8==n.sort),e.xp6(1),e.ekj("active",9==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",10==n.sort),e.xp6(1),e.ekj("active",11==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",12==n.sort),e.xp6(1),e.ekj("active",13==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(3),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.Q6J("ngIf",!n.isSettle),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(3),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",0==(null==t?null:t.length))}}function $t(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}function Wt(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"h6",27),e._uU(3," Showing "),e.TgZ(4,"span"),e._uU(5),e.qZA(),e._uU(6," from "),e.TgZ(7,"span"),e._uU(8),e.qZA(),e._uU(9," data "),e.qZA()(),e.TgZ(10,"div",1)(11,"ngb-pagination",28),e.NdJ("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageNo=i)})("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageChange(i))}),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(5),e.AsE("",6*t.pageNo-5," - ",6==(null==t.sessionCards?null:t.sessionCards.length)?6*t.pageNo:t.totalRecordCount,""),e.xp6(3),e.hij(" ",t.totalRecordCount," "),e.xp6(3),e.Q6J("collectionSize",t.totalRecordCount)("page",t.pageNo)("maxSize",3)("pageSize",6)("rotate",!0)("ellipses",!1)}}function Xt(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"h4",31),e._uU(3,"Card Details"),e.qZA(),e.TgZ(4,"h6",32),e._uU(5,"Customer Name: "),e.TgZ(6,"span",33),e._uU(7),e.qZA()()(),e.TgZ(8,"div",34)(9,"div",35)(10,"div",36)(11,"label"),e._uU(12,"Amount JOD"),e.qZA(),e.TgZ(13,"h6",37),e._uU(14),e.ALo(15,"number"),e.qZA()(),e.TgZ(16,"div",38)(17,"label"),e._uU(18,"Currency"),e.qZA(),e.TgZ(19,"h6",37),e._uU(20),e.qZA()(),e.TgZ(21,"div",39)(22,"label"),e._uU(23,"Amount"),e.qZA(),e.TgZ(24,"h6",37),e._uU(25),e.ALo(26,"number"),e.qZA()(),e.TgZ(27,"div",39)(28,"label"),e._uU(29,"Last 4 Digits of the Card"),e.qZA(),e.TgZ(30,"h6",37),e._uU(31),e.qZA()()(),e.TgZ(32,"div",35)(33,"div",36)(34,"label"),e._uU(35,"Machine Receipt No"),e.qZA(),e.TgZ(36,"h6",37),e._uU(37),e.qZA()(),e.TgZ(38,"div",36)(39,"label"),e._uU(40,"Provider Name"),e.qZA(),e.TgZ(41,"h6",37),e._uU(42),e.qZA()(),e.TgZ(43,"div",36)(44,"label"),e._uU(45,"Payer Name"),e.qZA(),e.TgZ(46,"h6",37),e._uU(47),e.qZA()()()()(),e.TgZ(48,"div",40)(49,"div",41)(50,"button",42),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.close("Save click"))}),e._uU(51,"Close"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Oqu(null==t.cardDetails||null==t.cardDetails.customer?null:t.cardDetails.customer.customerName),e.xp6(7),e.hij("",e.xi3(15,8,null==t.cardDetails?null:t.cardDetails.cardCollectionJod,"2.3-3")," JOD"),e.xp6(6),e.Oqu((null==t.cardDetails?null:t.cardDetails.currency)&&(null==t.cardDetails||null==t.cardDetails.currency[0]?null:t.cardDetails.currency[0].lookupName)),e.xp6(5),e.Oqu(e.xi3(26,11,null==t.cardDetails?null:t.cardDetails.collectedAmount,"2.3-3")),e.xp6(6),e.Oqu((null==t.cardDetails?null:t.cardDetails.settled4Digits)||(null==t.cardDetails?null:t.cardDetails.cardLast4Digits)),e.xp6(6),e.Oqu((null==t.cardDetails?null:t.cardDetails.settleMachineReceiptNumber)||(null==t.cardDetails?null:t.cardDetails.machineReceiptNumber)),e.xp6(5),e.Oqu((null==t.cardDetails||null==t.cardDetails.settledCardProvide?null:t.cardDetails.settledCardProvide.providerName)||(null==t.cardDetails||null==t.cardDetails.cardProvide?null:t.cardDetails.cardProvide.providerName)),e.xp6(5),e.Oqu(null==t.cardDetails?null:t.cardDetails.cardPayerName)}}let en=(()=>{class o{constructor(t,n,i,l,r,_,x){this.fb=t,this._registerSettlementService=n,this.datePipe=i,this._collectService=l,this._modalService=r,this._closeRegisterService=_,this._commonService=x,this.pageNo=1,this.sort=1,this.searchText="",this.loadCardData=new e.vpe,this.isSettle=!0,this.terminals=[]}ngOnChanges(t){this.response=t.response.currentValue,this.sessionCards=this.response?.cards,this.totalRecordCount=this.response?.totalRecordCount,this.pagin=Math.ceil(this.totalRecordCount/6),this.pages=y.w6(this.pagin)}ngOnInit(){}get formValid(){return this.cardForm.controls}handleCardDetails(t,n){this.cardDetails={},this.cardDetails=t,this._modalService.open(n,{centered:!0,size:"lg"})}sortByCustomer(){this.sort=3==this.sort?1:2==this.sort?3:2,this.loadCardData.emit({page:this.pageNo,customer:this.searchText,sort:this.sort})}sortByCardType(){this.sort=5==this.sort?1:4==this.sort?5:4,this.loadCardData.emit({page:this.pageNo,customer:this.searchText,sort:this.sort})}sortByLastFour(){this.sort=7==this.sort?1:6==this.sort?7:6,this.loadCardData.emit({page:this.pageNo,customer:this.searchText,sort:this.sort})}sortByInvoice(){this.sort=9==this.sort?1:8==this.sort?9:8,this.loadCardData.emit({page:this.pageNo,customer:this.searchText,sort:this.sort})}sortByTerminal(){this.sort=11==this.sort?1:10==this.sort?11:10,this.loadCardData.emit({page:this.pageNo,customer:this.searchText,sort:this.sort})}sortByAmount(){this.sort=13==this.sort?1:12==this.sort?13:12,this.loadCardData.emit({page:this.pageNo,customer:this.searchText,sort:this.sort})}sortByStatus(){this.sort=15==this.sort?1:14==this.sort?15:14,this.loadCardData.emit({page:this.pageNo,customer:this.searchText,sort:this.sort})}pageChange(t){this.pageNo=t,this.loadCardData.emit({page:t,customer:"",sort:1}),window.scroll(0,0)}removeSearch(){this.searchText="",this.loadCardData.emit({page:1,customer:"",sort:1})}searchData(t){const n=t.target.value;n.length>=3?(this.searchText=n,this.loadCardData.emit({page:1,customer:n})):0==n.length&&(this.searchText="",this.loadCardData.emit({page:1,customer:""}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.qu),e.Y36(k.D),e.Y36(a.uU),e.Y36(v.k),e.Y36(g.FF),e.Y36(O.x),e.Y36(C.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-session-card-payments"]],inputs:{response:"response",isSettle:"isSettle"},outputs:{loadCardData:"loadCardData"},features:[e.TTD],decls:23,vars:6,consts:[[1,"row"],[1,"col-md-6"],[1,"input-group","search-box"],["type","button","id","button-addon1",1,"btn",3,"click"],[1,"fa-solid","fa-search"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","keyup"],["type","button","id","button-addon1",1,"btn",3,"hidden","click"],[1,"fa-solid","fa-xmark"],[1,"top-details","justify-content-end","pt-3"],[1,"col-md-12"],[1,"card-table","mt-3"],["class","col-md-12",4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],["sessionCardDetails",""],[1,"table-responsive"],[1,"table"],[1,"py-2"],["scope","col"],[1,"btn",3,"disabled","click"],[1,"fa-solid","fa-arrow-up-long"],[1,"fa-solid","fa-arrow-down-long"],[1,"btn",3,"disabled"],["scope","col",4,"ngIf"],[3,"highlight-tr",4,"ngFor","ngForOf"],[1,"status-tag",3,"ngStyle"],[1,"fa-regular","fa-eye","cursor-pointer",3,"click"],[1,"showing"],[3,"collectionSize","page","maxSize","pageSize","rotate","ellipses","pageChange"],[1,"fc-modal","p-4","custom-form-input"],[1,"modal-header","p-0","flex-column","align-items-start"],["ngbAutofocus","",1,"modal-title","fw-bolder","pb-1"],[1,"pb-2","fw-600"],[1,"light-gray"],[1,"modal-body","p-0"],[1,"row","mt-3"],[1,"col-sm-4"],[1,"pb-2","fw-600","light-gray"],[1,"col-sm-2"],[1,"col-sm-3"],[1,"modal-footer","p-4"],[1,"btns-group"],["type","submit",1,"btn","btn-save",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"input",5),e.NdJ("ngModelChange",function(l){return n.searchText=l})("keyup",function(l){return n.searchData(l)}),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(7,"i",7),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",8)(10,"p")(11,"span"),e._uU(12),e.qZA()()()(),e.TgZ(13,"div",9)(14,"div",10)(15,"div",0),e.YNc(16,Vt,48,36,"div",11),e.TgZ(17,"div",9),e.YNc(18,$t,2,0,"ng-template",null,12,e.W1O),e.qZA()()()(),e.YNc(20,Wt,12,9,"ng-container",13),e.qZA(),e.YNc(21,Xt,52,14,"ng-template",null,14,e.W1O)),2&t){const i=e.MAs(19);e.xp6(5),e.Q6J("ngModel",n.searchText),e.xp6(1),e.Q6J("hidden",0==n.searchText.length),e.xp6(6),e.hij(" No. Of Transactions ",n.totalRecordCount,""),e.xp6(4),e.Q6J("ngIf",n.sessionCards)("ngIfElse",i),e.xp6(4),e.Q6J("ngIf",n.totalRecordCount>6)}},dependencies:[a.sg,a.O5,a.PC,c.Fj,c.JJ,c.On,g.N9,T.N,q.w,a.JJ],styles:[".card-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px}.card-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:0}.btn-right[_ngcontent-%COMP%]{color:#29a073;font-size:20px;padding:0 5px;margin:0 5px;border:0px}.btn-xmark[_ngcontent-%COMP%]{color:#dc3545;font-size:20px;padding:0 5px;margin:0 5px;border:0px}.btn-edit[_ngcontent-%COMP%]{color:#4e9aff;font-size:18px;padding:0 5px;margin:0 5px;border:0px}.btn-undo[_ngcontent-%COMP%]{font-size:14px;font-weight:600;padding:0;border:0px}.btn-undo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.card-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 5px 10px 15px!important}.btn.disabled[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:disabled, fieldset[_ngcontent-%COMP%]:disabled   .btn[_ngcontent-%COMP%]{color:#a9a9a9!important}.highlight-tr[_ngcontent-%COMP%]{background-color:#ffd2d2}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#1b212d}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#1b212d}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#929eae}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:7px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:46px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-weight:500;color:var(--primary);font-size:15px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:20px;height:20px;accent-color:var(--primary)}.modal-body[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]{border:1px solid #2eb93e;border-radius:5px}"]}),o})();var tn=d(67761);function nn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"th",22)(1,"button",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.sortByStatus())}),e._uU(2," Status "),e._UZ(3,"i",24)(4,"i",25),e.qZA()()}if(2&o){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",12==n.sort),e.xp6(1),e.ekj("active",13==n.sort)}}const on=function(o,s){return{background:o,color:s}};function sn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.ALo(16,"date"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td")(20,"div",29),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"i",30),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(2),_=e.MAs(32);return e.KtG(r.handleChequeDetails(l,_))}),e.qZA()()()}if(2&o){const t=s.$implicit;e.ekj("highlight-tr",null==t?null:t.wrongActionInClosing),e.xp6(2),e.hij(" ",null==t?null:t.chequeCustomer,""),e.xp6(2),e.hij(" ","Settled"==(null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName)&&"edit"==(null==t?null:t.settleActionType)&&(null==t?null:t.settleChequeNumber)||(null==t?null:t.chequeNo)," "),e.xp6(2),e.hij(" ",e.xi3(7,11,null==t?null:t.chequeCollectionJod,"2.3-3")," JOD"),e.xp6(3),e.hij(" ",null==t||null==t.currency[0]?null:t.currency[0].lookupName,""),e.xp6(2),e.hij(" ",e.xi3(12,14,null==t?null:t.collectedAmount,"2.3-3"),""),e.xp6(3),e.hij(" ","Settled"==(null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName)&&"edit"==(null==t?null:t.settleActionType)&&e.xi3(15,17,null==t?null:t.settleChequeDate,"mediumDate")||e.xi3(16,20,t.chequeDate,"mediumDate"),""),e.xp6(4),e.hij(" ","Settled"==(null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName)&&"edit"==(null==t?null:t.settleActionType)&&(null==t||null==t.settleBank[0]?null:t.settleBank[0].lookupName)||(null==t.bank[0]?null:t.bank[0].lookupName),""),e.xp6(2),e.Q6J("ngStyle",e.WLB(23,on,null==t||null==t.statusObj?null:t.statusObj.lookupBGColor,null==t||null==t.statusObj?null:t.statusObj.lookupTextColor)),e.xp6(1),e.hij(" ",null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName," ")}}function ln(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-not-found"),e.qZA())}function an(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",19)(2,"table",20)(3,"thead")(4,"tr",21)(5,"th",22)(6,"button",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByCustomer())}),e._uU(7," Customer "),e._UZ(8,"i",24)(9,"i",25),e.qZA()(),e.TgZ(10,"th",22)(11,"button",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByChequeNo())}),e._uU(12," Cheque No "),e._UZ(13,"i",24)(14,"i",25),e.qZA()(),e.TgZ(15,"th",22)(16,"button",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByAmount())}),e._uU(17," Amount JOD "),e._UZ(18,"i",24)(19,"i",25),e.qZA()(),e.TgZ(20,"th",22)(21,"button",26),e._uU(22,"Currency"),e.qZA()(),e.TgZ(23,"th",22)(24,"button",26),e._uU(25,"Amount"),e.qZA()(),e.TgZ(26,"th",22)(27,"button",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByDate())}),e._uU(28," Date "),e._UZ(29,"i",24)(30,"i",25),e.qZA()(),e.TgZ(31,"th",22)(32,"button",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByBank())}),e._uU(33," Bank "),e._UZ(34,"i",24)(35,"i",25),e.qZA()(),e.YNc(36,nn,5,5,"th",27),e.TgZ(37,"th",22)(38,"button",26),e._uU(39," Action "),e.qZA()()()(),e.TgZ(40,"tbody"),e.YNc(41,sn,24,26,"tr",28),e.qZA()()(),e.YNc(42,ln,2,0,"div",13),e.qZA()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(6),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",2==n.sort),e.xp6(1),e.ekj("active",3==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",4==n.sort),e.xp6(1),e.ekj("active",5==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",6==n.sort),e.xp6(1),e.ekj("active",7==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(3),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(3),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",8==n.sort),e.xp6(1),e.ekj("active",9==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",10==n.sort),e.xp6(1),e.ekj("active",11==n.sort),e.xp6(1),e.Q6J("ngIf",!n.isSettle),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(3),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",0==(null==t?null:t.length))}}function rn(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}function cn(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"h6",31),e._uU(3," Showing "),e.TgZ(4,"span"),e._uU(5),e.qZA(),e._uU(6," from "),e.TgZ(7,"span"),e._uU(8),e.qZA(),e._uU(9," data "),e.qZA()(),e.TgZ(10,"div",1)(11,"ngb-pagination",32),e.NdJ("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageNo=i)})("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageChange(i))}),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(5),e.AsE("",6*t.pageNo-5," - ",6==(null==t.sessionCheques?null:t.sessionCheques.length)?6*t.pageNo:t.totalRecordCount,""),e.xp6(3),e.hij(" ",t.totalRecordCount," "),e.xp6(3),e.Q6J("collectionSize",t.totalRecordCount)("page",t.pageNo)("maxSize",3)("pageSize",6)("rotate",!0)("ellipses",!1)}}function un(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"number"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td")(22,"button",34),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.viewDepositedAttachment(null==l?null:l.depositeFile))}),e._uU(23,"View Deposit Attachement"),e.qZA()()()}if(2&o){const t=s.$implicit;e.xp6(2),e.hij(" ",null==t?null:t.chequeCustomer,""),e.xp6(2),e.hij(" ",null==t?null:t.chequeNo,""),e.xp6(2),e.hij(" ",e.xi3(7,8,null==t?null:t.chequeCollectionJod,"2.3-3")," JOD"),e.xp6(3),e.hij(" ",null==t||null==t.currency[0]?null:t.currency[0].lookupName,""),e.xp6(2),e.hij(" ",e.xi3(12,11,null==t?null:t.collectedAmount,"2.3-3"),""),e.xp6(3),e.hij(" ",e.xi3(15,14,null==t?null:t.collectionAt,"mediumDate"),""),e.xp6(3),e.hij(" ",null==t||null==t.bank[0]?null:t.bank[0].lookupName,""),e.xp6(2),e.hij(" ",e.xi3(20,17,null==t?null:t.collectedAmount,"2.3-3"),"")}}function dn(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-not-found"),e.qZA())}function pn(o,s){if(1&o&&(e.TgZ(0,"div",9)(1,"div",19)(2,"table",20)(3,"thead")(4,"tr",21)(5,"th",22),e._uU(6," Customer "),e.qZA(),e.TgZ(7,"th",22),e._uU(8," Cheque No "),e.qZA(),e.TgZ(9,"th",22),e._uU(10,"Amount JOD"),e.qZA(),e.TgZ(11,"th",22),e._uU(12,"Currency"),e.qZA(),e.TgZ(13,"th",22),e._uU(14,"Amount"),e.qZA(),e.TgZ(15,"th",22),e._uU(16," Date "),e.qZA(),e.TgZ(17,"th",22),e._uU(18," Bank "),e.qZA(),e.TgZ(19,"th",22),e._uU(20," Action "),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,un,24,20,"tr",33),e.qZA()()(),e.YNc(23,dn,2,0,"div",13),e.qZA()),2&o){const t=e.oxw();e.xp6(22),e.Q6J("ngForOf",t.depositedCheques),e.xp6(1),e.Q6J("ngIf",0==(null==t.depositedCheques?null:t.depositedCheques.length))}}function gn(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}function _n(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"h6",31),e._uU(3," Showing "),e.TgZ(4,"span"),e._uU(5),e.qZA(),e._uU(6," from "),e.TgZ(7,"span"),e._uU(8),e.qZA(),e._uU(9," data "),e.qZA()(),e.TgZ(10,"div",1)(11,"ngb-pagination",32),e.NdJ("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.dcPageNo=i)})("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.dcPageChange(i))}),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(5),e.AsE("",6*t.dcPageNo-5," - ",6==(null==t.depositedCheques?null:t.depositedCheques.length)?6*t.dcPageNo:t.dcTotalRecordCount,""),e.xp6(3),e.hij(" ",t.dcTotalRecordCount," "),e.xp6(3),e.Q6J("collectionSize",t.dcTotalRecordCount)("page",t.dcPageNo)("maxSize",3)("pageSize",6)("rotate",!0)("ellipses",!1)}}function hn(o,s){if(1&o&&(e.TgZ(0,"div",42)(1,"label"),e._uU(2,"Cheque Image"),e.qZA(),e._UZ(3,"view-file",50),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.Q6J("file",null==t.chequeDetails?null:t.chequeDetails.chequeImage)}}function mn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"h4",37),e._uU(3,"Cheque Details"),e.qZA(),e.TgZ(4,"h6",38),e._uU(5,"Customer Name: "),e.TgZ(6,"span",39),e._uU(7),e.qZA()()(),e.TgZ(8,"div",40)(9,"div",41)(10,"div",42)(11,"label"),e._uU(12,"Amount JOD"),e.qZA(),e.TgZ(13,"h6",43),e._uU(14),e.ALo(15,"number"),e.qZA()(),e.TgZ(16,"div",44)(17,"label"),e._uU(18,"Currency"),e.qZA(),e.TgZ(19,"h6",43),e._uU(20),e.qZA()(),e.TgZ(21,"div",45)(22,"label"),e._uU(23,"Amount"),e.qZA(),e.TgZ(24,"h6",43),e._uU(25),e.ALo(26,"number"),e.qZA()(),e.TgZ(27,"div",45)(28,"label"),e._uU(29,"Cheque No"),e.qZA(),e.TgZ(30,"h6",43),e._uU(31),e.qZA()()(),e.TgZ(32,"div",41)(33,"div",42)(34,"label"),e._uU(35,"Bank Name"),e.qZA(),e.TgZ(36,"h6",43),e._uU(37),e.qZA()(),e.TgZ(38,"div",42)(39,"label"),e._uU(40,"Date"),e.qZA(),e.TgZ(41,"h6",43),e._uU(42),e.ALo(43,"date"),e.ALo(44,"date"),e.qZA()(),e.TgZ(45,"div",42)(46,"label"),e._uU(47,"Drawer Name"),e.qZA(),e.TgZ(48,"h6",43),e._uU(49),e.qZA()(),e.YNc(50,hn,4,1,"div",46),e.qZA()()(),e.TgZ(51,"div",47)(52,"div",48)(53,"button",49),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.close("Save click"))}),e._uU(54,"Close"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Oqu(null==t.chequeDetails?null:t.chequeDetails.chequeCustomer),e.xp6(7),e.hij("",e.xi3(15,9,null==t.chequeDetails?null:t.chequeDetails.chequeCollectionJod,"2.3-3")," JOD"),e.xp6(6),e.Oqu(null==t.chequeDetails||null==t.chequeDetails.currency[0]?null:t.chequeDetails.currency[0].lookupName),e.xp6(5),e.Oqu(e.xi3(26,12,null==t.chequeDetails?null:t.chequeDetails.collectedAmount,"2.3-3")),e.xp6(6),e.Oqu((null==t.chequeDetails?null:t.chequeDetails.settleChequeNumber)||(null==t.chequeDetails?null:t.chequeDetails.chequeNo)),e.xp6(6),e.Oqu((null==t.chequeDetails||null==t.chequeDetails.settleBank[0]?null:t.chequeDetails.settleBank[0].lookupName)||(null==t.chequeDetails.bank[0]?null:t.chequeDetails.bank[0].lookupName)),e.xp6(5),e.Oqu(e.xi3(43,15,null==t.chequeDetails?null:t.chequeDetails.settleChequeDate,"mediumDate")||e.xi3(44,18,t.chequeDetails.chequeDate,"mediumDate")),e.xp6(7),e.Oqu((null==t.chequeDetails?null:t.chequeDetails.settleDrawerName)||(null==t.chequeDetails?null:t.chequeDetails.chequeDrawerName)),e.xp6(1),e.Q6J("ngIf",null==t.chequeDetails?null:t.chequeDetails.chequeImage)}}let fn=(()=>{class o{constructor(t,n,i,l,r,_){this.fb=t,this._registerSettlementService=n,this._activeRoute=i,this._modalService=l,this._closeRegisterService=r,this._commonService=_,this.pageNo=1,this.dcPageNo=1,this.sort=1,this.searchText="",this.depositedCheques=[],this.dcTotalRecordCount=0,this.loadData=new e.vpe,this.isSettle=!0}ngOnChanges(t){this.response=t.response.currentValue,this.sessionCheques=this.response?.data,this.totalRecordCount=this.response?.totalRecordCount,this.pagin=Math.ceil(this.totalRecordCount/6),this.pages=y.w6(this.pagin)}ngOnInit(){this._activeRoute.params.subscribe(t=>{this.sessionId=t.sessionId,this.getDepositedCheques()})}getDepositedCheques(){this._registerSettlementService.getSessionDepositedCheques(`?sessionId=${this.sessionId}&pageNo=${this.dcPageNo-1}&pageSize=6`).subscribe(n=>{console.log(n),n?.data?.length&&(this.depositedCheques=n?.data,this.dcTotalRecordCount=n?.totalRecordCount)})}dcPageChange(t){this.dcPageNo=t,this.getDepositedCheques()}viewDepositedAttachment(t){this._modalService.open(D.W).componentInstance.file=t}handleChequeDetails(t,n){this.chequeDetails={},this.chequeDetails=t,console.log(this.chequeDetails),this._modalService.open(n,{centered:!0,size:"lg"})}sortByCustomer(){this.sort=3==this.sort?1:2==this.sort?3:2,this.loadData.emit({page:this.pageNo,chequeNumber:this.searchText,sort:this.sort})}sortByChequeNo(){this.sort=5==this.sort?1:4==this.sort?5:4,this.loadData.emit({page:this.pageNo,chequeNumber:this.searchText,sort:this.sort})}sortByAmount(){this.sort=7==this.sort?1:6==this.sort?7:6,this.loadData.emit({page:this.pageNo,chequeNumber:this.searchText,sort:this.sort})}sortByDate(){this.sort=9==this.sort?1:8==this.sort?9:8,this.loadData.emit({page:this.pageNo,chequeNumber:this.searchText,sort:this.sort})}sortByBank(){this.sort=11==this.sort?1:10==this.sort?11:10,this.loadData.emit({page:this.pageNo,chequeNumber:this.searchText,sort:this.sort})}sortByStatus(){this.sort=13==this.sort?1:12==this.sort?13:12,this.loadData.emit({page:this.pageNo,chequeNumber:this.searchText,sort:this.sort})}pageChange(t){this.pageNo=t,this.loadData.emit({page:t,chequeNumber:"",sort:1}),window.scroll(0,0)}removeSearch(){this.searchText="",this.loadData.emit({page:1,chequeNumber:"",sort:1})}searchData(t){const n=t.target.value;n.length>=3?(this.searchText=n,this.loadData.emit({page:1,chequeNumber:n,sort:1})):0==n.length&&(this.searchText="",this.loadData.emit({page:1,chequeNumber:"",sort:1}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.qu),e.Y36(k.D),e.Y36(p.gz),e.Y36(g.FF),e.Y36(O.x),e.Y36(C.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-session-cheques"]],inputs:{response:"response",isSettle:"isSettle"},outputs:{loadData:"loadData"},features:[e.TTD],decls:33,vars:9,consts:[[1,"row"],[1,"col-md-6"],[1,"input-group","search-box"],["type","button","id","button-addon1",1,"btn",3,"click"],[1,"fa-solid","fa-search"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","keyup"],["type","button","id","button-addon1",1,"btn",3,"hidden","click"],[1,"fa-solid","fa-xmark"],[1,"top-details","justify-content-end","pt-3"],[1,"col-md-12"],[1,"card-table","mt-3"],["class","col-md-12",4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],[1,"col-md-12","mt-4"],[1,"fw-600","mb-3"],[1,"card-table","mt-0"],["loading1",""],["sessionChequedetails",""],[1,"table-responsive"],[1,"table"],[1,"py-2"],["scope","col"],[1,"btn",3,"disabled","click"],[1,"fa-solid","fa-arrow-up-long"],[1,"fa-solid","fa-arrow-down-long"],[1,"btn",3,"disabled"],["scope","col",4,"ngIf"],[3,"highlight-tr",4,"ngFor","ngForOf"],[1,"status-tag",3,"ngStyle"],[1,"fa-regular","fa-eye","cursor-pointer",3,"click"],[1,"showing"],[3,"collectionSize","page","maxSize","pageSize","rotate","ellipses","pageChange"],[4,"ngFor","ngForOf"],[1,"redBtn",3,"click"],[1,"fc-modal","p-4","custom-form-input"],[1,"modal-header","p-0","flex-column","align-items-start"],["ngbAutofocus","",1,"modal-title","fw-bolder","pb-1"],[1,"pb-2","fw-600"],[1,"light-gray"],[1,"modal-body","p-0"],[1,"row","mt-3"],[1,"col-sm-4"],[1,"pb-2","fw-600","light-gray"],[1,"col-sm-2"],[1,"col-sm-3"],["class","col-sm-4",4,"ngIf"],[1,"modal-footer","p-4"],[1,"btns-group"],["type","submit",1,"btn","btn-save",3,"click"],[3,"file"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"input",5),e.NdJ("ngModelChange",function(l){return n.searchText=l})("keyup",function(l){return n.searchData(l)}),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(7,"i",7),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",8)(10,"p")(11,"span"),e._uU(12),e.qZA()()()(),e.TgZ(13,"div",9)(14,"div",10)(15,"div",0),e.YNc(16,an,43,31,"div",11),e.TgZ(17,"div",9),e.YNc(18,rn,2,0,"ng-template",null,12,e.W1O),e.qZA()()()(),e.YNc(20,cn,12,9,"ng-container",13),e.TgZ(21,"div",14)(22,"h6",15),e._uU(23,"Deposited Cheques"),e.qZA(),e.TgZ(24,"div",16)(25,"div",0),e.YNc(26,pn,24,2,"div",11),e.TgZ(27,"div",9),e.YNc(28,gn,2,0,"ng-template",null,17,e.W1O),e.qZA()()()(),e.YNc(30,_n,12,9,"ng-container",13),e.qZA(),e.YNc(31,mn,55,21,"ng-template",null,18,e.W1O)),2&t){const i=e.MAs(19),l=e.MAs(29);e.xp6(5),e.Q6J("ngModel",n.searchText),e.xp6(1),e.Q6J("hidden",0==n.searchText.length),e.xp6(6),e.hij(" No. Of Transactions ",n.totalRecordCount,""),e.xp6(4),e.Q6J("ngIf",n.sessionCheques)("ngIfElse",i),e.xp6(4),e.Q6J("ngIf",n.totalRecordCount>6),e.xp6(6),e.Q6J("ngIf",n.depositedCheques)("ngIfElse",l),e.xp6(4),e.Q6J("ngIf",n.dcTotalRecordCount>6)}},dependencies:[a.sg,a.O5,a.PC,c.Fj,c.JJ,c.On,g.N9,T.N,q.w,tn.g,a.JJ,a.uU],styles:[".card-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px}.card-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:0}.btn-right[_ngcontent-%COMP%]{color:#29a073;font-size:20px;padding:0 5px;margin:0 5px;border:0px}.btn-xmark[_ngcontent-%COMP%]{color:#dc3545;font-size:20px;padding:0 5px;margin:0 5px;border:0px}.btn-edit[_ngcontent-%COMP%]{color:#4e9aff;font-size:18px;padding:0 5px;margin:0 5px;border:0px}.btn-undo[_ngcontent-%COMP%]{font-size:14px;font-weight:600;padding:0;border:0px}.btn-undo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.card-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 5px 10px 15px!important}.btn.disabled[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:disabled, fieldset[_ngcontent-%COMP%]:disabled   .btn[_ngcontent-%COMP%]{color:#a9a9a9!important}.highlight-tr[_ngcontent-%COMP%]{background-color:#ffd2d2}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#1b212d}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#1b212d}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#929eae}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:7px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:46px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-weight:500;color:var(--primary);font-size:15px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:20px;height:20px;accent-color:var(--primary)}.modal-body[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]{border:1px solid #2eb93e;border-radius:5px}"]}),o})();const Cn=function(o,s){return{background:o,color:s}};function xn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"date"),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td")(17,"div",24),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"i",25),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(2),_=e.MAs(22);return e.KtG(r.handleBankTransferDetails(l,_))}),e.qZA()()()}if(2&o){const t=s.$implicit;e.xp6(2),e.hij(" ",null==t?null:t.customerName,""),e.xp6(2),e.hij(" ","Settled"==(null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName)&&"edit"==(null==t?null:t.settleActionType)&&(null==t?null:t.settleBankPledgeNumber)||(null==t?null:t.bankPledgeNumber),""),e.xp6(2),e.hij(" ",e.xi3(7,8,null==t?null:t.pledgeAmountJod,"2.3-3")+" JOD",""),e.xp6(3),e.hij(" ",(null==t?null:t.currency)&&(null==t||null==t.currency[0]?null:t.currency[0].lookupName),""),e.xp6(2),e.hij(" ","Settled"==(null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName)&&"edit"==(null==t?null:t.settleActionType)&&e.xi3(12,11,null==t?null:t.settleBankPledgeDate,"mediumDate")||e.xi3(13,14,null==t?null:t.bankPledgeDate,"mediumDate"),""),e.xp6(4),e.hij(" ","Unsettled"==(null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName)&&"edit"==(null==t?null:t.performedAction)&&(null==t||null==t.settleBank[0]?null:t.settleBank[0].lookupName)||(null==t||null==t.bank[0]?null:t.bank[0].lookupName),""),e.xp6(2),e.Q6J("ngStyle",e.WLB(17,Cn,null==t||null==t.statusObj?null:t.statusObj.lookupBGColor,null==t||null==t.statusObj?null:t.statusObj.lookupTextColor)),e.xp6(1),e.hij(" ",null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName," ")}}function bn(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-not-found"),e.qZA())}function Zn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",15)(2,"table",16)(3,"thead")(4,"tr",17)(5,"th")(6,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByCustomer())}),e._uU(7," Customer "),e._UZ(8,"i",19)(9,"i",20),e.qZA()(),e.TgZ(10,"th")(11,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByPledgeNumber())}),e._uU(12," Bank Pledge Number "),e._UZ(13,"i",19)(14,"i",20),e.qZA()(),e.TgZ(15,"th")(16,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByAmount())}),e._uU(17," Pledge Amount "),e._UZ(18,"i",19)(19,"i",20),e.qZA()(),e.TgZ(20,"th",21)(21,"button",22),e._uU(22," Currency "),e.qZA()(),e.TgZ(23,"th")(24,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByDate())}),e._uU(25," Bank Pledge Date "),e._UZ(26,"i",19)(27,"i",20),e.qZA()(),e.TgZ(28,"th")(29,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByBank())}),e._uU(30," Bank Name "),e._UZ(31,"i",19)(32,"i",20),e.qZA()(),e.TgZ(33,"th")(34,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByStatus())}),e._uU(35," Status "),e._UZ(36,"i",19)(37,"i",20),e.qZA()(),e.TgZ(38,"th"),e._uU(39," Action "),e.qZA()()(),e.TgZ(40,"tbody"),e.YNc(41,xn,21,20,"tr",23),e.qZA()()(),e.YNc(42,bn,2,0,"div",13),e.qZA()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(6),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",2==n.sort),e.xp6(1),e.ekj("active",3==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",4==n.sort),e.xp6(1),e.ekj("active",5==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",6==n.sort),e.xp6(1),e.ekj("active",7==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(3),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",8==n.sort),e.xp6(1),e.ekj("active",9==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",10==n.sort),e.xp6(1),e.ekj("active",11==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",12==n.sort),e.xp6(1),e.ekj("active",13==n.sort),e.xp6(4),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",0==(null==t?null:t.length))}}function vn(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}function Tn(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"h6",26),e._uU(3," Showing "),e.TgZ(4,"span"),e._uU(5),e.qZA(),e._uU(6," from "),e.TgZ(7,"span"),e._uU(8),e.qZA(),e._uU(9," data "),e.qZA()(),e.TgZ(10,"div",1)(11,"ngb-pagination",27),e.NdJ("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageNo=i)})("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageChange(i))}),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(5),e.AsE("",6*t.pageNo-5," - ",6==(null==t.sessionData?null:t.sessionData.length)?6*t.pageNo:t.totalRecordsCount,""),e.xp6(3),e.hij(" ",t.totalRecordsCount," "),e.xp6(3),e.Q6J("collectionSize",t.totalRecordsCount)("page",t.pageNo)("maxSize",3)("pageSize",6)("rotate",!0)("ellipses",!1)}}function qn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",41)(1,"label"),e._uU(2,"Attachment"),e.qZA(),e.TgZ(3,"div",42)(4,"label",43),e._uU(5),e.qZA(),e.TgZ(6,"div",44)(7,"img",45),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.viewFile())}),e.qZA(),e.TgZ(8,"a",46),e._UZ(9,"img",47),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(5),e.Oqu(null==t.fileDetails?null:t.fileDetails.fileName),e.xp6(3),e.s9C("href",null==t.fileDetails?null:t.fileDetails.file,e.LSH)}}function An(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"h4",30),e._uU(3,"Bank Pledge Details"),e.qZA(),e.TgZ(4,"h6",31),e._uU(5,"Customer Name: "),e.TgZ(6,"span",32),e._uU(7),e.qZA()()(),e.TgZ(8,"div",33)(9,"div",34)(10,"div",35)(11,"label"),e._uU(12,"Paid Amount"),e.qZA(),e.TgZ(13,"h6",36),e._uU(14),e.ALo(15,"number"),e.qZA()(),e.TgZ(16,"div",35)(17,"label"),e._uU(18,"Currency"),e.qZA(),e.TgZ(19,"h6",36),e._uU(20),e.qZA()(),e.TgZ(21,"div",35)(22,"label"),e._uU(23,"Bank Pledge Number"),e.qZA(),e.TgZ(24,"h6",36),e._uU(25),e.qZA()()(),e.TgZ(26,"div",34)(27,"div",35)(28,"label"),e._uU(29,"Bank Pledge Date"),e.qZA(),e.TgZ(30,"h6",36),e._uU(31),e.ALo(32,"date"),e.ALo(33,"date"),e.qZA()(),e.TgZ(34,"div",35)(35,"label"),e._uU(36,"Bank Name"),e.qZA(),e.TgZ(37,"h6",36),e._uU(38),e.qZA()(),e.YNc(39,qn,10,2,"div",37),e.qZA()()(),e.TgZ(40,"div",38)(41,"div",39)(42,"button",40),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.close("Save click"))}),e._uU(43,"Close"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Oqu(null==t.details?null:t.details.customerName),e.xp6(7),e.Oqu(e.xi3(15,7,null==t.details?null:t.details.pledgeAmountJod,"2.3-3")+" JOD"),e.xp6(6),e.Oqu((null==t.details?null:t.details.currency)&&(null==t.details||null==t.details.currency[0]?null:t.details.currency[0].lookupName)),e.xp6(5),e.Oqu((null==t.details?null:t.details.settleBankPledgeNumber)||(null==t.details?null:t.details.bankPledgeNumber)),e.xp6(6),e.Oqu(e.xi3(32,10,null==t.details?null:t.details.settleBankPledgeDate,"mediumDate")||e.xi3(33,13,null==t.details?null:t.details.bankPledgeDate,"mediumDate")),e.xp6(7),e.Oqu((null==t.details||null==t.details.settleBank[0]?null:t.details.settleBank[0].lookupName)||(null==t.details||null==t.details.bank[0]?null:t.details.bank[0].lookupName)),e.xp6(1),e.Q6J("ngIf",null==t.fileDetails?null:t.fileDetails.fileName)}}let kn=(()=>{class o{constructor(t,n,i,l,r,_,x){this._registerSettlementService=t,this.activeRoute=n,this.closeRegisterService=i,this.sharedService=l,this._modalService=r,this.fb=_,this._collectService=x,this.banks=[],this.payerName="",this.sort=1,this.pageNo=1,this.searchText="",this.fileDetails={fileName:"",file:""},this.loadMainData=new e.vpe}ngOnInit(){this.activeRoute.params.subscribe(t=>{this.sessionId=t.sessionId,this.getSessionBankPledge()})}handleBankTransferDetails(t,n){this.details=t,this.fileDetails.file=t?.pledgeAttachment,this.fileDetails.fileName=this.getFilName(t?.pledgeAttachment),this._modalService.open(n,{size:"lg",centered:!0})}getFilName(t){if(t)return t?.split("/").pop()}viewFile(){this._modalService.open(D.W,{size:"md"}).componentInstance.file=this.fileDetails?.file}getSessionBankPledge(){return this._registerSettlementService.getSessionBankPledge(`?sessionId=${this.sessionId}&search=${this.searchText}&pageNo=${this.pageNo-1}&pageSize=6&sort=${this.sort||1}`).subscribe(n=>{n&&(this.sessionData=n.data,console.log(this.sessionData),this.totalAllRecordsCount=n?.totalAllRecordsCount,this.totalRecordsCount=n?.totalRecordCount)})}pageChange(t){this.pageNo=t,this.getSessionBankPledge(),window.scroll(0,0)}searchData(t){const n=t.target.value;n.length>=1&&(this.searchText=n,this.pageNo=1,this.getSessionBankPledge()),0==n.length&&(this.pageNo=1,this.getSessionBankPledge())}removeSearch(){this.searchText="",this.getSessionBankPledge()}sortByCustomer(){this.sort=3==this.sort?1:2==this.sort?3:2,this.getSessionBankPledge()}sortByPledgeNumber(){this.sort=5==this.sort?1:4==this.sort?5:4,this.getSessionBankPledge()}sortByAmount(){this.sort=7==this.sort?1:6==this.sort?7:6,this.getSessionBankPledge()}sortByDate(){this.sort=9==this.sort?1:8==this.sort?9:8,this.getSessionBankPledge()}sortByBank(){this.sort=11==this.sort?1:10==this.sort?11:10,this.getSessionBankPledge()}sortByStatus(){this.sort=13==this.sort?1:12==this.sort?13:12,this.getSessionBankPledge()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k.D),e.Y36(p.gz),e.Y36(O.x),e.Y36(f.F),e.Y36(g.FF),e.Y36(c.qu),e.Y36(v.k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-session-bank-pledges"]],inputs:{isSettle:"isSettle"},outputs:{loadMainData:"loadMainData"},decls:23,vars:6,consts:[[1,"row"],[1,"col-md-6"],[1,"input-group","search-box"],["type","button","id","button-addon1",1,"btn",3,"click"],[1,"fa-solid","fa-search"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","keyup"],["type","button","id","button-addon1",1,"btn",3,"hidden","click"],[1,"fa-solid","fa-xmark"],[1,"top-details","justify-content-end","pt-3"],[1,"col-md-12"],[1,"card-table","mt-3"],["class","col-md-12",4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],["sessionBankPledgeDetails",""],[1,"table-responsive"],[1,"table"],[1,"py-2"],[1,"btn",3,"disabled","click"],[1,"fa-solid","fa-arrow-up-long"],[1,"fa-solid","fa-arrow-down-long"],["scope","col"],[1,"btn",3,"disabled"],[4,"ngFor","ngForOf"],[1,"status-tag",3,"ngStyle"],[1,"fa-regular","fa-eye","cursor-pointer",3,"click"],[1,"showing"],[3,"collectionSize","page","maxSize","pageSize","rotate","ellipses","pageChange"],[1,"fc-modal","p-4","custom-form-input"],[1,"modal-header","p-0","flex-column","align-items-start"],["ngbAutofocus","",1,"modal-title","fw-bolder","pb-1"],[1,"pb-2","fw-600"],[1,"light-gray"],[1,"modal-body","p-0"],[1,"row","mt-3"],[1,"col-sm-4"],[1,"pb-2","fw-600","light-gray"],["class","col-6",4,"ngIf"],[1,"modal-footer","p-4"],[1,"btns-group"],["type","submit",1,"btn","btn-save",3,"click"],[1,"col-6"],[1,"file-item","d-flex","justify-content-between","align-items-center","py-2","px-3"],[1,"fw-600","green-clr","mb-0"],[1,"d-flex","gap-2","align-items-center"],["height","20","src","assets/images/eye.png",1,"cursor-pointer",3,"click"],["target","_blank","download","",3,"href"],["height","20","src","assets/images/Download.png",1,"cursor-pointer"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"input",5),e.NdJ("ngModelChange",function(l){return n.searchText=l})("keyup",function(l){return n.searchData(l)}),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(7,"i",7),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",8)(10,"p")(11,"span"),e._uU(12),e.qZA()()()(),e.TgZ(13,"div",9)(14,"div",10)(15,"div",0),e.YNc(16,Zn,43,33,"div",11),e.TgZ(17,"div",9),e.YNc(18,vn,2,0,"ng-template",null,12,e.W1O),e.qZA()()()(),e.YNc(20,Tn,12,9,"ng-container",13),e.qZA(),e.YNc(21,An,44,16,"ng-template",null,14,e.W1O)),2&t){const i=e.MAs(19);e.xp6(5),e.Q6J("ngModel",n.searchText),e.xp6(1),e.Q6J("hidden",0==n.searchText.length),e.xp6(6),e.hij("No. Of Pledges ",n.totalRecordsCount,""),e.xp6(4),e.Q6J("ngIf",n.sessionData)("ngIfElse",i),e.xp6(4),e.Q6J("ngIf",n.totalRecordsCount>6)}},dependencies:[a.sg,a.O5,a.PC,c.Fj,c.JJ,c.On,g.N9,T.N,q.w,a.JJ,a.uU],styles:[".card-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px}.card-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:0}.btn-right[_ngcontent-%COMP%]{color:#29a073;font-size:20px;padding:0 5px;margin:0 5px;border:0px}.btn-xmark[_ngcontent-%COMP%]{color:#dc3545;font-size:20px;padding:0 5px;margin:0 5px;border:0px}.btn-edit[_ngcontent-%COMP%]{color:#4e9aff;padding:0 5px;margin:0 5px;border:0px}.btn-undo[_ngcontent-%COMP%]{font-size:14px;font-weight:600;padding:0;border:0px}.btn-undo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.card-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 5px 10px 15px!important}.btn.disabled[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:disabled, fieldset[_ngcontent-%COMP%]:disabled   .btn[_ngcontent-%COMP%]{color:#a9a9a9!important}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#1b212d}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#1b212d}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#929eae}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:7px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:46px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-weight:500;color:var(--primary);font-size:15px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:20px;height:20px;accent-color:var(--primary)}.modal-body[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]{border:1px solid #2eb93e;border-radius:5px}.custom-file[_ngcontent-%COMP%]{border:1px solid #dadada;display:flex;height:46px;border-radius:.375rem;justify-content:center;gap:5px;background:#fff}.file-input__input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.file-input__label[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;align-items:center;border-radius:4px;font-weight:600;color:var(--gray-500);font-size:14px}"]}),o})();const yn=function(o,s){return{background:o,color:s}};function Sn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"date"),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td")(17,"div",24),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"i",25),e.NdJ("click",function(){const l=e.CHM(t).$implicit,r=e.oxw(2),_=e.MAs(22);return e.KtG(r.handleBankTransferDetails(l,_))}),e.qZA()()()}if(2&o){const t=s.$implicit;e.xp6(2),e.hij(" ",null==t?null:t.customerName,""),e.xp6(2),e.hij(" ","Settled"==(null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName)&&"edit"==(null==t?null:t.settleActionType)&&(null==t?null:t.settleTransfereReference)||(null==t?null:t.transfereReference),""),e.xp6(2),e.hij(" ",e.xi3(7,8,null==t?null:t.paidAmountJod,"2.3-3")+" JOD",""),e.xp6(3),e.hij(" ",(null==t?null:t.currency)&&(null==t||null==t.currency[0]?null:t.currency[0].lookupName),""),e.xp6(2),e.hij(" ","Settled"==(null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName)&&"edit"==(null==t?null:t.settleActionType)&&e.xi3(12,11,null==t?null:t.settleTransfereDate,"mediumDate")||e.xi3(13,14,null==t?null:t.transfereDate,"mediumDate"),""),e.xp6(4),e.hij(" ","Unsettled"==(null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName)&&"edit"==(null==t?null:t.settleActionType)&&(null==t||null==t.settleBankAccount?null:t.settleBankAccount.bankNameEnglish)+" - "+(null==t||null==t.settleBankAccount?null:t.settleBankAccount.accountName)+" - "+(null==t||null==t.settleBankAccount?null:t.settleBankAccount.accountNumber)||(null==t||null==t.bankAccount?null:t.bankAccount.bankNameEnglish)+" - "+(null==t||null==t.bankAccount?null:t.bankAccount.accountName)+" - "+(null==t||null==t.bankAccount?null:t.bankAccount.accountNumber)," "),e.xp6(2),e.Q6J("ngStyle",e.WLB(17,yn,null==t||null==t.statusObj?null:t.statusObj.lookupBGColor,null==t||null==t.statusObj?null:t.statusObj.lookupTextColor)),e.xp6(1),e.hij(" ",null==t||null==t.statusObj||null==t.statusObj.translations[0]?null:t.statusObj.translations[0].lookupName," ")}}function Dn(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-not-found"),e.qZA())}function On(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",15)(2,"table",16)(3,"thead")(4,"tr",17)(5,"th")(6,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByCustomer())}),e._uU(7," Customer "),e._UZ(8,"i",19)(9,"i",20),e.qZA()(),e.TgZ(10,"th")(11,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByReference())}),e._uU(12," Transfer Reference "),e._UZ(13,"i",19)(14,"i",20),e.qZA()(),e.TgZ(15,"th")(16,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByAmount())}),e._uU(17," Paid Amount "),e._UZ(18,"i",19)(19,"i",20),e.qZA()(),e.TgZ(20,"th",21)(21,"button",22),e._uU(22," Currency "),e.qZA()(),e.TgZ(23,"th")(24,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByDate())}),e._uU(25," Transfer Date "),e._UZ(26,"i",19)(27,"i",20),e.qZA()(),e.TgZ(28,"th")(29,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByBank())}),e._uU(30," Markazia Bank "),e._UZ(31,"br"),e._uU(32,"Account No. "),e._UZ(33,"i",19)(34,"i",20),e.qZA()(),e.TgZ(35,"th")(36,"button",18),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.sortByStatus())}),e._uU(37," Status "),e._UZ(38,"i",19)(39,"i",20),e.qZA()(),e.TgZ(40,"th"),e._uU(41," Action "),e.qZA()()(),e.TgZ(42,"tbody"),e.YNc(43,Sn,21,20,"tr",23),e.qZA()()(),e.YNc(44,Dn,2,0,"div",13),e.qZA()}if(2&o){const t=s.$implicit,n=e.oxw();e.xp6(6),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",2==n.sort),e.xp6(1),e.ekj("active",3==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",4==n.sort),e.xp6(1),e.ekj("active",5==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",6==n.sort),e.xp6(1),e.ekj("active",7==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(3),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",8==n.sort),e.xp6(1),e.ekj("active",9==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(4),e.ekj("active",10==n.sort),e.xp6(1),e.ekj("active",11==n.sort),e.xp6(2),e.Q6J("disabled",0==(null==t?null:t.length)),e.xp6(2),e.ekj("active",12==n.sort),e.xp6(1),e.ekj("active",13==n.sort),e.xp6(4),e.Q6J("ngForOf",t),e.xp6(1),e.Q6J("ngIf",0==(null==t?null:t.length))}}function Mn(o,s){1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-loading"),e.qZA())}function Un(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"h6",26),e._uU(3," Showing "),e.TgZ(4,"span"),e._uU(5),e.qZA(),e._uU(6," from "),e.TgZ(7,"span"),e._uU(8),e.qZA(),e._uU(9," data "),e.qZA()(),e.TgZ(10,"div",1)(11,"ngb-pagination",27),e.NdJ("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageNo=i)})("pageChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.pageChange(i))}),e.qZA()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(5),e.AsE("",6*t.pageNo-5," - ",6==(null==t.sessionData?null:t.sessionData.length)?6*t.pageNo:t.totalRecordsCount,""),e.xp6(3),e.hij(" ",t.totalRecordsCount," "),e.xp6(3),e.Q6J("collectionSize",t.totalRecordsCount)("page",t.pageNo)("maxSize",3)("pageSize",6)("rotate",!0)("ellipses",!1)}}function Nn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",41)(1,"label"),e._uU(2,"Attachment"),e.qZA(),e.TgZ(3,"div",42)(4,"label",43),e._uU(5),e.qZA(),e.TgZ(6,"div",44)(7,"img",45),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.viewFile())}),e.qZA(),e.TgZ(8,"a",46),e._UZ(9,"img",47),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(5),e.Oqu(null==t.fileDetails?null:t.fileDetails.fileName),e.xp6(3),e.s9C("href",null==t.fileDetails?null:t.fileDetails.file,e.LSH)}}function Pn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"h4",30),e._uU(3,"Bank Transfer Details"),e.qZA(),e.TgZ(4,"h6",31),e._uU(5,"Customer Name: "),e.TgZ(6,"span",32),e._uU(7),e.qZA()()(),e.TgZ(8,"div",33)(9,"div",34)(10,"div",35)(11,"label"),e._uU(12,"Paid Amount"),e.qZA(),e.TgZ(13,"h6",36),e._uU(14),e.ALo(15,"number"),e.qZA()(),e.TgZ(16,"div",35)(17,"label"),e._uU(18,"Currency"),e.qZA(),e.TgZ(19,"h6",36),e._uU(20),e.qZA()(),e.TgZ(21,"div",35)(22,"label"),e._uU(23,"Transfer Reference"),e.qZA(),e.TgZ(24,"h6",36),e._uU(25),e.qZA()()(),e.TgZ(26,"div",34)(27,"div",35)(28,"label"),e._uU(29,"Transfer Date"),e.qZA(),e.TgZ(30,"h6",36),e._uU(31),e.ALo(32,"date"),e.ALo(33,"date"),e.qZA()(),e.TgZ(34,"div",35)(35,"label"),e._uU(36,"Markazia Bank "),e._UZ(37,"br"),e._uU(38,"Account No. "),e.qZA(),e.TgZ(39,"h6",36),e._uU(40),e.qZA()(),e.TgZ(41,"div",35)(42,"label"),e._uU(43,"Payer Name"),e.qZA(),e.TgZ(44,"h6",36),e._uU(45),e.qZA()(),e.YNc(46,Nn,10,2,"div",37),e.qZA()()(),e.TgZ(47,"div",38)(48,"div",39)(49,"button",40),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.close("Save click"))}),e._uU(50,"Close"),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(7),e.Oqu(null==t.details?null:t.details.customerName),e.xp6(7),e.Oqu(e.xi3(15,8,null==t.details?null:t.details.paidAmountJod,"2.3-3")+" JOD"),e.xp6(6),e.Oqu((null==t.details?null:t.details.currency)&&(null==t.details||null==t.details.currency[0]?null:t.details.currency[0].lookupName)),e.xp6(5),e.Oqu((null==t.details?null:t.details.settleTransfereReference)||(null==t.details?null:t.details.transfereReference)),e.xp6(6),e.Oqu(e.xi3(32,11,null==t.details?null:t.details.settleTransfereDate,"mediumDate")||e.xi3(33,14,null==t.details?null:t.details.transfereDate,"mediumDate")),e.xp6(9),e.Oqu((null==t.details?null:t.details.settleBankAccount)&&(null==t.details||null==t.details.settleBankAccount?null:t.details.settleBankAccount.bankNameEnglish)+" - "+(null==t.details||null==t.details.settleBankAccount?null:t.details.settleBankAccount.accountName)+" - "+(null==t.details||null==t.details.settleBankAccount?null:t.details.settleBankAccount.accountNumber)||(null==t.details||null==t.details.bankAccount?null:t.details.bankAccount.bankNameEnglish)+" - "+(null==t.details||null==t.details.bankAccount?null:t.details.bankAccount.accountName)+" - "+(null==t.details||null==t.details.bankAccount?null:t.details.bankAccount.accountNumber)),e.xp6(5),e.Oqu(null==t.details?null:t.details.cardPayerName),e.xp6(1),e.Q6J("ngIf",null==t.fileDetails?null:t.fileDetails.fileName)}}let wn=(()=>{class o{constructor(t,n,i,l,r,_,x){this._registerSettlementService=t,this.activeRoute=n,this.closeRegisterService=i,this.sharedService=l,this._modalService=r,this.fb=_,this._collectService=x,this.banks=[],this.payerName="",this.pageNo=1,this.sort=1,this.searchText="",this.fileDetails={fileName:"",file:""},this.loadMainData=new e.vpe}ngOnInit(){this.activeRoute.params.subscribe(t=>{this.sessionId=t.sessionId,this.getSessionBankTransfere()}),console.log(this.isSettle,"Is setle")}handleBankTransferDetails(t,n){this.details=t,this.fileDetails.file=t?.transfereAttachment,this.fileDetails.fileName=this.getFilName(t?.transfereAttachment),this._modalService.open(n,{size:"lg",centered:!0})}getFilName(t){if(t)return t?.split("/").pop()}viewFile(){this._modalService.open(D.W,{size:"md"}).componentInstance.file=this.fileDetails?.file}getSessionBankTransfere(){this._registerSettlementService.getSessionBankTransfer(`?sessionId=${this.sessionId}&search=${this.searchText}&pageNo=${this.pageNo-1}&pageSize=6&sort=${this.sort||1}`).subscribe(n=>{n&&(this.sessionData=n.data,this.totalAllRecordsCount=n?.totalAllRecordsCount,this.totalRecordsCount=n?.totalRecordCount)})}pageChange(t){this.pageNo=t,this.getSessionBankTransfere(),window.scroll(0,0)}searchData(t){const n=t.target.value;n.length>=1&&(this.searchText=n,this.pageNo=1,this.getSessionBankTransfere()),0==n.length&&(this.pageNo=1,this.getSessionBankTransfere())}removeSearch(){this.searchText="",this.pageNo=1,this.getSessionBankTransfere()}sortByCustomer(){this.sort=3==this.sort?1:2==this.sort?3:2,this.getSessionBankTransfere()}sortByReference(){this.sort=5==this.sort?1:4==this.sort?5:4,this.getSessionBankTransfere()}sortByAmount(){this.sort=7==this.sort?1:6==this.sort?7:6,this.getSessionBankTransfere()}sortByDate(){this.sort=9==this.sort?1:8==this.sort?9:8,this.getSessionBankTransfere()}sortByBank(){this.sort=11==this.sort?1:10==this.sort?11:10,this.getSessionBankTransfere()}sortByStatus(){this.sort=13==this.sort?1:12==this.sort?13:12,this.getSessionBankTransfere()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k.D),e.Y36(p.gz),e.Y36(O.x),e.Y36(f.F),e.Y36(g.FF),e.Y36(c.qu),e.Y36(v.k))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-session-bank-transfer"]],inputs:{isSettle:"isSettle"},outputs:{loadMainData:"loadMainData"},decls:23,vars:6,consts:[[1,"row"],[1,"col-md-6"],[1,"input-group","search-box"],["type","button","id","button-addon1",1,"btn",3,"click"],[1,"fa-solid","fa-search"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","keyup"],["type","button","id","button-addon1",1,"btn",3,"hidden","click"],[1,"fa-solid","fa-xmark"],[1,"top-details","justify-content-end","pt-3"],[1,"col-md-12"],[1,"card-table","mt-3"],["class","col-md-12",4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"],["sessionBankTransferDetails",""],[1,"table-responsive"],[1,"table"],[1,"py-2"],[1,"btn",3,"disabled","click"],[1,"fa-solid","fa-arrow-up-long"],[1,"fa-solid","fa-arrow-down-long"],["scope","col"],[1,"btn",3,"disabled"],[4,"ngFor","ngForOf"],[1,"status-tag",3,"ngStyle"],[1,"fa-regular","fa-eye","cursor-pointer",3,"click"],[1,"showing"],[3,"collectionSize","page","maxSize","pageSize","rotate","ellipses","pageChange"],[1,"fc-modal","p-4","custom-form-input"],[1,"modal-header","p-0","flex-column","align-items-start"],["ngbAutofocus","",1,"modal-title","fw-bolder","pb-1"],[1,"pb-2","fw-600"],[1,"light-gray"],[1,"modal-body","p-0"],[1,"row","mt-3"],[1,"col-sm-4"],[1,"pb-2","fw-600","light-gray"],["class","col-6 mt-3",4,"ngIf"],[1,"modal-footer","p-4"],[1,"btns-group"],["type","submit",1,"btn","btn-save",3,"click"],[1,"col-6","mt-3"],[1,"file-item","d-flex","justify-content-between","align-items-center","py-2","px-3"],[1,"fw-600","green-clr","mb-0"],[1,"d-flex","gap-2","align-items-center"],["height","20","src","assets/images/eye.png",1,"cursor-pointer",3,"click"],["target","_blank","download","",3,"href"],["height","20","src","assets/images/Download.png",1,"cursor-pointer"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"input",5),e.NdJ("ngModelChange",function(l){return n.searchText=l})("keyup",function(l){return n.searchData(l)}),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){return n.removeSearch()}),e._UZ(7,"i",7),e.qZA()()(),e.TgZ(8,"div",1)(9,"div",8)(10,"p")(11,"span"),e._uU(12),e.qZA()()()(),e.TgZ(13,"div",9)(14,"div",10)(15,"div",0),e.YNc(16,On,45,33,"div",11),e.TgZ(17,"div",9),e.YNc(18,Mn,2,0,"ng-template",null,12,e.W1O),e.qZA()()()(),e.YNc(20,Un,12,9,"ng-container",13),e.qZA(),e.YNc(21,Pn,51,17,"ng-template",null,14,e.W1O)),2&t){const i=e.MAs(19);e.xp6(5),e.Q6J("ngModel",n.searchText),e.xp6(1),e.Q6J("hidden",0==n.searchText.length),e.xp6(6),e.hij("No. Of Transfers ",n.totalRecordsCount,""),e.xp6(4),e.Q6J("ngIf",n.sessionData)("ngIfElse",i),e.xp6(4),e.Q6J("ngIf",n.totalRecordsCount>6)}},dependencies:[a.sg,a.O5,a.PC,c.Fj,c.JJ,c.On,g.N9,T.N,q.w,a.JJ,a.uU],styles:[".card-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:15px}.card-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:0}.btn-right[_ngcontent-%COMP%]{color:#29a073;font-size:20px;padding:0 5px;margin:0 5px;border:0px}.btn-xmark[_ngcontent-%COMP%]{color:#dc3545;font-size:20px;padding:0 5px;margin:0 5px;border:0px}.btn-edit[_ngcontent-%COMP%]{color:#4e9aff;padding:0 5px;margin:0 5px;border:0px}.btn-undo[_ngcontent-%COMP%]{font-size:14px;font-weight:600;padding:0;border:0px}.btn-undo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.card-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 5px 10px 15px!important}.btn.disabled[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:disabled, fieldset[_ngcontent-%COMP%]:disabled   .btn[_ngcontent-%COMP%]{color:#a9a9a9!important}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]{margin-bottom:15px;border-bottom:1px solid #ddd}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:16px;color:#1b212d}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:14px;color:#1b212d}.modal-body[_ngcontent-%COMP%]   .modal-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#929eae}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:7px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:46px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-weight:500;color:var(--primary);font-size:15px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:20px;height:20px;accent-color:var(--primary)}.modal-body[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]{border:1px solid #2eb93e;border-radius:5px}.custom-file[_ngcontent-%COMP%]{border:1px solid #dadada;display:flex;height:46px;border-radius:.375rem;justify-content:center;gap:5px;background:#fff}.file-input__input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}.file-input__label[_ngcontent-%COMP%]{cursor:pointer;display:inline-flex;align-items:center;border-radius:4px;font-weight:600;color:var(--gray-500);font-size:14px}"]}),o})();function Jn(o,s){if(1&o&&(e.TgZ(0,"div",39)(1,"div",40)(2,"div",41)(3,"h3"),e._uU(4),e.qZA()()(),e.TgZ(5,"div",31)(6,"div",26)(7,"p"),e._uU(8,"Registered Amount "),e.qZA(),e.TgZ(9,"div",27),e._uU(10),e.ALo(11,"number"),e.qZA()()(),e.TgZ(12,"div",31)(13,"div",26)(14,"p"),e._uU(15,"Refunded Cash "),e.qZA(),e.TgZ(16,"div",27),e._uU(17),e.ALo(18,"number"),e.qZA()()(),e.TgZ(19,"div",31)(20,"div",26)(21,"p"),e._uU(22,"Actual Cashier Amount "),e.qZA(),e.TgZ(23,"div",27),e._uU(24),e.ALo(25,"number"),e.qZA()(),e.TgZ(26,"div",26)(27,"p"),e._uU(28,"Actual Main Fund Amount "),e.qZA(),e.TgZ(29,"div",27),e._uU(30),e.ALo(31,"number"),e.qZA()()(),e.TgZ(32,"div",31)(33,"div",26)(34,"p"),e._uU(35,"Differences"),e.qZA(),e.TgZ(36,"div",42),e._uU(37),e.ALo(38,"number"),e.qZA()()()()),2&o){const t=s.$implicit,n=s.index;e.xp6(4),e.AsE("",n+1,". ",(null==t||null==t.currency[0]?null:t.currency[0].lookupName)||"0"," Currency "),e.xp6(6),e.AsE(" ",e.xi3(11,13,null==t?null:t.registerdAmount,"2.3-3")||"0"," "," "+(null==t||null==t.currency[0]?null:t.currency[0].lookupName)," "),e.xp6(7),e.AsE(" ",e.xi3(18,16,(null==t?null:t.refundedAmount)||0,"2.3-3")," "," "+(null==t||null==t.currency[0]?null:t.currency[0].lookupName)," "),e.xp6(7),e.AsE(" ",e.xi3(25,19,null==t?null:t.actualAmount,"2.3-3")||"0"," "," "+(null==t||null==t.currency[0]?null:t.currency[0].lookupName)," "),e.xp6(6),e.AsE(" ",e.xi3(31,22,null==t?null:t.mainFundActualAmount,"2.3-3")||"0"," "," "+(null==t||null==t.currency[0]?null:t.currency[0].lookupName)," "),e.xp6(6),e.Q6J("ngClass",null!=t&&t.isDifferencePositive?"greenHighlight":"redHighlight"),e.xp6(1),e.AsE(" ",e.xi3(38,25,null==t?null:t.differenceAmount,"2.3-3")||"0"," "," "+(null==t||null==t.currency[0]?null:t.currency[0].lookupName)," ")}}function Bn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-session-cheques",45),e.NdJ("loadData",function(i){e.CHM(t);const l=e.oxw(2);return e.KtG(l.handleLoadData(i))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("response",t.sessionCheques)("isSettle",!1)}}function In(o,s){if(1&o&&(e.TgZ(0,"div",43),e.YNc(1,Bn,1,2,"app-session-cheques",44),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.sessionCheques?null:t.sessionCheques.data)}}function jn(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-session-card-payments",47),e.NdJ("loadCardData",function(i){e.CHM(t);const l=e.oxw(2);return e.KtG(l.handleCardsLoad(i))}),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("response",t.sessionCardsPayments)("isSettle",!1)}}function Fn(o,s){if(1&o&&(e.TgZ(0,"div",43),e.YNc(1,jn,1,2,"app-session-card-payments",46),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.sessionCardsPayments?null:t.sessionCardsPayments.cards)}}function Qn(o,s){1&o&&(e.TgZ(0,"div",43),e._UZ(1,"app-session-bank-transfer",48),e.qZA()),2&o&&(e.xp6(1),e.Q6J("isSettle",!1))}function Rn(o,s){1&o&&(e.TgZ(0,"div",43),e._UZ(1,"app-session-bank-pledges",48),e.qZA()),2&o&&(e.xp6(1),e.Q6J("isSettle",!1))}const Ln=function(o,s){return{background:o,color:s,borderRadius:"5px",padding:"8px 20px",fontWeight:"600"}},Yn=[{path:"",component:Bt},{path:"add-bank-deposit",component:K},{path:"create-deposit",component:ct},{path:"cheque-deposit",component:fe},{path:"deposited-cheques/:depositId",component:Gt},{path:"session/:sessionId",component:(()=>{class o{constructor(t,n,i,l){this.activeRoute=t,this._registerSettlementService=n,this._headerService=i,this._location=l,this.selected=1,this.pageNo=0,this.sort=1,this.searchText="",console.log(this._location.go)}ngOnInit(){this._headerService.setTitle("Unsettled Sessions"),this.activeRoute.params.subscribe(t=>{this.sessionId=t.sessionId,this.getSessionDetailsSettlements()})}goBack(){this._location.back()}getSessionDetailsSettlements(){this._registerSettlementService.getSessionDetailSettlement(this.sessionId).subscribe(t=>{let n=t.data.cashAtClosing.map(i=>({...i,differenceAmount:Math.abs(i.differenceAmount),isDifferencePositive:i?.actualAmount>=i?.registerdAmount}));this.sessionDetails={...t.data,cashAtClosing:n}})}getSessionCheques(){this._registerSettlementService.getSessionCheques(this.sessionId,this.pageNo,this.searchText,this.sort).subscribe(t=>{this.sessionCheques={...t}})}getSessionCardsPayments(){this._registerSettlementService.getSessionCardsPayments(this.sessionId,this.pageNo,this.searchText,this.sort).subscribe(t=>{this.sessionCardsPayments={...t}})}chooseTab(t){this.searchText="",this.pageNo=1,this.selected=t,2==t?this.getSessionCheques():3==t&&this.getSessionCardsPayments()}handleLoadData(t){this.pageNo=t.page,this.searchText=t.chequeNumber,this.sort=t.sort,this.getSessionCheques()}handleCardsLoad(t){this.pageNo=t.page,this.searchText=t.customer,this.sort=t.sort,this.getSessionCardsPayments()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.gz),e.Y36(k.D),e.Y36(Z.r),e.Y36(a.Ye))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-view-session-details"]],decls:174,vars:70,consts:[[1,"card-page"],[1,"row"],[1,"col-md-12"],[1,"card-collect","card-with-details"],[1,"d-flex","align-items-center","justify-content-between"],[1,"card-inner-heading"],[1,"d-flex","flex-column"],[3,"ngStyle"],[1,"gap-3","sd-item"],[1,"dark-gray"],[1,"light-gray"],[1,"heading-text","mb-3"],[1,"tab-nav","d-flex","flex-wrap"],[1,"btn",3,"click"],[1,"d-flex","gap-3","align-items-center"],[1,"imag"],["src","assets/images/wallet.png","alt",""],[1,"info"],["src","assets/images/cheque.png","alt",""],["src","assets/images/card.png","alt",""],["src","assets/images/bt.svg","alt",""],["src","assets/images/bp.svg","alt",""],[1,"tab-content"],[1,"tab-item",3,"hidden"],[1,"card-collect","py-2"],[1,"col-sm-4"],[1,"total-card"],[1,"total"],[1,"card-collect"],[1,"top-details"],["class","row mb-4",4,"ngFor","ngForOf"],[1,"col-sm-3"],["class","tab-item",4,"ngIf"],[1,"col-md-12","mt-3"],[1,"col-md-8"],[1,"form-group","mb-3"],["disabled","","rows","4","minlength","200","maxlength","200",1,"form-control",3,"value"],[1,"btns-group","m-0","my-1"],[1,"btn","btn-save",3,"click"],[1,"row","mb-4"],[1,"col-sm-12"],[1,"curncy"],[1,"total",3,"ngClass"],[1,"tab-item"],[3,"response","isSettle","loadData",4,"ngIf"],[3,"response","isSettle","loadData"],[3,"response","isSettle","loadCardData",4,"ngIf"],[3,"response","isSettle","loadCardData"],[3,"isSettle"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6",5),e._uU(6,"Session Details"),e.qZA(),e.TgZ(7,"div",6)(8,"div",7),e._uU(9),e.qZA()()(),e._UZ(10,"hr"),e.TgZ(11,"div",8)(12,"div",6)(13,"h6",9),e._uU(14,"Session No"),e.qZA(),e.TgZ(15,"h6",10),e._uU(16),e.qZA()(),e.TgZ(17,"div",6)(18,"h6",9),e._uU(19,"Session Date"),e.qZA(),e.TgZ(20,"h6",10),e._uU(21),e.ALo(22,"date"),e.qZA()(),e.TgZ(23,"div",6)(24,"h6",9),e._uU(25,"Session Time"),e.qZA(),e.TgZ(26,"h6",10),e._uU(27),e.ALo(28,"date"),e.qZA()(),e.TgZ(29,"div",6)(30,"h6",9),e._uU(31,"Session Status"),e.qZA(),e.TgZ(32,"h6",10),e._uU(33),e.qZA()(),e.TgZ(34,"div",6)(35,"h6",9),e._uU(36,"Register Name"),e.qZA(),e.TgZ(37,"h6",10),e._uU(38),e.qZA()(),e.TgZ(39,"div",6)(40,"h6",9),e._uU(41,"Employee"),e.qZA(),e.TgZ(42,"h6",10),e._uU(43),e.qZA()(),e.TgZ(44,"div",6)(45,"h6",9),e._uU(46,"Register No"),e.qZA(),e.TgZ(47,"h6",10),e._uU(48),e.qZA()(),e.TgZ(49,"div",6)(50,"h6",9),e._uU(51,"Branch Name"),e.qZA(),e.TgZ(52,"h6",10),e._uU(53),e.qZA()()()()(),e.TgZ(54,"h3",11),e._uU(55,"Register Amounts"),e.qZA(),e.TgZ(56,"div",1)(57,"div",2)(58,"div",12)(59,"button",13),e.NdJ("click",function(){return n.chooseTab(1)}),e.TgZ(60,"div",14)(61,"div",15),e._UZ(62,"img",16),e.qZA(),e.TgZ(63,"div",17)(64,"p"),e._uU(65," Total Cash "),e.qZA(),e.TgZ(66,"h5"),e._uU(67),e.ALo(68,"number"),e.qZA()()()(),e.TgZ(69,"button",13),e.NdJ("click",function(){return n.chooseTab(2)}),e.TgZ(70,"div",14)(71,"div",15),e._UZ(72,"img",18),e.qZA(),e.TgZ(73,"div",17)(74,"p"),e._uU(75," Total Cheque "),e.qZA(),e.TgZ(76,"h5"),e._uU(77),e.ALo(78,"number"),e.qZA()()()(),e.TgZ(79,"button",13),e.NdJ("click",function(){return n.chooseTab(3)}),e.TgZ(80,"div",14)(81,"div",15),e._UZ(82,"img",19),e.qZA(),e.TgZ(83,"div",17)(84,"p"),e._uU(85," Total Card "),e.qZA(),e.TgZ(86,"h5"),e._uU(87),e.ALo(88,"number"),e.qZA()()()(),e.TgZ(89,"button",13),e.NdJ("click",function(){return n.chooseTab(4)}),e.TgZ(90,"div",14)(91,"div",15),e._UZ(92,"img",20),e.qZA(),e.TgZ(93,"div",17)(94,"p"),e._uU(95," TTL Bank Transfers "),e.qZA(),e.TgZ(96,"h5"),e._uU(97),e.ALo(98,"number"),e.qZA()()()(),e.TgZ(99,"button",13),e.NdJ("click",function(){return n.chooseTab(5)}),e.TgZ(100,"div",14)(101,"div",15),e._UZ(102,"img",21),e.qZA(),e.TgZ(103,"div",17)(104,"p"),e._uU(105," TTL Bank Pledges "),e.qZA(),e.TgZ(106,"h5"),e._uU(107),e.ALo(108,"number"),e.qZA()()()()(),e.TgZ(109,"div",1)(110,"div",2)(111,"div",22)(112,"div",23)(113,"div",1)(114,"div",2)(115,"div",24)(116,"div",1)(117,"div",25)(118,"div",26)(119,"p"),e._uU(120,"Initial Fund"),e.qZA(),e.TgZ(121,"div",27),e._uU(122),e.ALo(123,"number"),e.qZA()()()()()(),e.TgZ(124,"div",2)(125,"div",28)(126,"div",29)(127,"h6",5),e._uU(128," Cash"),e.qZA(),e.TgZ(129,"p")(130,"span"),e._uU(131),e.qZA()()(),e.YNc(132,Jn,39,28,"div",30),e.qZA()(),e.TgZ(133,"div",2)(134,"div",28)(135,"div",29)(136,"h6",5),e._uU(137," Cash Deposited"),e.qZA()(),e.TgZ(138,"div",1)(139,"div",31)(140,"div",26)(141,"p"),e._uU(142,"Deposited Cash "),e.qZA(),e.TgZ(143,"div",27),e._uU(144),e.ALo(145,"number"),e.qZA()()(),e.TgZ(146,"div",31)(147,"div",26)(148,"p"),e._uU(149,"Remaining Cash"),e.qZA(),e.TgZ(150,"div",27),e._uU(151),e.ALo(152,"number"),e.qZA()()()()()()()()(),e.YNc(153,In,2,1,"div",32),e.YNc(154,Fn,2,1,"div",32),e.YNc(155,Qn,2,1,"div",32),e.YNc(156,Rn,2,1,"div",32),e.qZA()(),e.TgZ(157,"div",33)(158,"div",28)(159,"div",1)(160,"div",34)(161,"div",35)(162,"h6",5),e._uU(163,"Closing Notes"),e.qZA(),e._UZ(164,"textarea",36),e.qZA()(),e.TgZ(165,"div",34)(166,"div",35)(167,"h6",5),e._uU(168,"Settlement Notes"),e.qZA(),e._UZ(169,"textarea",36),e.qZA()()()()(),e.TgZ(170,"div",2)(171,"div",37)(172,"button",38),e.NdJ("click",function(){return n.goBack()}),e._uU(173,"Close"),e.qZA()()()()()()()),2&t&&(e.xp6(8),e.Q6J("ngStyle",e.WLB(67,Ln,null==n.sessionDetails||null==n.sessionDetails.statusObj?null:n.sessionDetails.statusObj.lookupBGColor,null==n.sessionDetails||null==n.sessionDetails.statusObj?null:n.sessionDetails.statusObj.lookupTextColor)),e.xp6(1),e.hij(" ",null==n.sessionDetails||null==n.sessionDetails.statusObj||null==n.sessionDetails.statusObj.translations[0]?null:n.sessionDetails.statusObj.translations[0].lookupName," "),e.xp6(7),e.Oqu((null==n.sessionDetails?null:n.sessionDetails.registerSessionId)||"-"),e.xp6(5),e.Oqu(e.xi3(22,37,null==n.sessionDetails?null:n.sessionDetails.createdAt,"mediumDate")||"-"),e.xp6(6),e.Oqu(e.xi3(28,40,null==n.sessionDetails?null:n.sessionDetails.createdAt,"mediumTime")||"-"),e.xp6(6),e.Oqu((null==n.sessionDetails||null==n.sessionDetails.statusObj||null==n.sessionDetails.statusObj.translations[0]?null:n.sessionDetails.statusObj.translations[0].lookupName)||"-"),e.xp6(5),e.Oqu((null==n.sessionDetails||null==n.sessionDetails.register?null:n.sessionDetails.register.registersName)||"-"),e.xp6(5),e.Oqu((null==n.sessionDetails||null==n.sessionDetails.createdBy?null:n.sessionDetails.createdBy.fullName)||"-"),e.xp6(5),e.Oqu((null==n.sessionDetails||null==n.sessionDetails.register?null:n.sessionDetails.register.registerId)||"-"),e.xp6(5),e.Oqu((null==n.sessionDetails||null==n.sessionDetails.branch?null:n.sessionDetails.branch.branchName)||"-"),e.xp6(6),e.ekj("active",1==n.selected),e.xp6(8),e.hij(" ",e.xi3(68,43,(null==n.sessionDetails||null==n.sessionDetails.registerAmounts?null:n.sessionDetails.registerAmounts.totalCash)||0,"2.3-3")," JOD "),e.xp6(2),e.ekj("active",2==n.selected),e.xp6(8),e.hij("",e.xi3(78,46,(null==n.sessionDetails||null==n.sessionDetails.registerAmounts?null:n.sessionDetails.registerAmounts.totalCheques)||0,"2.3-3")," JOD "),e.xp6(2),e.ekj("active",3==n.selected),e.xp6(8),e.hij(" ",e.xi3(88,49,(null==n.sessionDetails||null==n.sessionDetails.registerAmounts?null:n.sessionDetails.registerAmounts.totalCards)||0,"2.3-3")," JOD "),e.xp6(2),e.ekj("active",4==n.selected),e.xp6(8),e.hij(" ",e.xi3(98,52,(null==n.sessionDetails||null==n.sessionDetails.registerAmounts?null:n.sessionDetails.registerAmounts.totalBankTransfere)||0,"2.3-3")," JOD "),e.xp6(2),e.ekj("active",5==n.selected),e.xp6(8),e.hij(" ",e.xi3(108,55,(null==n.sessionDetails||null==n.sessionDetails.registerAmounts?null:n.sessionDetails.registerAmounts.totalBanksPledge)||0,"2.3-3")," JOD "),e.xp6(5),e.Q6J("hidden",1!=n.selected),e.xp6(10),e.hij("",e.xi3(123,58,(null==n.sessionDetails?null:n.sessionDetails.initialFund)||0,"2.3-3")," JOD "),e.xp6(9),e.hij(" No. Of Currencies ",null==n.sessionDetails?null:n.sessionDetails.cashAtClosing.length," "),e.xp6(1),e.Q6J("ngForOf",null==n.sessionDetails?null:n.sessionDetails.cashAtClosing),e.xp6(12),e.hij(" ",e.xi3(145,61,null==n.sessionDetails?null:n.sessionDetails.debositedCash,"2.3-3")," JOD "),e.xp6(7),e.hij(" ",e.xi3(152,64,null==n.sessionDetails?null:n.sessionDetails.remainingCash,"2.3-3")," JOD "),e.xp6(2),e.Q6J("ngIf",2==n.selected),e.xp6(1),e.Q6J("ngIf",3==n.selected),e.xp6(1),e.Q6J("ngIf",4==n.selected),e.xp6(1),e.Q6J("ngIf",5==n.selected),e.xp6(8),e.Q6J("value",null==n.sessionDetails?null:n.sessionDetails.closingNotes),e.xp6(5),e.Q6J("value",null==n.sessionDetails?null:n.sessionDetails.settlementNotes))},dependencies:[a.mk,a.sg,a.O5,a.PC,en,fn,kn,wn,a.JJ,a.uU],styles:[".tab-nav[_ngcontent-%COMP%]{display:flex;gap:30px;margin-bottom:30px}.tab-nav[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{border:1px solid #dc3545;box-shadow:0 15px 25px #0000001a}.tab-nav[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:1px solid #ced5dd;border-radius:10px;padding:15px 20px}.tab-nav[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .imag[_ngcontent-%COMP%]{width:55px;height:55px;background:#f8f8f8;border-radius:50%;display:flex;align-items:center;justify-content:center;padding:10px}.tab-nav[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .imag[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.tab-nav[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{text-align:start}.tab-nav[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;font-weight:500;padding:3px}.tab-nav[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin:0;padding:3px}.actual-amount[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:130px}.error[_ngcontent-%COMP%]{color:#f44336;font-size:14px;padding:5px;display:block;font-weight:500}.nosession[_ngcontent-%COMP%]{text-align:center;padding:60px 30px}"]}),o})()}];let Gn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(Yn),p.Bz]}),o})();var zn=d(21515);let En=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[a.ez,Gn,zn.m]}),o})()},71891:(S,b,d)=>{d.d(b,{W:()=>Z});var a=d(94650),p=d(42953),h=d(36895);function e(m,v){if(1&m&&(a.ynx(0),a._UZ(1,"img",7),a.BQk()),2&m){const g=a.oxw(2);a.xp6(1),a.Q6J("src",g.file,a.LSH)}}function u(m,v){if(1&m&&(a.TgZ(0,"div",8),a._UZ(1,"img",9)(2,"br"),a.TgZ(3,"a",10),a._uU(4,"click to open pdf "),a.qZA()()),2&m){const g=a.oxw(2);a.xp6(3),a.s9C("href",g.file,a.LSH)}}function C(m,v){if(1&m&&(a.ynx(0),a.YNc(1,e,2,1,"ng-container",1),a.YNc(2,u,5,1,"ng-template",null,6,a.W1O),a.BQk()),2&m){const g=a.MAs(3),c=a.oxw();a.xp6(1),a.Q6J("ngIf","png"==c.fileType||"jpeg"==c.fileType||"jpg"==c.fileType)("ngIfElse",g)}}function f(m,v){1&m&&(a.TgZ(0,"p",11),a._uU(1,"No attachemnt..."),a.qZA())}let Z=(()=>{class m{constructor(g){this._activeModal=g,this.fileType=""}ngOnInit(){this.getFileType(this.file)}getFileType(g){this.fileType=g?.split(".").pop()}}return m.\u0275fac=function(g){return new(g||m)(a.Y36(p.Kz))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-view-uploaded-file"]],inputs:{file:"file"},decls:8,vars:2,consts:[[1,"modal-body","p-2"],[4,"ngIf","ngIfElse"],["noFile",""],[1,"flex-end"],[1,"btns-group","my-2","mx-0"],["type","button",1,"btn","btn-save",3,"click"],["pdf",""],[1,"w-100",3,"src"],[1,"d-flex","justify-content-center","flex-column","align-items-center"],["height","80","width","80","src","assets/images/pdf.png","alt",""],["target","_blank",1,"text-decoration-none","text-capitalize",3,"href"],[1,"primary-clr","mx-0","my-3"]],template:function(g,c){if(1&g&&(a.TgZ(0,"div",0),a.YNc(1,C,4,2,"ng-container",1),a.YNc(2,f,2,0,"ng-template",null,2,a.W1O),a.TgZ(4,"div",3)(5,"div",4)(6,"button",5),a.NdJ("click",function(){return c._activeModal.close("Close click")}),a._uU(7," Close "),a.qZA()()()()),2&g){const A=a.MAs(3);a.xp6(1),a.Q6J("ngIf",c.file)("ngIfElse",A)}},dependencies:[h.O5]}),m})()},59442:(S,b,d)=>{d.d(b,{w:()=>p});var a=d(94650);let p=(()=>{class h{}return h.\u0275fac=function(u){return new(u||h)},h.\u0275cmp=a.Xpm({type:h,selectors:[["app-not-found"]],decls:3,vars:0,consts:[[1,"not-found"]],template:function(u,C){1&u&&(a.TgZ(0,"div",0)(1,"p"),a._uU(2," No data to display "),a.qZA()())},styles:[".not-found[_ngcontent-%COMP%]{text-align:center;padding:10%}.not-found[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#c9c9d1;font-size:16px;font-weight:600}"]}),h})()},53823:(S,b,d)=>{d.d(b,{V:()=>p});var a=d(94650);let p=(()=>{class h{constructor(){this.text=""}}return h.\u0275fac=function(u){return new(u||h)},h.\u0275cmp=a.Xpm({type:h,selectors:[["saving-loader"]],inputs:{text:"text"},decls:3,vars:1,consts:[["type","button","disabled","",1,"btn","btn-save","d-flex","align-items-center","gap-2"],[1,"fa-solid","fa-circle-notch","fa-spin"]],template:function(u,C){1&u&&(a.TgZ(0,"button",0),a._uU(1),a._UZ(2,"i",1),a.qZA()),2&u&&(a.xp6(1),a.hij(" ",C.text&&C.text||"Saving",""))}}),h})()},67761:(S,b,d)=>{d.d(b,{g:()=>e});var a=d(71891),p=d(94650),h=d(42953);let e=(()=>{class u{constructor(f){this._modalService=f}ngOnInit(){}fileAction(f){"view"==f&&this.openFileModal()}openFileModal(){this._modalService.open(a.W).componentInstance.file=this.file}getFileType(f){return f?.split("/").pop()}}return u.\u0275fac=function(f){return new(f||u)(p.Y36(h.FF))},u.\u0275cmp=p.Xpm({type:u,selectors:[["view-file"]],inputs:{file:"file",data:"data"},decls:8,vars:1,consts:[[1,"file-item"],[1,"d-flex","gap-3","align-items-center","justify-content-between"],[1,"m-0","green-clr"],[1,"d-flex","gap-2","align-items-center"],[1,"fas","fa-eye","cursor-pointer","gray-500",3,"click"],["target","_blank",3,"href"],[1,"fas","fa-download","green-clr"]],template:function(f,Z){1&f&&(p.TgZ(0,"div",0)(1,"div",1)(2,"label",2),p._uU(3,"Attachment"),p.qZA(),p.TgZ(4,"div",3)(5,"i",4),p.NdJ("click",function(){return Z.fileAction("view")}),p.qZA(),p.TgZ(6,"a",5),p._UZ(7,"i",6),p.qZA()()()()),2&f&&(p.xp6(6),p.s9C("href",Z.file,p.LSH))},styles:[".file-item[_ngcontent-%COMP%]{padding:10px;border-radius:5px;border:1px solid var(--green);background:white;max-width:100%}.file-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{line-height:1;color:green;font-weight:600}"]}),u})()},75706:(S,b,d)=>{d.d(b,{Rr:()=>h,XQ:()=>p,qb:()=>a});var a=(()=>{return(u=a||(a={}))[u.Opened=16001]="Opened",u[u.Unclosed=16002]="Unclosed",u[u.Waiting=16003]="Waiting",u[u.Closed=16004]="Closed",u[u.Partial=16005]="Partial",u[u.Settled=16006]="Settled",u[u.OnHold=16007]="OnHold",u[u.RegisterFullDeposit=16008]="RegisterFullDeposit",u[u.PartiallySettled=16009]="PartiallySettled",u[u.Active=2001]="Active",a;var u})(),p=(()=>{return(u=p||(p={}))[u.ServicesSalesOrders=7001]="ServicesSalesOrders",u[u.DirectPaymentSalesOrders=7002]="DirectPaymentSalesOrders",u[u.SparePartsSalesOrders=7003]="SparePartsSalesOrders",u[u.OtherRevenues=7004]="OtherRevenues",u[u.CustomerPayments=7005]="CustomerPayments",u[u.BankUndertakingSalesOrders=7006]="BankUndertakingSalesOrders",u[u.InHouseFinancingSalesOrders=7007]="InHouseFinancingSalesOrders",u[u.PromissoryNotes=7008]="PromissoryNotes",p;var u})(),h=(()=>{return(u=h||(h={}))[u.Refunded=33004]="Refunded",h;var u})()}}]);