"use strict";(self.webpackChunkmarkaizaAdmin=self.webpackChunkmarkaizaAdmin||[]).push([[9365],{69365:(N,m,n)=>{n.r(m),n.d(m,{ResetPasswordModule:()=>E});var p=n(36895),d=n(39485),c=n(53396),f=n(50727),s=n(94650),l=n(42953);let u=(()=>{class t{constructor(e,i,a){this.activeModal=e,this.modalService=i,this.router=a}ngOnInit(){console.log(this.name)}login(){this.modalService.dismissAll(),this.router.navigateByUrl("/login")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.Kz),s.Y36(l.FF),s.Y36(d.F0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-modal-reset"]],inputs:{name:"name"},decls:7,vars:0,consts:[[1,"modal-body"],[1,"message"],[1,"fa-regular","fa-circle-check"],[1,"btn",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s._UZ(2,"i",2),s.TgZ(3,"h3"),s._uU(4,"Password reset successfully."),s.qZA(),s.TgZ(5,"button",3),s.NdJ("click",function(){return i.login()}),s._uU(6," Login "),s.qZA()()())},styles:[".message[_ngcontent-%COMP%]{text-align:center;padding:30px 10px}.message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:65px;color:#75b878;margin-bottom:15px;background:#e5ffe6;border-radius:50%;padding:15px}.message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;line-height:38px}.message[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:#dc3545;padding:12px 41px;border-radius:6px;border:1px solid #dc3545;color:#fff;font-weight:600;margin:15px;width:250px;font-size:16px}"]}),t})();var g=n(16518),r=n(24006),h=n(36690),w=n(8672),v=n(92216);function x(t,o){if(1&t){const e=s.EpF();s.TgZ(0,"fa-icon",20),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.showPassword())}),s.qZA()}if(2&t){const e=s.oxw(2);s.Q6J("icon",e.faEye)}}function _(t,o){if(1&t){const e=s.EpF();s.TgZ(0,"fa-icon",20),s.NdJ("click",function(){s.CHM(e);const a=s.oxw(2);return s.KtG(a.showPassword())}),s.qZA()}if(2&t){const e=s.oxw(2);s.Q6J("icon",e.faEyeSlash)}}function P(t,o){1&t&&(s.TgZ(0,"span",22),s._uU(1," This element is required, please fill."),s.qZA())}function Z(t,o){1&t&&(s.TgZ(0,"div")(1,"span",22),s._uU(2,"Password cannot be less than 8 characters "),s.qZA()())}function T(t,o){if(1&t&&(s.TgZ(0,"div",21),s.YNc(1,P,2,0,"span",17),s.YNc(2,Z,3,0,"div",7),s.qZA()),2&t){const e=s.oxw(2);s.xp6(1),s.Q6J("ngIf",e.formValid.password.errors.required),s.xp6(1),s.Q6J("ngIf",e.formValid.password.errors.minlength)}}function C(t,o){1&t&&(s.TgZ(0,"span",22),s._uU(1," Password should contain a minimum combination of 1 uppercase letter, 1 lowercase letter, 1 number, and 1 symbol"),s.qZA())}function R(t,o){if(1&t&&(s.TgZ(0,"div",23),s._uU(1),s.qZA()),2&t){const e=s.oxw(2);s.xp6(1),s.hij(" ",e.errorMessage," ")}}function b(t,o){if(1&t){const e=s.EpF();s.TgZ(0,"div")(1,"form",10),s.NdJ("ngSubmit",function(){s.CHM(e);const a=s.oxw();return s.KtG(a.submit())}),s.TgZ(2,"div",11)(3,"label"),s._uU(4,"Password"),s.qZA(),s.TgZ(5,"div"),s._UZ(6,"input",12),s.TgZ(7,"div",13),s.YNc(8,x,1,1,"fa-icon",14),s.YNc(9,_,1,1,"fa-icon",14),s.qZA()(),s.YNc(10,T,3,2,"div",15),s.TgZ(11,"div",16),s.YNc(12,C,2,0,"span",17),s.qZA()(),s.YNc(13,R,2,1,"div",18),s.TgZ(14,"div")(15,"button",19),s._uU(16,"Reset Password"),s.qZA()()()()}if(2&t){const e=s.oxw();s.xp6(1),s.Q6J("formGroup",e.formData),s.xp6(5),s.Q6J("type",e.IsshowPassword?"text":"password"),s.xp6(2),s.Q6J("ngIf",!e.IsshowPassword),s.xp6(1),s.Q6J("ngIf",e.IsshowPassword),s.xp6(1),s.Q6J("ngIf",e.submitted&&e.formValid.password.invalid||e.formValid.password.invalid&&(e.formValid.password.dirty||e.formValid.password.touched)),s.xp6(1),s.Q6J("hidden",e.formData.get("password").value.length<5),s.xp6(1),s.Q6J("ngIf",e.formData.get("password").hasError("strong")),s.xp6(1),s.Q6J("ngIf",e.errorMessage)}}function I(t,o){1&t&&(s.TgZ(0,"div"),s._UZ(1,"br"),s.TgZ(2,"h3",24),s._uU(3," Linked Expired "),s.qZA()())}const M=[{path:"",component:(()=>{class t{constructor(e,i,a,J,S,Y,U){this.authService=e,this.router=i,this.fb=a,this.headerService=J,this.connectionService=S,this.route=Y,this.modalService=U,this.faUser=c.ILF,this.faEye=c.Mdf,this.faEyeSlash=c.Aq,this.IsshowPassword=!1,this.subscription=new f.w0,this.status="ONLINE",this.isConnected=!0}ngOnInit(){this.getData(),this.route.queryParams.subscribe(e=>{this.userId=e.userId,this.TestEmailLinkExpiration()})}getData(){this.formData=this.fb.group({userId:[""],password:[""],passwordConfirm:[""]})}get formValid(){return this.formData.controls}TestEmailLinkExpiration(){this.authService.TestEmailLinkExpiration({},this.userId).subscribe(e=>{1==e.isSuccess?(this.isLinkExpire=!1,console.log(e)):this.isLinkExpire=!0})}submit(){if(this.submitted=!0,this.errorMessage="",this.formData.get("userId").setValue(this.userId),this.formData.get("passwordConfirm").setValue(this.formData.get("password").value),this.formData.invalid)return window.scroll(0,0);this.authService.ResetPassword(this.formData.value).subscribe(e=>{1==e.isSuccess?this.modalService.open(u).componentInstance.name="edit":this.errorMessage=e.Errors[0].ErrorMessageEn})}openModal(){this.modalService.open(u).componentInstance.name="edit"}showPassword(){this.IsshowPassword=0==this.IsshowPassword}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(g.e),s.Y36(d.F0),s.Y36(r.qu),s.Y36(h.r),s.Y36(w.Mo),s.Y36(d.gz),s.Y36(l.FF))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-reset-password"]],decls:16,vars:2,consts:[[1,"page-login"],[1,"container-fluid","px-0","mx-0"],[1,"row","px-0","mx-0"],[1,"col-md-6","col-sm-12","px-0","mx-0"],[1,"card-login"],["src","assets/images/markazia.png","alt","logo"],[1,"log-text"],[4,"ngIf"],[1,"bg-image"],["src","assets/images/loginLogo.png","alt",""],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","password","nsme","password","placeholder","Enter your new password","required","","min","8","max","16","minlength","8","maxlength","16","autocomplete","off",1,"form-control",3,"type"],[1,"passicon"],["class","custom-search-botton",3,"icon","click",4,"ngIf"],["class","ng-dirty",4,"ngIf"],[3,"hidden"],["class","error",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-login"],[1,"custom-search-botton",3,"icon","click"],[1,"ng-dirty"],[1,"error"],["role","alert",1,"alert","alert-danger"],[1,"text-center"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),s._UZ(5,"img",5),s.TgZ(6,"div",6)(7,"h3"),s._uU(8,"Reset Password"),s.qZA(),s.TgZ(9,"p"),s._uU(10,"Choose a new password for your account."),s.qZA()(),s.YNc(11,b,17,8,"div",7),s.YNc(12,I,4,0,"div",7),s.qZA()(),s.TgZ(13,"div",3)(14,"div",8),s._UZ(15,"img",9),s.qZA()()()()()),2&e&&(s.xp6(11),s.Q6J("ngIf",!i.isLinkExpire),s.xp6(1),s.Q6J("ngIf",i.isLinkExpire))},dependencies:[p.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.sg,r.u,v.BN]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[d.Bz.forChild(M),d.Bz]}),t})();var A=n(21515);let E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[p.ez,y,A.m]}),t})()}}]);